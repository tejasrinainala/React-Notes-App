(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function As(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vm={exports:{}},Ds={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Ff=Object.getOwnPropertySymbols,Q0=Object.prototype.hasOwnProperty,Y0=Object.prototype.propertyIsEnumerable;function X0(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function J0(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var ym=J0()?Object.assign:function(t,e){for(var n,r=X0(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)Q0.call(n,o)&&(r[o]=n[o]);if(Ff){i=Ff(n);for(var u=0;u<i.length;u++)Y0.call(n,i[u])&&(r[i[u]]=n[i[u]])}}return r},wm={exports:{}},ue={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gc=ym,ei=60103,_m=60106;ue.Fragment=60107;ue.StrictMode=60108;ue.Profiler=60114;var Em=60109,Sm=60110,km=60112;ue.Suspense=60113;var Cm=60115,bm=60116;if(typeof Symbol=="function"&&Symbol.for){var It=Symbol.for;ei=It("react.element"),_m=It("react.portal"),ue.Fragment=It("react.fragment"),ue.StrictMode=It("react.strict_mode"),ue.Profiler=It("react.profiler"),Em=It("react.provider"),Sm=It("react.context"),km=It("react.forward_ref"),ue.Suspense=It("react.suspense"),Cm=It("react.memo"),bm=It("react.lazy")}var Bf=typeof Symbol=="function"&&Symbol.iterator;function Z0(t){return t===null||typeof t!="object"?null:(t=Bf&&t[Bf]||t["@@iterator"],typeof t=="function"?t:null)}function Ns(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Im={};function ti(t,e,n){this.props=t,this.context=e,this.refs=Im,this.updater=n||Tm}ti.prototype.isReactComponent={};ti.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Ns(85));this.updater.enqueueSetState(this,t,e,"setState")};ti.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pm(){}Pm.prototype=ti.prototype;function Qc(t,e,n){this.props=t,this.context=e,this.refs=Im,this.updater=n||Tm}var Yc=Qc.prototype=new Pm;Yc.constructor=Qc;Gc(Yc,ti.prototype);Yc.isPureReactComponent=!0;var Xc={current:null},Am=Object.prototype.hasOwnProperty,Dm={key:!0,ref:!0,__self:!0,__source:!0};function Nm(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Am.call(e,r)&&!Dm.hasOwnProperty(r)&&(i[r]=e[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var l=Array(u),d=0;d<u;d++)l[d]=arguments[d+2];i.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:ei,type:t,key:s,ref:o,props:i,_owner:Xc.current}}function e1(t,e){return{$$typeof:ei,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Jc(t){return typeof t=="object"&&t!==null&&t.$$typeof===ei}function t1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Uf=/\/+/g;function zu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?t1(""+t.key):e.toString(36)}function Po(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ei:case _m:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+zu(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(Uf,"$&/")+"/"),Po(i,e,n,"",function(d){return d})):i!=null&&(Jc(i)&&(i=e1(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Uf,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){s=t[u];var l=r+zu(s,u);o+=Po(s,e,n,l,i)}else if(l=Z0(t),typeof l=="function")for(t=l.call(t),u=0;!(s=t.next()).done;)s=s.value,l=r+zu(s,u++),o+=Po(s,e,n,l,i);else if(s==="object")throw e=""+t,Error(Ns(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function ro(t,e,n){if(t==null)return t;var r=[],i=0;return Po(t,r,"","",function(s){return e.call(n,s,i++)}),r}function n1(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var Mm={current:null};function an(){var t=Mm.current;if(t===null)throw Error(Ns(321));return t}var r1={ReactCurrentDispatcher:Mm,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Xc,IsSomeRendererActing:{current:!1},assign:Gc};ue.Children={map:ro,forEach:function(t,e,n){ro(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ro(t,function(){e++}),e},toArray:function(t){return ro(t,function(e){return e})||[]},only:function(t){if(!Jc(t))throw Error(Ns(143));return t}};ue.Component=ti;ue.PureComponent=Qc;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r1;ue.cloneElement=function(t,e,n){if(t==null)throw Error(Ns(267,t));var r=Gc({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Xc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(l in e)Am.call(e,l)&&!Dm.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&u!==void 0?u[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){u=Array(l);for(var d=0;d<l;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:ei,type:t.type,key:i,ref:s,props:r,_owner:o}};ue.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:Sm,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:Em,_context:t},t.Consumer=t};ue.createElement=Nm;ue.createFactory=function(t){var e=Nm.bind(null,t);return e.type=t,e};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:km,render:t}};ue.isValidElement=Jc;ue.lazy=function(t){return{$$typeof:bm,_payload:{_status:-1,_result:t},_init:n1}};ue.memo=function(t,e){return{$$typeof:Cm,type:t,compare:e===void 0?null:e}};ue.useCallback=function(t,e){return an().useCallback(t,e)};ue.useContext=function(t,e){return an().useContext(t,e)};ue.useDebugValue=function(){};ue.useEffect=function(t,e){return an().useEffect(t,e)};ue.useImperativeHandle=function(t,e,n){return an().useImperativeHandle(t,e,n)};ue.useLayoutEffect=function(t,e){return an().useLayoutEffect(t,e)};ue.useMemo=function(t,e){return an().useMemo(t,e)};ue.useReducer=function(t,e,n){return an().useReducer(t,e,n)};ue.useRef=function(t){return an().useRef(t)};ue.useState=function(t){return an().useState(t)};ue.version="17.0.2";wm.exports=ue;var De=wm.exports;const Vf=As(De);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1=De,Om=60103;Ds.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var Hf=Symbol.for;Om=Hf("react.element"),Ds.Fragment=Hf("react.fragment")}var s1=i1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o1=Object.prototype.hasOwnProperty,a1={key:!0,ref:!0,__self:!0,__source:!0};function Lm(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)o1.call(e,r)&&!a1.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Om,type:t,key:s,ref:o,props:i,_owner:s1.current}}Ds.jsx=Lm;Ds.jsxs=Lm;vm.exports=Ds;var Me=vm.exports,Rm={exports:{}},Tt={},$m={exports:{}},xm={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();t.unstable_now=function(){return o.now()-u}}if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,d=null,h=function(){if(l!==null)try{var A=t.unstable_now();l(!0,A),l=null}catch(V){throw setTimeout(h,0),V}};e=function(A){l!==null?setTimeout(e,0,A):(l=A,setTimeout(h,0))},n=function(A,V){d=setTimeout(A,V)},r=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var _=window.setTimeout,v=window.clearTimeout;if(typeof console<"u"){var T=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof T!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var I=!1,C=null,y=-1,m=5,g=0;t.unstable_shouldYield=function(){return t.unstable_now()>=g},i=function(){},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):m=0<A?Math.floor(1e3/A):5};var b=new MessageChannel,a=b.port2;b.port1.onmessage=function(){if(C!==null){var A=t.unstable_now();g=A+m;try{C(!0,A)?a.postMessage(null):(I=!1,C=null)}catch(V){throw a.postMessage(null),V}}else I=!1},e=function(A){C=A,I||(I=!0,a.postMessage(null))},n=function(A,V){y=_(function(){A(t.unstable_now())},V)},r=function(){v(y),y=-1}}function f(A,V){var W=A.length;A.push(V);e:for(;;){var re=W-1>>>1,ie=A[re];if(ie!==void 0&&0<w(ie,V))A[re]=V,A[W]=ie,W=re;else break e}}function c(A){return A=A[0],A===void 0?null:A}function p(A){var V=A[0];if(V!==void 0){var W=A.pop();if(W!==V){A[0]=W;e:for(var re=0,ie=A.length;re<ie;){var he=2*(re+1)-1,_e=A[he],j=he+1,L=A[j];if(_e!==void 0&&0>w(_e,W))L!==void 0&&0>w(L,_e)?(A[re]=L,A[j]=W,re=j):(A[re]=_e,A[he]=W,re=he);else if(L!==void 0&&0>w(L,W))A[re]=L,A[j]=W,re=j;else break e}}return V}return null}function w(A,V){var W=A.sortIndex-V.sortIndex;return W!==0?W:A.id-V.id}var E=[],S=[],P=1,R=null,D=3,M=!1,O=!1,k=!1;function N(A){for(var V=c(S);V!==null;){if(V.callback===null)p(S);else if(V.startTime<=A)p(S),V.sortIndex=V.expirationTime,f(E,V);else break;V=c(S)}}function B(A){if(k=!1,N(A),!O)if(c(E)!==null)O=!0,e(U);else{var V=c(S);V!==null&&n(B,V.startTime-A)}}function U(A,V){O=!1,k&&(k=!1,r()),M=!0;var W=D;try{for(N(V),R=c(E);R!==null&&(!(R.expirationTime>V)||A&&!t.unstable_shouldYield());){var re=R.callback;if(typeof re=="function"){R.callback=null,D=R.priorityLevel;var ie=re(R.expirationTime<=V);V=t.unstable_now(),typeof ie=="function"?R.callback=ie:R===c(E)&&p(E),N(V)}else p(E);R=c(E)}if(R!==null)var he=!0;else{var _e=c(S);_e!==null&&n(B,_e.startTime-V),he=!1}return he}finally{R=null,D=W,M=!1}}var se=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){O||M||(O=!0,e(U))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return c(E)},t.unstable_next=function(A){switch(D){case 1:case 2:case 3:var V=3;break;default:V=D}var W=D;D=V;try{return A()}finally{D=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=se,t.unstable_runWithPriority=function(A,V){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=D;D=A;try{return V()}finally{D=W}},t.unstable_scheduleCallback=function(A,V,W){var re=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?re+W:re):W=re,A){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=W+ie,A={id:P++,callback:V,priorityLevel:A,startTime:W,expirationTime:ie,sortIndex:-1},W>re?(A.sortIndex=W,f(S,A),c(E)===null&&A===c(S)&&(k?r():k=!0,n(B,W-re))):(A.sortIndex=ie,f(E,A),O||M||(O=!0,e(U))),A},t.unstable_wrapCallback=function(A){var V=D;return function(){var W=D;D=V;try{return A.apply(this,arguments)}finally{D=W}}}})(xm);$m.exports=xm;var u1=$m.exports;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Na=De,we=ym,Fe=u1;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Na)throw Error(z(227));var zm=new Set,ts={};function or(t,e){Fr(t,e),Fr(t+"Capture",e)}function Fr(t,e){for(ts[t]=e,t=0;t<e.length;t++)zm.add(e[t])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qf=Object.prototype.hasOwnProperty,Wf={},Kf={};function c1(t){return qf.call(Kf,t)?!0:qf.call(Wf,t)?!1:l1.test(t)?Kf[t]=!0:(Wf[t]=!0,!1)}function d1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function f1(t,e,n,r){if(e===null||typeof e>"u"||d1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ut(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){We[t]=new ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];We[e]=new ut(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){We[t]=new ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){We[t]=new ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){We[t]=new ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){We[t]=new ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){We[t]=new ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){We[t]=new ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){We[t]=new ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zc=/[\-:]([a-z])/g;function ed(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zc,ed);We[e]=new ut(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zc,ed);We[e]=new ut(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zc,ed);We[e]=new ut(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){We[t]=new ut(t,1,!1,t.toLowerCase(),null,!1,!1)});We.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){We[t]=new ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function td(t,e,n,r){var i=We.hasOwnProperty(e)?We[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(f1(e,n,i,r)&&(n=null),r||i===null?c1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ar=Na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ai=60103,Un=60106,cn=60107,nd=60108,zi=60114,rd=60109,id=60110,Ma=60112,ji=60113,Vo=60120,Oa=60115,sd=60116,od=60121,ad=60128,jm=60129,ud=60130,Ml=60131;if(typeof Symbol=="function"&&Symbol.for){var ze=Symbol.for;Ai=ze("react.element"),Un=ze("react.portal"),cn=ze("react.fragment"),nd=ze("react.strict_mode"),zi=ze("react.profiler"),rd=ze("react.provider"),id=ze("react.context"),Ma=ze("react.forward_ref"),ji=ze("react.suspense"),Vo=ze("react.suspense_list"),Oa=ze("react.memo"),sd=ze("react.lazy"),od=ze("react.block"),ze("react.scope"),ad=ze("react.opaque.id"),jm=ze("react.debug_trace_mode"),ud=ze("react.offscreen"),Ml=ze("react.legacy_hidden")}var Gf=typeof Symbol=="function"&&Symbol.iterator;function pi(t){return t===null||typeof t!="object"?null:(t=Gf&&t[Gf]||t["@@iterator"],typeof t=="function"?t:null)}var ju;function Di(t){if(ju===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ju=e&&e[1]||""}return`
`+ju+t}var Fu=!1;function io(t,e){if(!t||Fu)return"";Fu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=u);break}}}finally{Fu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Di(t):""}function h1(t){switch(t.tag){case 5:return Di(t.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 2:case 15:return t=io(t.type,!1),t;case 11:return t=io(t.type.render,!1),t;case 22:return t=io(t.type._render,!1),t;case 1:return t=io(t.type,!0),t;default:return""}}function Ir(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cn:return"Fragment";case Un:return"Portal";case zi:return"Profiler";case nd:return"StrictMode";case ji:return"Suspense";case Vo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case id:return(t.displayName||"Context")+".Consumer";case rd:return(t._context.displayName||"Context")+".Provider";case Ma:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Oa:return Ir(t.type);case od:return Ir(t._render);case sd:e=t._payload,t=t._init;try{return Ir(t(e))}catch{}}return null}function Tn(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Fm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function p1(t){var e=Fm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function so(t){t._valueTracker||(t._valueTracker=p1(t))}function Bm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Fm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ho(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ol(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Um(t,e){e=e.checked,e!=null&&td(t,"checked",e,!1)}function Ll(t,e){Um(t,e);var n=Tn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rl(t,e.type,Tn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rl(t,e,n){(e!=="number"||Ho(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function m1(t){var e="";return Na.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function $l(t,e){return t=we({children:void 0},e),(e=m1(e.children))&&(t.children=e),t}function Pr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tn(n)}}function Vm(t,e){var n=Tn(e.value),r=Tn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var zl={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Hm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Hm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var oo,qm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==zl.svg||"innerHTML"in t)t.innerHTML=e;else{for(oo=oo||document.createElement("div"),oo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=oo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ns(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},g1=["Webkit","ms","Moz","O"];Object.keys(Fi).forEach(function(t){g1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fi[e]=Fi[t]})});function Wm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fi.hasOwnProperty(t)&&Fi[t]?(""+e).trim():e+"px"}function Km(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Wm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var v1=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fl(t,e){if(e){if(v1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Bl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ld(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ul=null,Ar=null,Dr=null;function Zf(t){if(t=Os(t)){if(typeof Ul!="function")throw Error(z(280));var e=t.stateNode;e&&(e=ja(e),Ul(t.stateNode,t.type,e))}}function Gm(t){Ar?Dr?Dr.push(t):Dr=[t]:Ar=t}function Qm(){if(Ar){var t=Ar,e=Dr;if(Dr=Ar=null,Zf(t),e)for(t=0;t<e.length;t++)Zf(e[t])}}function cd(t,e){return t(e)}function Ym(t,e,n,r,i){return t(e,n,r,i)}function dd(){}var Xm=cd,Vn=!1,Bu=!1;function fd(){(Ar!==null||Dr!==null)&&(dd(),Qm())}function y1(t,e,n){if(Bu)return t(e,n);Bu=!0;try{return Xm(t,e,n)}finally{Bu=!1,fd()}}function rs(t,e){var n=t.stateNode;if(n===null)return null;var r=ja(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Vl=!1;if(tn)try{var mi={};Object.defineProperty(mi,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",mi,mi),window.removeEventListener("test",mi,mi)}catch{Vl=!1}function w1(t,e,n,r,i,s,o,u,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Bi=!1,qo=null,Wo=!1,Hl=null,_1={onError:function(t){Bi=!0,qo=t}};function E1(t,e,n,r,i,s,o,u,l){Bi=!1,qo=null,w1.apply(_1,arguments)}function S1(t,e,n,r,i,s,o,u,l){if(E1.apply(this,arguments),Bi){if(Bi){var d=qo;Bi=!1,qo=null}else throw Error(z(198));Wo||(Wo=!0,Hl=d)}}function ur(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eh(t){if(ur(t)!==t)throw Error(z(188))}function k1(t){var e=t.alternate;if(!e){if(e=ur(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return eh(i),t;if(s===r)return eh(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Zm(t){if(t=k1(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function th(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var eg,hd,tg,ng,ql=!1,xt=[],pn=null,mn=null,gn=null,is=new Map,ss=new Map,gi=[],nh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wl(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function rh(t,e){switch(t){case"focusin":case"focusout":pn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":is.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(e.pointerId)}}function vi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=Wl(e,n,r,i,s),e!==null&&(e=Os(e),e!==null&&hd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function C1(t,e,n,r,i){switch(e){case"focusin":return pn=vi(pn,t,e,n,r,i),!0;case"dragenter":return mn=vi(mn,t,e,n,r,i),!0;case"mouseover":return gn=vi(gn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return is.set(s,vi(is.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ss.set(s,vi(ss.get(s)||null,t,e,n,r,i)),!0}return!1}function b1(t){var e=Hn(t.target);if(e!==null){var n=ur(e);if(n!==null){if(e=n.tag,e===13){if(e=Jm(n),e!==null){t.blockedOn=e,ng(t.lanePriority,function(){Fe.unstable_runWithPriority(t.priority,function(){tg(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ao(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=Os(n),e!==null&&hd(e),t.blockedOn=n,!1;e.shift()}return!0}function ih(t,e,n){Ao(t)&&n.delete(e)}function T1(){for(ql=!1;0<xt.length;){var t=xt[0];if(t.blockedOn!==null){t=Os(t.blockedOn),t!==null&&eg(t);break}for(var e=t.targetContainers;0<e.length;){var n=vd(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&xt.shift()}pn!==null&&Ao(pn)&&(pn=null),mn!==null&&Ao(mn)&&(mn=null),gn!==null&&Ao(gn)&&(gn=null),is.forEach(ih),ss.forEach(ih)}function yi(t,e){t.blockedOn===e&&(t.blockedOn=null,ql||(ql=!0,Fe.unstable_scheduleCallback(Fe.unstable_NormalPriority,T1)))}function rg(t){function e(i){return yi(i,t)}if(0<xt.length){yi(xt[0],t);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pn!==null&&yi(pn,t),mn!==null&&yi(mn,t),gn!==null&&yi(gn,t),is.forEach(e),ss.forEach(e),n=0;n<gi.length;n++)r=gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gi.length&&(n=gi[0],n.blockedOn===null);)b1(n),n.blockedOn===null&&gi.shift()}function ao(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yr={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionend:ao("Transition","TransitionEnd")},Uu={},ig={};tn&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete yr.animationend.animation,delete yr.animationiteration.animation,delete yr.animationstart.animation),"TransitionEvent"in window||delete yr.transitionend.transition);function La(t){if(Uu[t])return Uu[t];if(!yr[t])return t;var e=yr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ig)return Uu[t]=e[n];return t}var sg=La("animationend"),og=La("animationiteration"),ag=La("animationstart"),ug=La("transitionend"),lg=new Map,pd=new Map,I1=["abort","abort",sg,"animationEnd",og,"animationIteration",ag,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ug,"transitionEnd","waiting","waiting"];function md(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),pd.set(r,e),lg.set(r,i),or(i,[r])}}var P1=Fe.unstable_now;P1();var fe=8;function pr(t){if(1&t)return fe=15,1;if(2&t)return fe=14,2;if(4&t)return fe=13,4;var e=24&t;return e!==0?(fe=12,e):t&32?(fe=11,32):(e=192&t,e!==0?(fe=10,e):t&256?(fe=9,256):(e=3584&t,e!==0?(fe=8,e):t&4096?(fe=7,4096):(e=4186112&t,e!==0?(fe=6,e):(e=62914560&t,e!==0?(fe=5,e):t&67108864?(fe=4,67108864):t&134217728?(fe=3,134217728):(e=805306368&t,e!==0?(fe=2,e):1073741824&t?(fe=1,1073741824):(fe=8,t))))))}function A1(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function D1(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(z(358,t))}}function os(t,e){var n=t.pendingLanes;if(n===0)return fe=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,u=t.pingedLanes;if(s!==0)r=s,i=fe=15;else if(s=n&134217727,s!==0){var l=s&~o;l!==0?(r=pr(l),i=fe):(u&=s,u!==0&&(r=pr(u),i=fe))}else s=n&~o,s!==0?(r=pr(s),i=fe):u!==0&&(r=pr(u),i=fe);if(r===0)return 0;if(r=31-In(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&!(e&o)){if(pr(e),i<=fe)return e;fe=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),i=1<<n,r|=t[n],e&=~i;return r}function cg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ko(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=mr(24&~e),t===0?Ko(10,e):t;case 10:return t=mr(192&~e),t===0?Ko(8,e):t;case 8:return t=mr(3584&~e),t===0&&(t=mr(4186112&~e),t===0&&(t=512)),t;case 2:return e=mr(805306368&~e),e===0&&(e=268435456),e}throw Error(z(358,t))}function mr(t){return t&-t}function Vu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ra(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-In(e),t[e]=n}var In=Math.clz32?Math.clz32:O1,N1=Math.log,M1=Math.LN2;function O1(t){return t===0?32:31-(N1(t)/M1|0)|0}var L1=Fe.unstable_UserBlockingPriority,R1=Fe.unstable_runWithPriority,Do=!0;function $1(t,e,n,r){Vn||dd();var i=gd,s=Vn;Vn=!0;try{Ym(i,t,e,n,r)}finally{(Vn=s)||fd()}}function x1(t,e,n,r){R1(L1,gd.bind(null,t,e,n,r))}function gd(t,e,n,r){if(Do){var i;if((i=(e&4)===0)&&0<xt.length&&-1<nh.indexOf(t))t=Wl(null,t,e,n,r),xt.push(t);else{var s=vd(t,e,n,r);if(s===null)i&&rh(t,r);else{if(i){if(-1<nh.indexOf(t)){t=Wl(s,t,e,n,r),xt.push(t);return}if(C1(s,t,e,n,r))return;rh(t,r)}Sg(t,e,r,null,n)}}}}function vd(t,e,n,r){var i=ld(r);if(i=Hn(i),i!==null){var s=ur(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=Jm(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Sg(t,e,r,i,n),null}var dn=null,yd=null,No=null;function dg(){if(No)return No;var t,e=yd,n=e.length,r,i="value"in dn?dn.value:dn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return No=i.slice(t,1<r?1-r:void 0)}function Mo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uo(){return!0}function sh(){return!1}function yt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?uo:sh,this.isPropagationStopped=sh,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uo)},persist:function(){},isPersistent:uo}),e}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wd=yt(ni),Ms=we({},ni,{view:0,detail:0}),z1=yt(Ms),Hu,qu,wi,$a=we({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_d,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Hu=t.screenX-wi.screenX,qu=t.screenY-wi.screenY):qu=Hu=0,wi=t),Hu)},movementY:function(t){return"movementY"in t?t.movementY:qu}}),oh=yt($a),j1=we({},$a,{dataTransfer:0}),F1=yt(j1),B1=we({},Ms,{relatedTarget:0}),Wu=yt(B1),U1=we({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),V1=yt(U1),H1=we({},ni,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),q1=yt(H1),W1=we({},ni,{data:0}),ah=yt(W1),K1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Q1[t])?!!e[t]:!1}function _d(){return Y1}var X1=we({},Ms,{key:function(t){if(t.key){var e=K1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_d,charCode:function(t){return t.type==="keypress"?Mo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J1=yt(X1),Z1=we({},$a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uh=yt(Z1),ew=we({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_d}),tw=yt(ew),nw=we({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),rw=yt(nw),iw=we({},$a,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),sw=yt(iw),ow=[9,13,27,32],Ed=tn&&"CompositionEvent"in window,Ui=null;tn&&"documentMode"in document&&(Ui=document.documentMode);var aw=tn&&"TextEvent"in window&&!Ui,fg=tn&&(!Ed||Ui&&8<Ui&&11>=Ui),lh=" ",ch=!1;function hg(t,e){switch(t){case"keyup":return ow.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wr=!1;function uw(t,e){switch(t){case"compositionend":return pg(e);case"keypress":return e.which!==32?null:(ch=!0,lh);case"textInput":return t=e.data,t===lh&&ch?null:t;default:return null}}function lw(t,e){if(wr)return t==="compositionend"||!Ed&&hg(t,e)?(t=dg(),No=yd=dn=null,wr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fg&&e.locale!=="ko"?null:e.data;default:return null}}var cw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cw[t.type]:e==="textarea"}function mg(t,e,n,r){Gm(r),e=Go(e,"onChange"),0<e.length&&(n=new wd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vi=null,as=null;function dw(t){wg(t,0)}function xa(t){var e=Er(t);if(Bm(e))return t}function fw(t,e){if(t==="change")return e}var gg=!1;if(tn){var Ku;if(tn){var Gu="oninput"in document;if(!Gu){var fh=document.createElement("div");fh.setAttribute("oninput","return;"),Gu=typeof fh.oninput=="function"}Ku=Gu}else Ku=!1;gg=Ku&&(!document.documentMode||9<document.documentMode)}function hh(){Vi&&(Vi.detachEvent("onpropertychange",vg),as=Vi=null)}function vg(t){if(t.propertyName==="value"&&xa(as)){var e=[];if(mg(e,as,t,ld(t)),t=dw,Vn)t(e);else{Vn=!0;try{cd(t,e)}finally{Vn=!1,fd()}}}}function hw(t,e,n){t==="focusin"?(hh(),Vi=e,as=n,Vi.attachEvent("onpropertychange",vg)):t==="focusout"&&hh()}function pw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xa(as)}function mw(t,e){if(t==="click")return xa(e)}function gw(t,e){if(t==="input"||t==="change")return xa(e)}function vw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _t=typeof Object.is=="function"?Object.is:vw,yw=Object.prototype.hasOwnProperty;function us(t,e){if(_t(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!yw.call(e,n[r])||!_t(t[n[r]],e[n[r]]))return!1;return!0}function ph(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mh(t,e){var n=ph(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ph(n)}}function yg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gh(){for(var t=window,e=Ho();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ho(t.document)}return e}function Kl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var ww=tn&&"documentMode"in document&&11>=document.documentMode,_r=null,Gl=null,Hi=null,Ql=!1;function vh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ql||_r==null||_r!==Ho(r)||(r=_r,"selectionStart"in r&&Kl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hi&&us(Hi,r)||(Hi=r,r=Go(Gl,"onSelect"),0<r.length&&(e=new wd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_r)))}md("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);md("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);md(I1,2);for(var yh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Qu=0;Qu<yh.length;Qu++)pd.set(yh[Qu],0);Fr("onMouseEnter",["mouseout","mouseover"]);Fr("onMouseLeave",["mouseout","mouseover"]);Fr("onPointerEnter",["pointerout","pointerover"]);Fr("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_w=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ni));function wh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,S1(r,e,void 0,t),t.currentTarget=null}function wg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var u=r[o],l=u.instance,d=u.currentTarget;if(u=u.listener,l!==s&&i.isPropagationStopped())break e;wh(i,u,d),s=l}else for(o=0;o<r.length;o++){if(u=r[o],l=u.instance,d=u.currentTarget,u=u.listener,l!==s&&i.isPropagationStopped())break e;wh(i,u,d),s=l}}}if(Wo)throw t=Hl,Wo=!1,Hl=null,t}function pe(t,e){var n=Cg(e),r=t+"__bubble";n.has(r)||(Eg(e,t,2,!1),n.add(r))}var _h="_reactListening"+Math.random().toString(36).slice(2);function _g(t){t[_h]||(t[_h]=!0,zm.forEach(function(e){_w.has(e)||Eh(e,!1,t,null),Eh(e,!0,t,null)}))}function Eh(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument);var o=Cg(s),u=t+"__"+(e?"capture":"bubble");o.has(u)||(e&&(i|=4),Eg(s,t,i,e),o.add(u))}function Eg(t,e,n,r){var i=pd.get(e);switch(i===void 0?2:i){case 0:i=$1;break;case 1:i=x1;break;default:i=gd}n=i.bind(null,e,n,t),i=void 0,!Vl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Hn(u),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}u=u.parentNode}}r=r.return}y1(function(){var d=s,h=ld(n),_=[];e:{var v=lg.get(t);if(v!==void 0){var T=wd,I=t;switch(t){case"keypress":if(Mo(n)===0)break e;case"keydown":case"keyup":T=J1;break;case"focusin":I="focus",T=Wu;break;case"focusout":I="blur",T=Wu;break;case"beforeblur":case"afterblur":T=Wu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=F1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=tw;break;case sg:case og:case ag:T=V1;break;case ug:T=rw;break;case"scroll":T=z1;break;case"wheel":T=sw;break;case"copy":case"cut":case"paste":T=q1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=uh}var C=(e&4)!==0,y=!C&&t==="scroll",m=C?v!==null?v+"Capture":null:v;C=[];for(var g=d,b;g!==null;){b=g;var a=b.stateNode;if(b.tag===5&&a!==null&&(b=a,m!==null&&(a=rs(g,m),a!=null&&C.push(ls(g,a,b)))),y)break;g=g.return}0<C.length&&(v=new T(v,I,null,n,h),_.push({event:v,listeners:C}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",v&&!(e&16)&&(I=n.relatedTarget||n.fromElement)&&(Hn(I)||I[ri]))break e;if((T||v)&&(v=h.window===h?h:(v=h.ownerDocument)?v.defaultView||v.parentWindow:window,T?(I=n.relatedTarget||n.toElement,T=d,I=I?Hn(I):null,I!==null&&(y=ur(I),I!==y||I.tag!==5&&I.tag!==6)&&(I=null)):(T=null,I=d),T!==I)){if(C=oh,a="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(C=uh,a="onPointerLeave",m="onPointerEnter",g="pointer"),y=T==null?v:Er(T),b=I==null?v:Er(I),v=new C(a,g+"leave",T,n,h),v.target=y,v.relatedTarget=b,a=null,Hn(h)===d&&(C=new C(m,g+"enter",I,n,h),C.target=b,C.relatedTarget=y,a=C),y=a,T&&I)t:{for(C=T,m=I,g=0,b=C;b;b=hr(b))g++;for(b=0,a=m;a;a=hr(a))b++;for(;0<g-b;)C=hr(C),g--;for(;0<b-g;)m=hr(m),b--;for(;g--;){if(C===m||m!==null&&C===m.alternate)break t;C=hr(C),m=hr(m)}C=null}else C=null;T!==null&&Sh(_,v,T,C,!1),I!==null&&y!==null&&Sh(_,y,I,C,!0)}}e:{if(v=d?Er(d):window,T=v.nodeName&&v.nodeName.toLowerCase(),T==="select"||T==="input"&&v.type==="file")var f=fw;else if(dh(v))if(gg)f=gw;else{f=pw;var c=hw}else(T=v.nodeName)&&T.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(f=mw);if(f&&(f=f(t,d))){mg(_,f,n,h);break e}c&&c(t,v,d),t==="focusout"&&(c=v._wrapperState)&&c.controlled&&v.type==="number"&&Rl(v,"number",v.value)}switch(c=d?Er(d):window,t){case"focusin":(dh(c)||c.contentEditable==="true")&&(_r=c,Gl=d,Hi=null);break;case"focusout":Hi=Gl=_r=null;break;case"mousedown":Ql=!0;break;case"contextmenu":case"mouseup":case"dragend":Ql=!1,vh(_,n,h);break;case"selectionchange":if(ww)break;case"keydown":case"keyup":vh(_,n,h)}var p;if(Ed)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else wr?hg(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(fg&&n.locale!=="ko"&&(wr||w!=="onCompositionStart"?w==="onCompositionEnd"&&wr&&(p=dg()):(dn=h,yd="value"in dn?dn.value:dn.textContent,wr=!0)),c=Go(d,w),0<c.length&&(w=new ah(w,t,null,n,h),_.push({event:w,listeners:c}),p?w.data=p:(p=pg(n),p!==null&&(w.data=p)))),(p=aw?uw(t,n):lw(t,n))&&(d=Go(d,"onBeforeInput"),0<d.length&&(h=new ah("onBeforeInput","beforeinput",null,n,h),_.push({event:h,listeners:d}),h.data=p))}wg(_,e)})}function ls(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Go(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rs(t,n),s!=null&&r.unshift(ls(t,s,i)),s=rs(t,e),s!=null&&r.push(ls(t,s,i))),t=t.return}return r}function hr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Sh(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var u=n,l=u.alternate,d=u.stateNode;if(l!==null&&l===r)break;u.tag===5&&d!==null&&(u=d,i?(l=rs(n,s),l!=null&&o.unshift(ls(n,l,u))):i||(l=rs(n,s),l!=null&&o.push(ls(n,l,u)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function Qo(){}var Yu=null,Xu=null;function kg(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Yl(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kh=typeof setTimeout=="function"?setTimeout:void 0,Ew=typeof clearTimeout=="function"?clearTimeout:void 0;function Sd(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Nr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function Ch(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ju=0;function Sw(t){return{$$typeof:ad,toString:t,valueOf:t}}var za=Math.random().toString(36).slice(2),fn="__reactFiber$"+za,Yo="__reactProps$"+za,ri="__reactContainer$"+za,bh="__reactEvents$"+za;function Hn(t){var e=t[fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ri]||n[fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ch(t);t!==null;){if(n=t[fn])return n;t=Ch(t)}return e}t=n,n=t.parentNode}return null}function Os(t){return t=t[fn]||t[ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Er(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function ja(t){return t[Yo]||null}function Cg(t){var e=t[bh];return e===void 0&&(e=t[bh]=new Set),e}var Xl=[],Sr=-1;function Ln(t){return{current:t}}function me(t){0>Sr||(t.current=Xl[Sr],Xl[Sr]=null,Sr--)}function ke(t,e){Sr++,Xl[Sr]=t.current,t.current=e}var Pn={},it=Ln(Pn),dt=Ln(!1),er=Pn;function Br(t,e){var n=t.type.contextTypes;if(!n)return Pn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ft(t){return t=t.childContextTypes,t!=null}function Xo(){me(dt),me(it)}function Th(t,e,n){if(it.current!==Pn)throw Error(z(168));ke(it,e),ke(dt,n)}function bg(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(z(108,Ir(e)||"Unknown",i));return we({},n,r)}function Oo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pn,er=it.current,ke(it,t),ke(dt,dt.current),!0}function Ih(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=bg(t,e,er),r.__reactInternalMemoizedMergedChildContext=t,me(dt),me(it),ke(it,t)):me(dt),ke(dt,n)}var kd=null,Yn=null,kw=Fe.unstable_runWithPriority,Cd=Fe.unstable_scheduleCallback,Jl=Fe.unstable_cancelCallback,Cw=Fe.unstable_shouldYield,Ph=Fe.unstable_requestPaint,Zl=Fe.unstable_now,bw=Fe.unstable_getCurrentPriorityLevel,Fa=Fe.unstable_ImmediatePriority,Tg=Fe.unstable_UserBlockingPriority,Ig=Fe.unstable_NormalPriority,Pg=Fe.unstable_LowPriority,Ag=Fe.unstable_IdlePriority,Zu={},Tw=Ph!==void 0?Ph:function(){},Qt=null,Lo=null,el=!1,Ah=Zl(),et=1e4>Ah?Zl:function(){return Zl()-Ah};function Ur(){switch(bw()){case Fa:return 99;case Tg:return 98;case Ig:return 97;case Pg:return 96;case Ag:return 95;default:throw Error(z(332))}}function Dg(t){switch(t){case 99:return Fa;case 98:return Tg;case 97:return Ig;case 96:return Pg;case 95:return Ag;default:throw Error(z(332))}}function tr(t,e){return t=Dg(t),kw(t,e)}function cs(t,e,n){return t=Dg(t),Cd(t,e,n)}function Wt(){if(Lo!==null){var t=Lo;Lo=null,Jl(t)}Ng()}function Ng(){if(!el&&Qt!==null){el=!0;var t=0;try{var e=Qt;tr(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),Qt=null}catch(n){throw Qt!==null&&(Qt=Qt.slice(t+1)),Cd(Fa,Wt),n}finally{el=!1}}}var Iw=ar.ReactCurrentBatchConfig;function Mt(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Jo=Ln(null),Zo=null,kr=null,ea=null;function bd(){ea=kr=Zo=null}function Td(t){var e=Jo.current;me(Jo),t.type._context._currentValue=e}function Mg(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Mr(t,e){Zo=t,ea=kr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ot=!0),t.firstContext=null)}function Ct(t,e){if(ea!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(ea=t,e=1073741823),e={context:t,observedBits:e,next:null},kr===null){if(Zo===null)throw Error(z(308));kr=e,Zo.dependencies={lanes:0,firstContext:e,responders:null}}else kr=kr.next=e;return t._currentValue}var ln=!1;function Id(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Og(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yn(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function Dh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ds(t,e,n,r){var i=t.updateQueue;ln=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var l=u,d=l.next;l.next=null,o===null?s=d:o.next=d,o=l;var h=t.alternate;if(h!==null){h=h.updateQueue;var _=h.lastBaseUpdate;_!==o&&(_===null?h.firstBaseUpdate=d:_.next=d,h.lastBaseUpdate=l)}}if(s!==null){_=i.baseState,o=0,h=d=l=null;do{u=s.lane;var v=s.eventTime;if((r&u)===u){h!==null&&(h=h.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var T=t,I=s;switch(u=e,v=n,I.tag){case 1:if(T=I.payload,typeof T=="function"){_=T.call(v,_,u);break e}_=T;break e;case 3:T.flags=T.flags&-4097|64;case 0:if(T=I.payload,u=typeof T=="function"?T.call(v,_,u):T,u==null)break e;_=we({},_,u);break e;case 2:ln=!0}}s.callback!==null&&(t.flags|=32,u=i.effects,u===null?i.effects=[s]:u.push(s))}else v={eventTime:v,lane:u,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(d=h=v,l=_):h=h.next=v,o|=u;if(s=s.next,s===null){if(u=i.shared.pending,u===null)break;s=u.next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}while(!0);h===null&&(l=_),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=h,Rs|=o,t.lanes=o,t.memoizedState=_}}function Nh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var Lg=new Na.Component().refs;function ta(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ba={isMounted:function(t){return(t=t._reactInternals)?ur(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=mt(),i=wn(t),s=vn(r,i);s.payload=e,n!=null&&(s.callback=n),yn(t,s),_n(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=mt(),i=wn(t),s=vn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),yn(t,s),_n(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=mt(),r=wn(t),i=vn(n,r);i.tag=2,e!=null&&(i.callback=e),yn(t,i),_n(t,r,n)}};function Mh(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!us(n,r)||!us(i,s):!0}function Rg(t,e,n){var r=!1,i=Pn,s=e.contextType;return typeof s=="object"&&s!==null?s=Ct(s):(i=ft(e)?er:it.current,r=e.contextTypes,s=(r=r!=null)?Br(t,i):Pn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ba,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Oh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ba.enqueueReplaceState(e,e.state,null)}function ec(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Lg,Id(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ct(s):(s=ft(e)?er:it.current,i.context=Br(t,s)),ds(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ta(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ba.enqueueReplaceState(i,i.state,null),ds(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var lo=Array.isArray;function _i(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===Lg&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function co(t,e){if(t.type!=="textarea")throw Error(z(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function $g(t){function e(y,m){if(t){var g=y.lastEffect;g!==null?(g.nextEffect=m,y.lastEffect=m):y.firstEffect=y.lastEffect=m,m.nextEffect=null,m.flags=8}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=Dn(y,m),y.index=0,y.sibling=null,y}function s(y,m,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<m?(y.flags=2,m):g):(y.flags=2,m)):m}function o(y){return t&&y.alternate===null&&(y.flags=2),y}function u(y,m,g,b){return m===null||m.tag!==6?(m=sl(g,y.mode,b),m.return=y,m):(m=i(m,g),m.return=y,m)}function l(y,m,g,b){return m!==null&&m.elementType===g.type?(b=i(m,g.props),b.ref=_i(y,m,g),b.return=y,b):(b=zo(g.type,g.key,g.props,null,y.mode,b),b.ref=_i(y,m,g),b.return=y,b)}function d(y,m,g,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=ol(g,y.mode,b),m.return=y,m):(m=i(m,g.children||[]),m.return=y,m)}function h(y,m,g,b,a){return m===null||m.tag!==7?(m=$r(g,y.mode,b,a),m.return=y,m):(m=i(m,g),m.return=y,m)}function _(y,m,g){if(typeof m=="string"||typeof m=="number")return m=sl(""+m,y.mode,g),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ai:return g=zo(m.type,m.key,m.props,null,y.mode,g),g.ref=_i(y,null,m),g.return=y,g;case Un:return m=ol(m,y.mode,g),m.return=y,m}if(lo(m)||pi(m))return m=$r(m,y.mode,g,null),m.return=y,m;co(y,m)}return null}function v(y,m,g,b){var a=m!==null?m.key:null;if(typeof g=="string"||typeof g=="number")return a!==null?null:u(y,m,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ai:return g.key===a?g.type===cn?h(y,m,g.props.children,b,a):l(y,m,g,b):null;case Un:return g.key===a?d(y,m,g,b):null}if(lo(g)||pi(g))return a!==null?null:h(y,m,g,b,null);co(y,g)}return null}function T(y,m,g,b,a){if(typeof b=="string"||typeof b=="number")return y=y.get(g)||null,u(m,y,""+b,a);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ai:return y=y.get(b.key===null?g:b.key)||null,b.type===cn?h(m,y,b.props.children,a,b.key):l(m,y,b,a);case Un:return y=y.get(b.key===null?g:b.key)||null,d(m,y,b,a)}if(lo(b)||pi(b))return y=y.get(g)||null,h(m,y,b,a,null);co(m,b)}return null}function I(y,m,g,b){for(var a=null,f=null,c=m,p=m=0,w=null;c!==null&&p<g.length;p++){c.index>p?(w=c,c=null):w=c.sibling;var E=v(y,c,g[p],b);if(E===null){c===null&&(c=w);break}t&&c&&E.alternate===null&&e(y,c),m=s(E,m,p),f===null?a=E:f.sibling=E,f=E,c=w}if(p===g.length)return n(y,c),a;if(c===null){for(;p<g.length;p++)c=_(y,g[p],b),c!==null&&(m=s(c,m,p),f===null?a=c:f.sibling=c,f=c);return a}for(c=r(y,c);p<g.length;p++)w=T(c,y,p,g[p],b),w!==null&&(t&&w.alternate!==null&&c.delete(w.key===null?p:w.key),m=s(w,m,p),f===null?a=w:f.sibling=w,f=w);return t&&c.forEach(function(S){return e(y,S)}),a}function C(y,m,g,b){var a=pi(g);if(typeof a!="function")throw Error(z(150));if(g=a.call(g),g==null)throw Error(z(151));for(var f=a=null,c=m,p=m=0,w=null,E=g.next();c!==null&&!E.done;p++,E=g.next()){c.index>p?(w=c,c=null):w=c.sibling;var S=v(y,c,E.value,b);if(S===null){c===null&&(c=w);break}t&&c&&S.alternate===null&&e(y,c),m=s(S,m,p),f===null?a=S:f.sibling=S,f=S,c=w}if(E.done)return n(y,c),a;if(c===null){for(;!E.done;p++,E=g.next())E=_(y,E.value,b),E!==null&&(m=s(E,m,p),f===null?a=E:f.sibling=E,f=E);return a}for(c=r(y,c);!E.done;p++,E=g.next())E=T(c,y,p,E.value,b),E!==null&&(t&&E.alternate!==null&&c.delete(E.key===null?p:E.key),m=s(E,m,p),f===null?a=E:f.sibling=E,f=E);return t&&c.forEach(function(P){return e(y,P)}),a}return function(y,m,g,b){var a=typeof g=="object"&&g!==null&&g.type===cn&&g.key===null;a&&(g=g.props.children);var f=typeof g=="object"&&g!==null;if(f)switch(g.$$typeof){case Ai:e:{for(f=g.key,a=m;a!==null;){if(a.key===f){switch(a.tag){case 7:if(g.type===cn){n(y,a.sibling),m=i(a,g.props.children),m.return=y,y=m;break e}break;default:if(a.elementType===g.type){n(y,a.sibling),m=i(a,g.props),m.ref=_i(y,a,g),m.return=y,y=m;break e}}n(y,a);break}else e(y,a);a=a.sibling}g.type===cn?(m=$r(g.props.children,y.mode,b,g.key),m.return=y,y=m):(b=zo(g.type,g.key,g.props,null,y.mode,b),b.ref=_i(y,m,g),b.return=y,y=b)}return o(y);case Un:e:{for(a=g.key;m!==null;){if(m.key===a)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(y,m.sibling),m=i(m,g.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=ol(g,y.mode,b),m.return=y,y=m}return o(y)}if(typeof g=="string"||typeof g=="number")return g=""+g,m!==null&&m.tag===6?(n(y,m.sibling),m=i(m,g),m.return=y,y=m):(n(y,m),m=sl(g,y.mode,b),m.return=y,y=m),o(y);if(lo(g))return I(y,m,g,b);if(pi(g))return C(y,m,g,b);if(f&&co(y,g),typeof g>"u"&&!a)switch(y.tag){case 1:case 22:case 0:case 11:case 15:throw Error(z(152,Ir(y.type)||"Component"))}return n(y,m)}}var na=$g(!0),xg=$g(!1),Ls={},Ft=Ln(Ls),fs=Ln(Ls),hs=Ln(Ls);function qn(t){if(t===Ls)throw Error(z(174));return t}function tc(t,e){switch(ke(hs,e),ke(fs,t),ke(Ft,Ls),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:jl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=jl(e,t)}me(Ft),ke(Ft,e)}function Vr(){me(Ft),me(fs),me(hs)}function Lh(t){qn(hs.current);var e=qn(Ft.current),n=jl(e,t.type);e!==n&&(ke(fs,t),ke(Ft,n))}function Pd(t){fs.current===t&&(me(Ft),me(fs))}var Se=Ln(0);function ra(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xt=null,hn=null,Bt=!1;function zg(t,e){var n=Et(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Rh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function nc(t){if(Bt){var e=hn;if(e){var n=e;if(!Rh(t,e)){if(e=Nr(n.nextSibling),!e||!Rh(t,e)){t.flags=t.flags&-1025|2,Bt=!1,Xt=t;return}zg(Xt,n)}Xt=t,hn=Nr(e.firstChild)}else t.flags=t.flags&-1025|2,Bt=!1,Xt=t}}function $h(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xt=t}function fo(t){if(t!==Xt)return!1;if(!Bt)return $h(t),Bt=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Yl(e,t.memoizedProps))for(e=hn;e;)zg(t,e),e=Nr(e.nextSibling);if($h(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=Nr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=Xt?Nr(t.stateNode.nextSibling):null;return!0}function tl(){hn=Xt=null,Bt=!1}var Or=[];function Ad(){for(var t=0;t<Or.length;t++)Or[t]._workInProgressVersionPrimary=null;Or.length=0}var qi=ar.ReactCurrentDispatcher,kt=ar.ReactCurrentBatchConfig,ps=0,Ie=null,Ye=null,Ue=null,ia=!1,Wi=!1;function lt(){throw Error(z(321))}function Dd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_t(t[n],e[n]))return!1;return!0}function Nd(t,e,n,r,i,s){if(ps=s,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qi.current=t===null||t.memoizedState===null?Aw:Dw,t=n(r,i),Wi){s=0;do{if(Wi=!1,!(25>s))throw Error(z(301));s+=1,Ue=Ye=null,e.updateQueue=null,qi.current=Nw,t=n(r,i)}while(Wi)}if(qi.current=ua,e=Ye!==null&&Ye.next!==null,ps=0,Ue=Ye=Ie=null,ia=!1,e)throw Error(z(300));return t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?Ie.memoizedState=Ue=t:Ue=Ue.next=t,Ue}function lr(){if(Ye===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=Ue===null?Ie.memoizedState:Ue.next;if(e!==null)Ue=e,Ye=t;else{if(t===null)throw Error(z(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},Ue===null?Ie.memoizedState=Ue=t:Ue=Ue.next=t}return Ue}function zt(t,e){return typeof e=="function"?e(t):e}function Ei(t){var e=lr(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Ye,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var u=o=s=null,l=i;do{var d=l.lane;if((ps&d)===d)u!==null&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var h={lane:d,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};u===null?(o=u=h,s=r):u=u.next=h,Ie.lanes|=d,Rs|=d}l=l.next}while(l!==null&&l!==i);u===null?s=r:u.next=o,_t(r,e.memoizedState)||(Ot=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function Si(t){var e=lr(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);_t(s,e.memoizedState)||(Ot=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function xh(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(ps&t)===t)&&(e._workInProgressVersionPrimary=r,Or.push(e))),t)return n(e._source);throw Or.push(e),Error(z(350))}function jg(t,e,n,r){var i=at;if(i===null)throw Error(z(349));var s=e._getVersion,o=s(e._source),u=qi.current,l=u.useState(function(){return xh(i,e,n)}),d=l[1],h=l[0];l=Ue;var _=t.memoizedState,v=_.refs,T=v.getSnapshot,I=_.source;_=_.subscribe;var C=Ie;return t.memoizedState={refs:v,source:e,subscribe:r},u.useEffect(function(){v.getSnapshot=n,v.setSnapshot=d;var y=s(e._source);if(!_t(o,y)){y=n(e._source),_t(h,y)||(d(y),y=wn(C),i.mutableReadLanes|=y&i.pendingLanes),y=i.mutableReadLanes,i.entangledLanes|=y;for(var m=i.entanglements,g=y;0<g;){var b=31-In(g),a=1<<b;m[b]|=y,g&=~a}}},[n,e,r]),u.useEffect(function(){return r(e._source,function(){var y=v.getSnapshot,m=v.setSnapshot;try{m(y(e._source));var g=wn(C);i.mutableReadLanes|=g&i.pendingLanes}catch(b){m(function(){throw b})}})},[e,r]),_t(T,n)&&_t(I,e)&&_t(_,r)||(t={pending:null,dispatch:null,lastRenderedReducer:zt,lastRenderedState:h},t.dispatch=d=Ld.bind(null,Ie,t),l.queue=t,l.baseQueue=null,h=xh(i,e,n),l.memoizedState=l.baseState=h),h}function Fg(t,e,n){var r=lr();return jg(r,t,e,n)}function ki(t){var e=Wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:zt,lastRenderedState:t},t=t.dispatch=Ld.bind(null,Ie,t),[e.memoizedState,t]}function sa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zh(t){var e=Wn();return t={current:t},e.memoizedState=t}function oa(){return lr().memoizedState}function rc(t,e,n,r){var i=Wn();Ie.flags|=t,i.memoizedState=sa(1|e,n,void 0,r===void 0?null:r)}function Md(t,e,n,r){var i=lr();r=r===void 0?null:r;var s=void 0;if(Ye!==null){var o=Ye.memoizedState;if(s=o.destroy,r!==null&&Dd(r,o.deps)){sa(e,n,s,r);return}}Ie.flags|=t,i.memoizedState=sa(1|e,n,s,r)}function jh(t,e){return rc(516,4,t,e)}function aa(t,e){return Md(516,4,t,e)}function Bg(t,e){return Md(4,2,t,e)}function Ug(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vg(t,e,n){return n=n!=null?n.concat([t]):null,Md(4,2,Ug.bind(null,e,t),n)}function Od(){}function Hg(t,e){var n=lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function qg(t,e){var n=lr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Dd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Pw(t,e){var n=Ur();tr(98>n?98:n,function(){t(!0)}),tr(97<n?97:n,function(){var r=kt.transition;kt.transition=1;try{t(!1),e()}finally{kt.transition=r}})}function Ld(t,e,n){var r=mt(),i=wn(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===Ie||o!==null&&o===Ie)Wi=ia=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var u=e.lastRenderedState,l=o(u,n);if(s.eagerReducer=o,s.eagerState=l,_t(l,u))return}catch{}finally{}_n(t,i,r)}}var ua={readContext:Ct,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useOpaqueIdentifier:lt,unstable_isNewReconciler:!1},Aw={readContext:Ct,useCallback:function(t,e){return Wn().memoizedState=[t,e===void 0?null:e],t},useContext:Ct,useEffect:jh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rc(4,2,Ug.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rc(4,2,t,e)},useMemo:function(t,e){var n=Wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Ld.bind(null,Ie,t),[r.memoizedState,t]},useRef:zh,useState:ki,useDebugValue:Od,useDeferredValue:function(t){var e=ki(t),n=e[0],r=e[1];return jh(function(){var i=kt.transition;kt.transition=1;try{r(t)}finally{kt.transition=i}},[t]),n},useTransition:function(){var t=ki(!1),e=t[0];return t=Pw.bind(null,t[1]),zh(t),[t,e]},useMutableSource:function(t,e,n){var r=Wn();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},jg(r,t,e,n)},useOpaqueIdentifier:function(){if(Bt){var t=!1,e=Sw(function(){throw t||(t=!0,n("r:"+(Ju++).toString(36))),Error(z(355))}),n=ki(e)[1];return!(Ie.mode&2)&&(Ie.flags|=516,sa(5,function(){n("r:"+(Ju++).toString(36))},void 0,null)),e}return e="r:"+(Ju++).toString(36),ki(e),e},unstable_isNewReconciler:!1},Dw={readContext:Ct,useCallback:Hg,useContext:Ct,useEffect:aa,useImperativeHandle:Vg,useLayoutEffect:Bg,useMemo:qg,useReducer:Ei,useRef:oa,useState:function(){return Ei(zt)},useDebugValue:Od,useDeferredValue:function(t){var e=Ei(zt),n=e[0],r=e[1];return aa(function(){var i=kt.transition;kt.transition=1;try{r(t)}finally{kt.transition=i}},[t]),n},useTransition:function(){var t=Ei(zt)[0];return[oa().current,t]},useMutableSource:Fg,useOpaqueIdentifier:function(){return Ei(zt)[0]},unstable_isNewReconciler:!1},Nw={readContext:Ct,useCallback:Hg,useContext:Ct,useEffect:aa,useImperativeHandle:Vg,useLayoutEffect:Bg,useMemo:qg,useReducer:Si,useRef:oa,useState:function(){return Si(zt)},useDebugValue:Od,useDeferredValue:function(t){var e=Si(zt),n=e[0],r=e[1];return aa(function(){var i=kt.transition;kt.transition=1;try{r(t)}finally{kt.transition=i}},[t]),n},useTransition:function(){var t=Si(zt)[0];return[oa().current,t]},useMutableSource:Fg,useOpaqueIdentifier:function(){return Si(zt)[0]},unstable_isNewReconciler:!1},Mw=ar.ReactCurrentOwner,Ot=!1;function ct(t,e,n,r){e.child=t===null?xg(e,null,n,r):na(e,t.child,n,r)}function Fh(t,e,n,r,i){n=n.render;var s=e.ref;return Mr(e,i),r=Nd(t,e,n,r,s,i),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Jt(t,e,i)):(e.flags|=1,ct(t,e,r,i),e.child)}function Bh(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!Fd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Wg(t,e,o,r,i,s)):(t=zo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,!(i&s)&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:us,n(i,r)&&t.ref===e.ref)?Jt(t,e,s):(e.flags|=1,t=Dn(o,r),t.ref=e.ref,t.return=e,e.child=t)}function Wg(t,e,n,r,i,s){if(t!==null&&us(t.memoizedProps,r)&&t.ref===e.ref)if(Ot=!1,(s&i)!==0)t.flags&16384&&(Ot=!0);else return e.lanes=t.lanes,Jt(t,e,s);return ic(t,e,n,r,s)}function nl(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},po(e,n);else if(n&1073741824)e.memoizedState={baseLanes:0},po(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},po(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,po(e,r);return ct(t,e,i,n),e.child}function Kg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function ic(t,e,n,r,i){var s=ft(n)?er:it.current;return s=Br(e,s),Mr(e,i),n=Nd(t,e,n,r,s,i),t!==null&&!Ot?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Jt(t,e,i)):(e.flags|=1,ct(t,e,n,i),e.child)}function Uh(t,e,n,r,i){if(ft(n)){var s=!0;Oo(e)}else s=!1;if(Mr(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),Rg(e,n,r),ec(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,u=e.memoizedProps;o.props=u;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ct(d):(d=ft(n)?er:it.current,d=Br(e,d));var h=n.getDerivedStateFromProps,_=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";_||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||l!==d)&&Oh(e,o,r,d),ln=!1;var v=e.memoizedState;o.state=v,ds(e,r,o,i),l=e.memoizedState,u!==r||v!==l||dt.current||ln?(typeof h=="function"&&(ta(e,n,h,r),l=e.memoizedState),(u=ln||Mh(e,n,u,r,v,l,d))?(_||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=u):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,Og(t,e),u=e.memoizedProps,d=e.type===e.elementType?u:Mt(e.type,u),o.props=d,_=e.pendingProps,v=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ct(l):(l=ft(n)?er:it.current,l=Br(e,l));var T=n.getDerivedStateFromProps;(h=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==_||v!==l)&&Oh(e,o,r,l),ln=!1,v=e.memoizedState,o.state=v,ds(e,r,o,i);var I=e.memoizedState;u!==_||v!==I||dt.current||ln?(typeof T=="function"&&(ta(e,n,T,r),I=e.memoizedState),(d=ln||Mh(e,n,d,r,v,I,l))?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=256),r=!1)}return sc(t,e,n,r,s,i)}function sc(t,e,n,r,i,s){Kg(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&Ih(e,n,!1),Jt(t,e,s);r=e.stateNode,Mw.current=e;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=na(e,t.child,null,s),e.child=na(e,null,u,s)):ct(t,e,u,s),e.memoizedState=r.state,i&&Ih(e,n,!0),e.child}function Vh(t){var e=t.stateNode;e.pendingContext?Th(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Th(t,e.context,!1),tc(t,e.containerInfo)}var ho={dehydrated:null,retryLane:0};function Hh(t,e,n){var r=e.pendingProps,i=Se.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),ke(Se,i&1),t===null?(r.fallback!==void 0&&nc(e),t=r.children,i=r.fallback,s?(t=qh(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=ho,t):typeof r.unstable_expectedLoadTime=="number"?(t=qh(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=ho,e.lanes=33554432,t):(n=Bd({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=Kh(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=ho,r):(n=Wh(t,e,r.children,n),e.memoizedState=null,n):s?(r=Kh(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=ho,r):(n=Wh(t,e,r.children,n),e.memoizedState=null,n)}function qh(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},!(i&2)&&s!==null?(s.childLanes=0,s.pendingProps=e):s=Bd(e,i,0,null),n=$r(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function Wh(t,e,n,r){var i=t.child;return t=i.sibling,n=Dn(i,{mode:"visible",children:n}),!(e.mode&2)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function Kh(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var u={mode:"hidden",children:n};return!(s&2)&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=u,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Dn(o,u),t!==null?r=Dn(t,r):(r=$r(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Gh(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Mg(t.return,e)}function rl(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function Qh(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ct(t,e,r.children,n),r=Se.current,r&2)r=r&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Gh(t,n);else if(t.tag===19)Gh(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ke(Se,r),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ra(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rl(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ra(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rl(e,!0,n,null,s,e.lastEffect);break;case"together":rl(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rs|=e.lanes,n&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Dn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var Gg,oc,Qg,Yg;Gg=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oc=function(){};Qg=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qn(Ft.current);var s=null;switch(n){case"input":i=Ol(t,i),r=Ol(t,r),s=[];break;case"option":i=$l(t,i),r=$l(t,r),s=[];break;case"select":i=we({},i,{value:void 0}),r=we({},r,{value:void 0}),s=[];break;case"textarea":i=xl(t,i),r=xl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qo)}Fl(n,r);var o;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ts.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(u=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&l!==u&&(l!=null||u!=null))if(d==="style")if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,u=u?u.__html:void 0,l!=null&&u!==l&&(s=s||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ts.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&pe("scroll",t),s||u===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===ad?l.toString():(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};Yg=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ci(t,e){if(!Bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ow(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ft(e.type)&&Xo(),null;case 3:return Vr(),me(dt),me(it),Ad(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),oc(e),null;case 5:Pd(e);var i=qn(hs.current);if(n=e.type,t!==null&&e.stateNode!=null)Qg(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(z(166));return null}if(t=qn(Ft.current),fo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[fn]=e,r[Yo]=s,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(t=0;t<Ni.length;t++)pe(Ni[t],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Qf(r,s),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},pe("invalid",r);break;case"textarea":Xf(r,s),pe("invalid",r)}Fl(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):ts.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&pe("scroll",r));switch(n){case"input":so(r),Yf(r,s,!0);break;case"textarea":so(r),Jf(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Qo)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===zl.html&&(t=Hm(n)),t===zl.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[fn]=e,t[Yo]=r,Gg(t,e,!1,!1),e.stateNode=t,o=Bl(n,r),n){case"dialog":pe("cancel",t),pe("close",t),i=r;break;case"iframe":case"object":case"embed":pe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ni.length;i++)pe(Ni[i],t);i=r;break;case"source":pe("error",t),i=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),i=r;break;case"details":pe("toggle",t),i=r;break;case"input":Qf(t,r),i=Ol(t,r),pe("invalid",t);break;case"option":i=$l(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=we({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Xf(t,r),i=xl(t,r),pe("invalid",t);break;default:i=r}Fl(n,i);var u=i;for(s in u)if(u.hasOwnProperty(s)){var l=u[s];s==="style"?Km(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qm(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ns(t,l):typeof l=="number"&&ns(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ts.hasOwnProperty(s)?l!=null&&s==="onScroll"&&pe("scroll",t):l!=null&&td(t,s,l,o))}switch(n){case"input":so(t),Yf(t,r,!1);break;case"textarea":so(t),Jf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Pr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Pr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qo)}kg(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)Yg(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));n=qn(hs.current),qn(Ft.current),fo(e)?(r=e.stateNode,n=e.memoizedProps,r[fn]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fn]=e,e.stateNode=r)}return null;case 13:return me(Se),r=e.memoizedState,e.flags&64?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&fo(e):n=t.memoizedState!==null,r&&!n&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||Se.current&1?He===0&&(He=3):((He===0||He===3)&&(He=4),at===null||!(Rs&134217727)&&!(si&134217727)||Lr(at,tt))),(r||n)&&(e.flags|=4),null);case 4:return Vr(),oc(e),t===null&&_g(e.stateNode.containerInfo),null;case 10:return Td(e),null;case 17:return ft(e.type)&&Xo(),null;case 19:if(me(Se),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)Ci(r,!1);else{if(He!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(o=ra(t),o!==null){for(e.flags|=64,Ci(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ke(Se,Se.current&1|2),e.child}t=t.sibling}r.tail!==null&&et()>fc&&(e.flags|=64,s=!0,Ci(r,!1),e.lanes=33554432)}else{if(!s)if(t=ra(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ci(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!Bt)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*et()-r.renderingStartTime>fc&&n!==1073741824&&(e.flags|=64,s=!0,Ci(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=et(),n.sibling=null,e=Se.current,ke(Se,s?e&1|2:e&1),n):null;case 23:case 24:return jd(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(z(156,e.tag))}function Lw(t){switch(t.tag){case 1:ft(t.type)&&Xo();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Vr(),me(dt),me(it),Ad(),e=t.flags,e&64)throw Error(z(285));return t.flags=e&-4097|64,t;case 5:return Pd(t),null;case 13:return me(Se),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return me(Se),null;case 4:return Vr(),null;case 10:return Td(t),null;case 23:case 24:return jd(),null;default:return null}}function Rd(t,e){try{var n="",r=e;do n+=h1(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function ac(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Rw=typeof WeakMap=="function"?WeakMap:Map;function Xg(t,e,n){n=vn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ca||(ca=!0,hc=r),ac(t,e)},n}function Jg(t,e,n){n=vn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return ac(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(jt===null?jt=new Set([this]):jt.add(this),ac(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var $w=typeof WeakSet=="function"?WeakSet:Set;function Yh(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){En(t,n)}else e.current=null}function xw(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Mt(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Sd(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(z(163))}function zw(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,i&4&&i&1&&(av(n,t),Ww(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Mt(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Nh(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Nh(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&kg(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&rg(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(z(163))}function Xh(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=Wm("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Jh(t,e){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(kd,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if(r&4)av(e,n);else{r=e;try{i()}catch(s){En(r,s)}}n=n.next}while(n!==t)}break;case 1:if(Yh(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){En(e,s)}break;case 5:Yh(e);break;case 4:Zg(t,e)}}function Zh(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ep(t){return t.tag===5||t.tag===3||t.tag===4}function tp(t){e:{for(var e=t.return;e!==null;){if(ep(e))break e;e=e.return}throw Error(z(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(z(161))}n.flags&16&&(ns(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||ep(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?uc(t,n,e):lc(t,n,e)}function uc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qo));else if(r!==4&&(t=t.child,t!==null))for(uc(t,e,n),t=t.sibling;t!==null;)uc(t,e,n),t=t.sibling}function lc(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lc(t,e,n),t=t.sibling;t!==null;)lc(t,e,n),t=t.sibling}function Zg(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(z(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,u=n,l=u;;)if(Jh(o,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(o=i,u=n.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(Jh(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function il(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[Yo]=r,t==="input"&&r.type==="radio"&&r.name!=null&&Um(n,r),Bl(t,i),e=Bl(t,r),i=0;i<s.length;i+=2){var o=s[i],u=s[i+1];o==="style"?Km(n,u):o==="dangerouslySetInnerHTML"?qm(n,u):o==="children"?ns(n,u):td(n,o,u,e)}switch(t){case"input":Ll(n,r);break;case"textarea":Vm(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?Pr(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?Pr(n,!!r.multiple,r.defaultValue,!0):Pr(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(z(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,rg(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(zd=et(),Xh(e.child,!0)),np(e);return;case 19:np(e);return;case 17:return;case 23:case 24:Xh(e,e.memoizedState!==null);return}throw Error(z(163))}function np(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $w),e.forEach(function(r){var i=Qw.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function jw(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Fw=Math.ceil,la=ar.ReactCurrentDispatcher,$d=ar.ReactCurrentOwner,X=0,at=null,Le=null,tt=0,nr=0,cc=Ln(0),He=0,Ua=null,ii=0,Rs=0,si=0,xd=0,dc=null,zd=0,fc=1/0;function oi(){fc=et()+500}var H=null,ca=!1,hc=null,jt=null,An=!1,Ki=null,Mi=90,pc=[],mc=[],en=null,Gi=0,gc=null,Ro=-1,Yt=0,$o=0,Qi=null,xo=!1;function mt(){return X&48?et():Ro!==-1?Ro:Ro=et()}function wn(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return Ur()===99?1:2;if(Yt===0&&(Yt=ii),Iw.transition!==0){$o!==0&&($o=dc!==null?dc.pendingLanes:0),t=Yt;var e=4186112&~$o;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Ur(),X&4&&t===98?t=Ko(12,Yt):(t=A1(t),t=Ko(t,Yt)),t}function _n(t,e,n){if(50<Gi)throw Gi=0,gc=null,Error(z(185));if(t=Va(t,e),t===null)return null;Ra(t,e,n),t===at&&(si|=e,He===4&&Lr(t,tt));var r=Ur();e===1?X&8&&!(X&48)?vc(t):(bt(t,n),X===0&&(oi(),Wt())):(!(X&4)||r!==98&&r!==99||(en===null?en=new Set([t]):en.add(t)),bt(t,n)),dc=t}function Va(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function bt(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var u=31-In(o),l=1<<u,d=s[u];if(d===-1){if(!(l&r)||l&i){d=e,pr(l);var h=fe;s[u]=10<=h?d+250:6<=h?d+5e3:-1}}else d<=e&&(t.expiredLanes|=l);o&=~l}if(r=os(t,t===at?tt:0),e=fe,r===0)n!==null&&(n!==Zu&&Jl(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==Zu&&Jl(n)}e===15?(n=vc.bind(null,t),Qt===null?(Qt=[n],Lo=Cd(Fa,Ng)):Qt.push(n),n=Zu):e===14?n=cs(99,vc.bind(null,t)):(n=D1(e),n=cs(n,ev.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function ev(t){if(Ro=-1,$o=Yt=0,X&48)throw Error(z(327));var e=t.callbackNode;if(Rn()&&t.callbackNode!==e)return null;var n=os(t,t===at?tt:0);if(n===0)return null;var r=n,i=X;X|=16;var s=iv();(at!==t||tt!==r)&&(oi(),Rr(t,r));do try{Vw();break}catch(u){rv(t,u)}while(!0);if(bd(),la.current=s,X=i,Le!==null?r=0:(at=null,tt=0,r=He),ii&si)Rr(t,0);else if(r!==0){if(r===2&&(X|=64,t.hydrate&&(t.hydrate=!1,Sd(t.containerInfo)),n=cg(t),n!==0&&(r=Oi(t,n))),r===1)throw e=Ua,Rr(t,0),Lr(t,n),bt(t,et()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(z(345));case 2:Fn(t);break;case 3:if(Lr(t,n),(n&62914560)===n&&(r=zd+500-et(),10<r)){if(os(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){mt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=kh(Fn.bind(null,t),r);break}Fn(t);break;case 4:if(Lr(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-In(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Fw(n/1960))-n,10<n){t.timeoutHandle=kh(Fn.bind(null,t),n);break}Fn(t);break;case 5:Fn(t);break;default:throw Error(z(329))}}return bt(t,et()),t.callbackNode===e?ev.bind(null,t):null}function Lr(t,e){for(e&=~xd,e&=~si,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function vc(t){if(X&48)throw Error(z(327));if(Rn(),t===at&&t.expiredLanes&tt){var e=tt,n=Oi(t,e);ii&si&&(e=os(t,e),n=Oi(t,e))}else e=os(t,0),n=Oi(t,e);if(t.tag!==0&&n===2&&(X|=64,t.hydrate&&(t.hydrate=!1,Sd(t.containerInfo)),e=cg(t),e!==0&&(n=Oi(t,e))),n===1)throw n=Ua,Rr(t,0),Lr(t,e),bt(t,et()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fn(t),bt(t,et()),null}function Bw(){if(en!==null){var t=en;en=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,bt(e,et())})}Wt()}function tv(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(oi(),Wt())}}function nv(t,e){var n=X;X&=-2,X|=8;try{return t(e)}finally{X=n,X===0&&(oi(),Wt())}}function po(t,e){ke(cc,nr),nr|=e,ii|=e}function jd(){nr=cc.current,me(cc)}function Rr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ew(n)),Le!==null)for(n=Le.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xo();break;case 3:Vr(),me(dt),me(it),Ad();break;case 5:Pd(r);break;case 4:Vr();break;case 13:me(Se);break;case 19:me(Se);break;case 10:Td(r);break;case 23:case 24:jd()}n=n.return}at=t,Le=Dn(t.current,null),tt=nr=ii=e,He=0,Ua=null,xd=si=Rs=0}function rv(t,e){do{var n=Le;try{if(bd(),qi.current=ua,ia){for(var r=Ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ia=!1}if(ps=0,Ue=Ye=Ie=null,Wi=!1,$d.current=null,n===null||n.return===null){He=1,Ua=e,Le=null;break}e:{var s=t,o=n.return,u=n,l=e;if(e=tt,u.flags|=2048,u.firstEffect=u.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l;if(!(u.mode&2)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var _=(Se.current&1)!==0,v=o;do{var T;if(T=v.tag===13){var I=v.memoizedState;if(I!==null)T=I.dehydrated!==null;else{var C=v.memoizedProps;T=C.fallback===void 0?!1:C.unstable_avoidThisFallback!==!0?!0:!_}}if(T){var y=v.updateQueue;if(y===null){var m=new Set;m.add(d),v.updateQueue=m}else y.add(d);if(!(v.mode&2)){if(v.flags|=64,u.flags|=16384,u.flags&=-2981,u.tag===1)if(u.alternate===null)u.tag=17;else{var g=vn(-1,1);g.tag=2,yn(u,g)}u.lanes|=1;break e}l=void 0,u=e;var b=s.pingCache;if(b===null?(b=s.pingCache=new Rw,l=new Set,b.set(d,l)):(l=b.get(d),l===void 0&&(l=new Set,b.set(d,l))),!l.has(u)){l.add(u);var a=Gw.bind(null,s,d,u);d.then(a,a)}v.flags|=4096,v.lanes=e;break e}v=v.return}while(v!==null);l=Error((Ir(u.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}He!==5&&(He=2),l=Rd(l,u),v=o;do{switch(v.tag){case 3:s=l,v.flags|=4096,e&=-e,v.lanes|=e;var f=Xg(v,s,e);Dh(v,f);break e;case 1:s=l;var c=v.type,p=v.stateNode;if(!(v.flags&64)&&(typeof c.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(jt===null||!jt.has(p)))){v.flags|=4096,e&=-e,v.lanes|=e;var w=Jg(v,s,e);Dh(v,w);break e}}v=v.return}while(v!==null)}ov(n)}catch(E){e=E,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function iv(){var t=la.current;return la.current=ua,t===null?ua:t}function Oi(t,e){var n=X;X|=16;var r=iv();at===t&&tt===e||Rr(t,e);do try{Uw();break}catch(i){rv(t,i)}while(!0);if(bd(),X=n,la.current=r,Le!==null)throw Error(z(261));return at=null,tt=0,He}function Uw(){for(;Le!==null;)sv(Le)}function Vw(){for(;Le!==null&&!Cw();)sv(Le)}function sv(t){var e=uv(t.alternate,t,nr);t.memoizedProps=t.pendingProps,e===null?ov(t):Le=e,$d.current=null}function ov(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&2048){if(n=Lw(e),n!==null){n.flags&=2047,Le=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(n=Ow(n,e,nr),n!==null){Le=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||nr&1073741824||!(n.mode&4)){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);He===0&&(He=5)}function Fn(t){var e=Ur();return tr(99,Hw.bind(null,t,e)),null}function Hw(t,e){do Rn();while(Ki!==null);if(X&48)throw Error(z(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,u=t.expirationTimes;0<s;){var l=31-In(s),d=1<<l;i[l]=0,o[l]=-1,u[l]=-1,s&=~d}if(en!==null&&!(r&24)&&en.has(t)&&en.delete(t),t===at&&(Le=at=null,tt=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=X,X|=32,$d.current=null,Yu=Do,o=gh(),Kl(o)){if("selectionStart"in o)u={start:o.selectionStart,end:o.selectionEnd};else e:if(u=(u=o.ownerDocument)&&u.defaultView||window,(d=u.getSelection&&u.getSelection())&&d.rangeCount!==0){u=d.anchorNode,s=d.anchorOffset,l=d.focusNode,d=d.focusOffset;try{u.nodeType,l.nodeType}catch{u=null;break e}var h=0,_=-1,v=-1,T=0,I=0,C=o,y=null;t:for(;;){for(var m;C!==u||s!==0&&C.nodeType!==3||(_=h+s),C!==l||d!==0&&C.nodeType!==3||(v=h+d),C.nodeType===3&&(h+=C.nodeValue.length),(m=C.firstChild)!==null;)y=C,C=m;for(;;){if(C===o)break t;if(y===u&&++T===s&&(_=h),y===l&&++I===d&&(v=h),(m=C.nextSibling)!==null)break;C=y,y=C.parentNode}C=m}u=_===-1||v===-1?null:{start:_,end:v}}else u=null;u=u||{start:0,end:0}}else u=null;Xu={focusedElem:o,selectionRange:u},Do=!1,Qi=null,xo=!1,H=r;do try{qw()}catch(E){if(H===null)throw Error(z(330));En(H,E),H=H.nextEffect}while(H!==null);Qi=null,H=r;do try{for(o=t;H!==null;){var g=H.flags;if(g&16&&ns(H.stateNode,""),g&128){var b=H.alternate;if(b!==null){var a=b.ref;a!==null&&(typeof a=="function"?a(null):a.current=null)}}switch(g&1038){case 2:tp(H),H.flags&=-3;break;case 6:tp(H),H.flags&=-3,il(H.alternate,H);break;case 1024:H.flags&=-1025;break;case 1028:H.flags&=-1025,il(H.alternate,H);break;case 4:il(H.alternate,H);break;case 8:u=H,Zg(o,u);var f=u.alternate;Zh(u),f!==null&&Zh(f)}H=H.nextEffect}}catch(E){if(H===null)throw Error(z(330));En(H,E),H=H.nextEffect}while(H!==null);if(a=Xu,b=gh(),g=a.focusedElem,o=a.selectionRange,b!==g&&g&&g.ownerDocument&&yg(g.ownerDocument.documentElement,g)){for(o!==null&&Kl(g)&&(b=o.start,a=o.end,a===void 0&&(a=b),"selectionStart"in g?(g.selectionStart=b,g.selectionEnd=Math.min(a,g.value.length)):(a=(b=g.ownerDocument||document)&&b.defaultView||window,a.getSelection&&(a=a.getSelection(),u=g.textContent.length,f=Math.min(o.start,u),o=o.end===void 0?f:Math.min(o.end,u),!a.extend&&f>o&&(u=o,o=f,f=u),u=mh(g,f),s=mh(g,o),u&&s&&(a.rangeCount!==1||a.anchorNode!==u.node||a.anchorOffset!==u.offset||a.focusNode!==s.node||a.focusOffset!==s.offset)&&(b=b.createRange(),b.setStart(u.node,u.offset),a.removeAllRanges(),f>o?(a.addRange(b),a.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),a.addRange(b)))))),b=[],a=g;a=a.parentNode;)a.nodeType===1&&b.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<b.length;g++)a=b[g],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}Do=!!Yu,Xu=Yu=null,t.current=n,H=r;do try{for(g=t;H!==null;){var c=H.flags;if(c&36&&zw(g,H.alternate,H),c&128){b=void 0;var p=H.ref;if(p!==null){var w=H.stateNode;switch(H.tag){case 5:b=w;break;default:b=w}typeof p=="function"?p(b):p.current=b}}H=H.nextEffect}}catch(E){if(H===null)throw Error(z(330));En(H,E),H=H.nextEffect}while(H!==null);H=null,Tw(),X=i}else t.current=n;if(An)An=!1,Ki=t,Mi=e;else for(H=r;H!==null;)e=H.nextEffect,H.nextEffect=null,H.flags&8&&(c=H,c.sibling=null,c.stateNode=null),H=e;if(r=t.pendingLanes,r===0&&(jt=null),r===1?t===gc?Gi++:(Gi=0,gc=t):Gi=0,n=n.stateNode,Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(kd,n,void 0,(n.current.flags&64)===64)}catch{}if(bt(t,et()),ca)throw ca=!1,t=hc,hc=null,t;return X&8||Wt(),null}function qw(){for(;H!==null;){var t=H.alternate;xo||Qi===null||(H.flags&8?th(H,Qi)&&(xo=!0):H.tag===13&&jw(t,H)&&th(H,Qi)&&(xo=!0));var e=H.flags;e&256&&xw(t,H),!(e&512)||An||(An=!0,cs(97,function(){return Rn(),null})),H=H.nextEffect}}function Rn(){if(Mi!==90){var t=97<Mi?97:Mi;return Mi=90,tr(t,Kw)}return!1}function Ww(t,e){pc.push(e,t),An||(An=!0,cs(97,function(){return Rn(),null}))}function av(t,e){mc.push(e,t),An||(An=!0,cs(97,function(){return Rn(),null}))}function Kw(){if(Ki===null)return!1;var t=Ki;if(Ki=null,X&48)throw Error(z(331));var e=X;X|=32;var n=mc;mc=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(l){if(s===null)throw Error(z(330));En(s,l)}}for(n=pc,pc=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var u=i.create;i.destroy=u()}catch(l){if(s===null)throw Error(z(330));En(s,l)}}for(u=t.current.firstEffect;u!==null;)t=u.nextEffect,u.nextEffect=null,u.flags&8&&(u.sibling=null,u.stateNode=null),u=t;return X=e,Wt(),!0}function rp(t,e,n){e=Rd(n,e),e=Xg(t,e,1),yn(t,e),e=mt(),t=Va(t,1),t!==null&&(Ra(t,1,e),bt(t,e))}function En(t,e){if(t.tag===3)rp(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){rp(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jt===null||!jt.has(r))){t=Rd(e,t);var i=Jg(n,t,1);if(yn(n,i),i=mt(),n=Va(n,1),n!==null)Ra(n,1,i),bt(n,i);else if(typeof r.componentDidCatch=="function"&&(jt===null||!jt.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function Gw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=mt(),t.pingedLanes|=t.suspendedLanes&n,at===t&&(tt&n)===n&&(He===4||He===3&&(tt&62914560)===tt&&500>et()-zd?Rr(t,0):xd|=n),bt(t,e)}function Qw(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(Yt===0&&(Yt=ii),e=mr(62914560&~Yt),e===0&&(e=4194304)):e=Ur()===99?1:2:e=1),n=mt(),t=Va(t,e),t!==null&&(Ra(t,e,n),bt(t,n))}var uv;uv=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||dt.current)Ot=!0;else if(n&r)Ot=!!(t.flags&16384);else{switch(Ot=!1,e.tag){case 3:Vh(e),tl();break;case 5:Lh(e);break;case 1:ft(e.type)&&Oo(e);break;case 4:tc(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ke(Jo,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return n&e.child.childLanes?Hh(t,e,n):(ke(Se,Se.current&1),e=Jt(t,e,n),e!==null?e.sibling:null);ke(Se,Se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&64){if(r)return Qh(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ke(Se,Se.current),r)break;return null;case 23:case 24:return e.lanes=0,nl(t,e,n)}return Jt(t,e,n)}else Ot=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Br(e,it.current),Mr(e,n),i=Nd(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,ft(r)){var s=!0;Oo(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Id(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&ta(e,r,o,t),i.updater=Ba,e.stateNode=i,i._reactInternals=e,ec(e,r,t,n),e=sc(null,e,r,!0,s,n)}else e.tag=0,ct(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=Xw(i),t=Mt(i,t),s){case 0:e=ic(null,e,i,t,n);break e;case 1:e=Uh(null,e,i,t,n);break e;case 11:e=Fh(null,e,i,t,n);break e;case 14:e=Bh(null,e,i,Mt(i.type,t),r,n);break e}throw Error(z(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),ic(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Uh(t,e,r,i,n);case 3:if(Vh(e),r=e.updateQueue,t===null||r===null)throw Error(z(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,Og(t,e),ds(e,r,null,n),r=e.memoizedState.element,r===i)tl(),e=Jt(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(hn=Nr(e.stateNode.containerInfo.firstChild),Xt=e,s=Bt=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],Or.push(s);for(n=xg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else ct(t,e,r,n),tl();e=e.child}return e;case 5:return Lh(e),t===null&&nc(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Yl(r,i)?o=null:s!==null&&Yl(r,s)&&(e.flags|=16),Kg(t,e),ct(t,e,o,n),e.child;case 6:return t===null&&nc(e),null;case 13:return Hh(t,e,n);case 4:return tc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=na(e,null,r,n):ct(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),Fh(t,e,r,i,n);case 7:return ct(t,e,e.pendingProps,n),e.child;case 8:return ct(t,e,e.pendingProps.children,n),e.child;case 12:return ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var u=e.type._context;if(ke(Jo,u._currentValue),u._currentValue=s,o!==null)if(u=o.value,s=_t(u,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(u,s):1073741823)|0,s===0){if(o.children===i.children&&!dt.current){e=Jt(t,e,n);break e}}else for(u=e.child,u!==null&&(u.return=e);u!==null;){var l=u.dependencies;if(l!==null){o=u.child;for(var d=l.firstContext;d!==null;){if(d.context===r&&d.observedBits&s){u.tag===1&&(d=vn(-1,n&-n),d.tag=2,yn(u,d)),u.lanes|=n,d=u.alternate,d!==null&&(d.lanes|=n),Mg(u.return,n),l.lanes|=n;break}d=d.next}}else o=u.tag===10&&u.type===e.type?null:u.child;if(o!==null)o.return=u;else for(o=u;o!==null;){if(o===e){o=null;break}if(u=o.sibling,u!==null){u.return=o.return,o=u;break}o=o.return}u=o}ct(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Mr(e,n),i=Ct(i,s.unstable_observedBits),r=r(i),e.flags|=1,ct(t,e,r,n),e.child;case 14:return i=e.type,s=Mt(i,e.pendingProps),s=Mt(i.type,s),Bh(t,e,i,s,r,n);case 15:return Wg(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mt(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,ft(r)?(t=!0,Oo(e)):t=!1,Mr(e,n),Rg(e,r,i),ec(e,r,i,n),sc(null,e,r,!0,t,n);case 19:return Qh(t,e,n);case 23:return nl(t,e,n);case 24:return nl(t,e,n)}throw Error(z(156,e.tag))};function Yw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(t,e,n,r){return new Yw(t,e,n,r)}function Fd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xw(t){if(typeof t=="function")return Fd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ma)return 11;if(t===Oa)return 14}return 2}function Dn(t,e){var n=t.alternate;return n===null?(n=Et(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zo(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Fd(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case cn:return $r(n.children,i,s,e);case jm:o=8,i|=16;break;case nd:o=8,i|=1;break;case zi:return t=Et(12,n,e,i|8),t.elementType=zi,t.type=zi,t.lanes=s,t;case ji:return t=Et(13,n,e,i),t.type=ji,t.elementType=ji,t.lanes=s,t;case Vo:return t=Et(19,n,e,i),t.elementType=Vo,t.lanes=s,t;case ud:return Bd(n,i,s,e);case Ml:return t=Et(24,n,e,i),t.elementType=Ml,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rd:o=10;break e;case id:o=9;break e;case Ma:o=11;break e;case Oa:o=14;break e;case sd:o=16,r=null;break e;case od:o=22;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Et(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $r(t,e,n,r){return t=Et(7,t,r,e),t.lanes=n,t}function Bd(t,e,n,r){return t=Et(23,t,r,e),t.elementType=ud,t.lanes=n,t}function sl(t,e,n){return t=Et(6,t,null,e),t.lanes=n,t}function ol(t,e,n){return e=Et(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Jw(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Vu(0),this.expirationTimes=Vu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vu(0),this.mutableSourceEagerHydrationData=null}function Zw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Un,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function da(t,e,n,r){var i=e.current,s=mt(),o=wn(i);e:if(n){n=n._reactInternals;t:{if(ur(n)!==n||n.tag!==1)throw Error(z(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(ft(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(u!==null);throw Error(z(171))}if(n.tag===1){var l=n.type;if(ft(l)){n=bg(n,l,u);break e}}n=u}else n=Pn;return e.context===null?e.context=n:e.pendingContext=n,e=vn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),yn(i,e),_n(i,o,s),o}function al(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ip(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ud(t,e){ip(t,e),(t=t.alternate)&&ip(t,e)}function e3(){return null}function Vd(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new Jw(t,e,n!=null&&n.hydrate===!0),e=Et(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Id(e),t[ri]=n.current,_g(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}Vd.prototype.render=function(t){da(t,this._internalRoot,null,null)};Vd.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;da(null,t,null,function(){e[ri]=null})};function $s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function t3(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Vd(t,0,e?{hydrate:!0}:void 0)}function Ha(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var u=i;i=function(){var d=al(o);u.call(d)}}da(e,o,t,i)}else{if(s=n._reactRootContainer=t3(n,r),o=s._internalRoot,typeof i=="function"){var l=i;i=function(){var d=al(o);l.call(d)}}nv(function(){da(e,o,t,i)})}return al(o)}eg=function(t){if(t.tag===13){var e=mt();_n(t,4,e),Ud(t,4)}};hd=function(t){if(t.tag===13){var e=mt();_n(t,67108864,e),Ud(t,67108864)}};tg=function(t){if(t.tag===13){var e=mt(),n=wn(t);_n(t,n,e),Ud(t,n)}};ng=function(t,e){return e()};Ul=function(t,e,n){switch(e){case"input":if(Ll(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ja(r);if(!i)throw Error(z(90));Bm(r),Ll(r,i)}}}break;case"textarea":Vm(t,n);break;case"select":e=n.value,e!=null&&Pr(t,!!n.multiple,e,!1)}};cd=tv;Ym=function(t,e,n,r,i){var s=X;X|=4;try{return tr(98,t.bind(null,e,n,r,i))}finally{X=s,X===0&&(oi(),Wt())}};dd=function(){!(X&49)&&(Bw(),Rn())};Xm=function(t,e){var n=X;X|=2;try{return t(e)}finally{X=n,X===0&&(oi(),Wt())}};function lv(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$s(e))throw Error(z(200));return Zw(t,e,null,n)}var n3={Events:[Os,Er,ja,Gm,Qm,Rn,{current:!1}]},bi={findFiberByHostInstance:Hn,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},r3={bundleType:bi.bundleType,version:bi.version,rendererPackageName:bi.rendererPackageName,rendererConfig:bi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Zm(t),t===null?null:t.stateNode},findFiberByHostInstance:bi.findFiberByHostInstance||e3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mo.isDisabled&&mo.supportsFiber)try{kd=mo.inject(r3),Yn=mo}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n3;Tt.createPortal=lv;Tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):Error(z(268,Object.keys(t)));return t=Zm(e),t=t===null?null:t.stateNode,t};Tt.flushSync=function(t,e){var n=X;if(n&48)return t(e);X|=1;try{if(t)return tr(99,t.bind(null,e))}finally{X=n,Wt()}};Tt.hydrate=function(t,e,n){if(!$s(e))throw Error(z(200));return Ha(null,t,e,!0,n)};Tt.render=function(t,e,n){if(!$s(e))throw Error(z(200));return Ha(null,t,e,!1,n)};Tt.unmountComponentAtNode=function(t){if(!$s(t))throw Error(z(40));return t._reactRootContainer?(nv(function(){Ha(null,null,t,!1,function(){t._reactRootContainer=null,t[ri]=null})}),!0):!1};Tt.unstable_batchedUpdates=tv;Tt.unstable_createPortal=function(t,e){return lv(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Tt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$s(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Ha(t,e,n,!1,r)};Tt.version="17.0.2";function cv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cv)}catch(t){console.error(t)}}cv(),Rm.exports=Tt;var i3=Rm.exports;const s3=As(i3);function o3(t){const e=t.notes.map((n,r)=>Me.jsx("div",{children:Me.jsxs("div",{className:`title ${n.id===t.currentNote.id?"selected-note":""}`,onClick:()=>t.setCurrentNoteId(n.id),children:[Me.jsx("h4",{className:"text-snippet",children:n.body.split(`
`)[0]}),Me.jsx("button",{className:"delete-btn",onClick:()=>t.deleteNote(n.id),children:Me.jsx("i",{className:"gg-trash trash-icon"})})]})},n.id));return Me.jsxs("section",{className:"pane sidebar",children:[Me.jsxs("div",{className:"sidebar--header",children:[Me.jsx("h3",{children:"Notes"}),Me.jsx("button",{className:"new-note",onClick:t.newNote,children:"+"})]}),e]})}var ul={},Ne={};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.getBreaksNeededForEmptyLineAfter=Ne.getBreaksNeededForEmptyLineBefore=Ne.selectWord=Ne.getSurroundingWord=void 0;function dv(t,e){if(!t)throw Error("Argument 'text' should be truthy");for(var n=function(o){return o===" "||o.charCodeAt(0)===10},r=0,i=t.length,s=e;s-1>-1;s--)if(n(t[s-1])){r=s;break}for(var s=e;s<t.length;s++)if(n(t[s])){i=s;break}return{start:r,end:i}}Ne.getSurroundingWord=dv;function a3(t){var e=t.text,n=t.selection;return e&&e.length&&n.start===n.end?dv(e,n.start):n}Ne.selectWord=a3;function u3(t,e){if(t===void 0&&(t=""),e===0)return 0;for(var n=2,r=!0,i=e-1;i>=0&&n>=0;i--)switch(t.charCodeAt(i)){case 32:continue;case 10:n--,r=!1;break;default:return n}return r?0:n}Ne.getBreaksNeededForEmptyLineBefore=u3;function l3(t,e){if(t===void 0&&(t=""),e===t.length-1)return 0;for(var n=2,r=!0,i=e;i<t.length&&n>=0;i++)switch(t.charCodeAt(i)){case 32:continue;case 10:{n--,r=!1;break}default:return n}return r?0:n}Ne.getBreaksNeededForEmptyLineAfter=l3;var ll={},xs={},un={};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/Object.defineProperty(un,"__esModule",{value:!0});un.classNames=void 0;function c3(t){return typeof t=="string"}function d3(t){return Array.isArray(t)&&t.length>0}function f3(t){return typeof t=="object"}function fv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0;r<t.length;r++){var i=t[r];if(i){if(c3(i))n.push(i);else if(d3(i)){var s=fv.apply(null,i);s&&n.push(s)}else if(f3(i))for(var o in i)i.hasOwnProperty(o)&&i[o]&&n.push(o)}}return n.join(" ")}un.classNames=fv;Object.defineProperty(xs,"__esModule",{value:!0});xs.ToolbarButtonGroup=void 0;var h3=De,p3=un,m3=function(t){return h3.createElement("ul",{className:p3.classNames("mde-header-group",{hidden:t.hidden})},t.children)};xs.ToolbarButtonGroup=m3;var zs={},Cr=te&&te.__assign||function(){return Cr=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Cr.apply(this,arguments)};Object.defineProperty(zs,"__esModule",{value:!0});zs.ToolbarButton=void 0;var sp=De,g3={tabIndex:-1},v3=function(t){var e=t.buttonComponentClass,n=t.buttonContent,r=t.buttonProps,i=t.onClick,s=t.readOnly,o=t.name,u=Cr(Cr({},g3),r||{}),l=e||"button";return sp.createElement("li",{className:"mde-header-item"},sp.createElement(l,Cr(Cr({"data-name":o},u),{onClick:i,disabled:s,type:"button"}),n))};zs.ToolbarButton=v3;var js={};Object.defineProperty(js,"__esModule",{value:!0});js.MdeFontAwesomeIcon=void 0;var y3=De,w3=function(t){var e=t.icon,n=e;switch(e){case"header":n="heading";break;case"quote":n="quote-right";break;case"unordered-list":n="tasks";break;case"ordered-list":n="list-ol";break;case"checked-list":n="tasks";break;default:n=e}return y3.createElement("i",{className:"fas fa-"+n,"aria-hidden":"true"})};js.MdeFontAwesomeIcon=w3;var qa={},_3=te&&te.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(qa,"__esModule",{value:!0});qa.Preview=void 0;var go=De,E3=un,S3=function(t){_3(e,t);function e(n){var r=t.call(this,n)||this;return r.state={loading:!0},r}return e.prototype.componentDidMount=function(){this.generatePreview()},e.prototype.componentDidUpdate=function(n,r){this.props.markdown!==n.markdown&&this.generatePreview()},e.prototype.generatePreview=function(){var n=this,r=this.props,i=r.markdown,s=r.generateMarkdownPreview;s(i).then(function(o){n.setState({preview:o,loading:!1})})},e.prototype.render=function(){var n=this.props,r=n.classes,i=n.minHeight,s=n.loadingPreview,o=n.refObject,u=n.heightUnits,l=this.state,d=l.preview,h=l.loading,_=h?s:d,v;typeof _=="string"?v=go.createElement("div",{className:"mde-preview-content",dangerouslySetInnerHTML:{__html:_||"<p>&nbsp;</p>"},ref:o}):v=go.createElement("div",{className:"mde-preview-content"},_);var T=i&&u?i+10+u:i+10;return go.createElement("div",{className:E3.classNames("mde-preview",r,{loading:h}),style:{minHeight:T},"data-testid":"mde-preview"},v)},e}(go.Component);qa.Preview=S3;var Wa={},Ka={};Object.defineProperty(Ka,"__esModule",{value:!0});Ka.getCaretCoordinates=void 0;var k3=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],hv=typeof window<"u",C3=hv&&window.mozInnerScreenX!=null;function b3(t,e){if(!hv)throw new Error("getCaretCoordinates should only be called in a browser");var n=document.createElement("div");n.id="input-textarea-caret-position-mirror-div",document.body.appendChild(n);var r=n.style,i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle;r.whiteSpace="pre-wrap",r.wordWrap="break-word",r.position="absolute",r.visibility="hidden",k3.forEach(function(u){r[u]=i[u]}),C3?t.scrollHeight>parseInt(i.height)&&(r.overflowY="scroll"):r.overflow="hidden",n.textContent=t.value.substring(0,t.selectionStart),e&&(n.textContent+=e);var s=document.createElement("span");s.textContent=t.value.substring(t.selectionEnd)||".",n.appendChild(s);var o={top:s.offsetTop+parseInt(i.borderTopWidth),left:s.offsetLeft+parseInt(i.borderLeftWidth),lineHeight:parseInt(i.lineHeight)};return document.body.removeChild(n),o}Ka.getCaretCoordinates=b3;var Fs={};/*!
 * The MIT License
   Copyright (c) 2018 Dmitriy Kubyshkin
   Copied from https://github.com/grassator/insert-text-at-cursor
 */Object.defineProperty(Fs,"__esModule",{value:!0});Fs.insertText=void 0;function T3(t,e){if(t.focus(),document.selection){var n=document.selection.createRange();n.text=e,n.collapse(!1),n.select();return}var r=document.execCommand("insertText",!1,e);if(!r){var i=t.selectionStart,s=t.selectionEnd;if(typeof t.setRangeText=="function")t.setRangeText(e);else if(I3(t)){var o=document.createTextNode(e),u=t.firstChild;if(!u)t.appendChild(o);else{for(var l=0,d=null,h=null,_=document.createRange();u&&(d===null||h===null);){var v=u.nodeValue.length;i>=l&&i<=l+v&&_.setStart(d=u,i-l),s>=l&&s<=l+v&&_.setEnd(h=u,s-l),l+=v,u=u.nextSibling}i!==s&&_.deleteContents(),_.insertNode(o)}}else{var T=t.value;t.value=T.slice(0,i)+e+T.slice(s)}t.setSelectionRange(i+e.length,i+e.length);var I=document.createEvent("UIEvent");I.initEvent("input",!0,!1),t.dispatchEvent(I)}}Fs.insertText=T3;function I3(t){if(t.nodeName!=="TEXTAREA")return!1;var e;if(typeof e>"u"){var n=document.createElement("textarea");n.value="1",e=!!n.firstChild}return e}var Ga={};Object.defineProperty(Ga,"__esModule",{value:!0});Ga.mod=void 0;function P3(t,e){return(t%e+e)%e}Ga.mod=P3;var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.SuggestionsDropdown=void 0;var op=De,A3=un,D3=function(t){var e=t.classes,n=t.suggestions,r=t.caret,i=t.onSuggestionSelected,s=t.suggestionsAutoplace,o=t.focusIndex,u=t.textAreaRef,l=function(C){C.preventDefault();var y=parseInt(C.currentTarget.attributes["data-index"].value);i(y)},d=function(C){return C.preventDefault()},h=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),_=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),v=r.left-u.current.scrollLeft,T=r.top-u.current.scrollTop,I={};return s&&T+u.current.getBoundingClientRect().top>_/2?I.bottom=u.current.offsetHeight-T:I.top=T,s&&v+u.current.getBoundingClientRect().left>h/2?I.right=u.current.offsetWidth-v:I.left=v,op.createElement("ul",{className:A3.classNames("mde-suggestions",e),style:I},n.map(function(C,y){return op.createElement("li",{onClick:l,onMouseDown:d,key:y,"aria-selected":o===y?"true":"false","data-index":""+y},C.preview)}))};Bs.SuggestionsDropdown=D3;var N3=te&&te.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),pt=te&&te.__assign||function(){return pt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},pt.apply(this,arguments)};Object.defineProperty(Wa,"__esModule",{value:!0});Wa.TextArea=void 0;var vo=De,M3=un,O3=Ka,L3=Fs,R3=Ga,$3=Bs,x3=function(t){N3(e,t);function e(n){var r=t.call(this,n)||this;return r.currentLoadSuggestionsPromise=Promise.resolve(void 0),r.suggestionsPromiseIndex=0,r.getTextArea=function(){return r.props.refObject.current},r.handleOnChange=function(i){var s=r.props.onChange;s(i.target.value)},r.handleBlur=function(){var i=r.state.mention;i&&r.setState({mention:{status:"inactive",suggestions:[]}})},r.startLoadingSuggestions=function(i){var s=++r.suggestionsPromiseIndex,o=r.props.loadSuggestions;r.currentLoadSuggestionsPromise=r.currentLoadSuggestionsPromise.then(function(){return o(i,r.state.mention.triggeredBy)}).then(function(u){if(r.state.mention.status!=="inactive")return r.suggestionsPromiseIndex===s&&(!u||!u.length?r.setState({mention:{status:"inactive",suggestions:[]}}):r.setState({mention:pt(pt({},r.state.mention),{status:"active",suggestions:u,focusIndex:0})}),r.suggestionsPromiseIndex=0),Promise.resolve()})},r.loadEmptySuggestion=function(i,s){var o=O3.getCaretCoordinates(i,s);r.startLoadingSuggestions(""),r.setState({mention:{status:"loading",startPosition:i.selectionStart+1,caret:o,suggestions:[],triggeredBy:s}})},r.handleSuggestionSelected=function(i){var s=r.state.mention;r.getTextArea().selectionStart=s.startPosition-1,r.props.value.substr(r.getTextArea().selectionStart,r.getTextArea().selectionEnd-r.getTextArea().selectionStart),L3.insertText(r.getTextArea(),s.suggestions[i].value+" "),r.setState({mention:{status:"inactive",suggestions:[]}})},r.handleKeyDown=function(i){if(r.props.onPossibleKeyCommand){var s=r.props.onPossibleKeyCommand(i);if(s){i.preventDefault(),r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});return}}if(r.suggestionsEnabled()){var o=i.key,u=i.shiftKey,l=i.currentTarget,d=l.selectionStart,h=r.state.mention;switch(h.status){case"loading":case"active":if(o==="Escape"||o==="Backspace"&&d<=r.state.mention.startPosition)r.suggestionsPromiseIndex=0,r.setState({mention:{status:"inactive",suggestions:[]}});else if(h.status==="active"&&(o==="ArrowUp"||o==="ArrowDown")&&!u){i.preventDefault();var _=o==="ArrowUp"?-1:1;r.setState({mention:pt(pt({},h),{focusIndex:R3.mod(h.focusIndex+_,h.suggestions.length)})})}else o==="Enter"&&h.status==="active"&&h.suggestions.length&&(i.preventDefault(),r.handleSuggestionSelected(h.focusIndex));break}}},r.handleKeyUp=function(i){var s=i.key,o=r.state.mention,u=r.props,l=u.suggestionTriggerCharacters,d=u.value;switch(o.status){case"loading":case"active":if(s==="Backspace"){var h=d.substr(o.startPosition,r.getTextArea().selectionStart-o.startPosition);r.startLoadingSuggestions(h),o.status!=="loading"&&r.setState({mention:pt(pt({},r.state.mention),{status:"loading"})})}break;case"inactive":if(s==="Backspace"){var _=d.charAt(r.getTextArea().selectionStart-1),v=l.includes(d.charAt(r.getTextArea().selectionStart-1));v&&r.loadEmptySuggestion(i.currentTarget,_)}break}},r.handleKeyPress=function(i){var s=r.props,o=s.suggestionTriggerCharacters,u=s.value,l=r.state.mention,d=i.key;switch(l.status){case"loading":case"active":if(d===" "){r.setState({mention:pt(pt({},r.state.mention),{status:"inactive"})});return}var h=u.substr(l.startPosition,r.getTextArea().selectionStart-l.startPosition)+d;r.startLoadingSuggestions(h),l.status!=="loading"&&r.setState({mention:pt(pt({},r.state.mention),{status:"loading"})});break;case"inactive":if(o.indexOf(i.key)===-1||!/\s|\(|\[|^.{0}$/.test(u.charAt(r.getTextArea().selectionStart-1)))return;r.loadEmptySuggestion(i.currentTarget,i.key);break}},r.state={mention:{status:"inactive",suggestions:[]}},r}return e.prototype.suggestionsEnabled=function(){return this.props.suggestionTriggerCharacters&&this.props.suggestionTriggerCharacters.length&&this.props.loadSuggestions},e.prototype.render=function(){var n=this,r=this.props,i=r.classes,s=r.readOnly,o=r.textAreaProps,u=r.height,l=r.heightUnits,d=r.value,h=r.suggestionTriggerCharacters,_=r.loadSuggestions,v=r.suggestionsDropdownClasses,T=r.textAreaComponent,I=r.onPaste,C=r.onDrop,y=h&&h.length&&_,m=this.state.mention,g=T||"textarea",b=u&&l?u+l:u;return vo.createElement("div",{className:"mde-textarea-wrapper"},vo.createElement(g,pt({className:M3.classNames("mde-text",i),style:{height:b},ref:this.props.refObject,readOnly:s,value:d,"data-testid":"text-area"},o,{onChange:function(a){var f;(f=o==null?void 0:o.onChange)===null||f===void 0||f.call(o,a),n.handleOnChange(a)},onBlur:function(a){var f;(f=o==null?void 0:o.onBlur)===null||f===void 0||f.call(o,a),y&&n.handleBlur()},onKeyDown:function(a){var f;(f=o==null?void 0:o.onKeyDown)===null||f===void 0||f.call(o,a),n.handleKeyDown(a)},onKeyUp:function(a){var f;(f=o==null?void 0:o.onKeyUp)===null||f===void 0||f.call(o,a),y&&n.handleKeyUp(a)},onKeyPress:function(a){var f;(f=o==null?void 0:o.onKeyPress)===null||f===void 0||f.call(o,a),y&&n.handleKeyPress(a)},onPaste:function(a){var f;(f=o==null?void 0:o.onPaste)===null||f===void 0||f.call(o,a),I(a)},onDragOver:function(a){a.preventDefault(),a.stopPropagation()},onDrop:function(a){var f;(f=o==null?void 0:o.onDrop)===null||f===void 0||f.call(o,a),C(a),a.preventDefault()}})),m.status==="active"&&m.suggestions.length&&vo.createElement($3.SuggestionsDropdown,{classes:v,caret:m.caret,suggestions:m.suggestions,onSuggestionSelected:this.handleSuggestionSelected,suggestionsAutoplace:this.props.suggestionsAutoplace,focusIndex:m.focusIndex,textAreaRef:this.props.refObject}))},e}(vo.Component);Wa.TextArea=x3;var Qa={},z3=te&&te.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),br=te&&te.__assign||function(){return br=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},br.apply(this,arguments)};Object.defineProperty(Qa,"__esModule",{value:!0});Qa.Toolbar=void 0;var jn=De,cl=un,j3=xs,F3=zs,B3=function(t){z3(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.handleTabChange=function(r){var i=n.props.onTabChange;i(r)},n}return e.prototype.render=function(){var n=this,r=this.props.l18n,i=this.props,s=i.classes,o=i.children,u=i.buttons,l=i.onCommand,d=i.readOnly,h=i.disablePreview,_=i.writeButtonProps,v=i.previewButtonProps,T=i.buttonProps;if((!u||u.length===0)&&!o)return null;var I=jn.createElement("div",{className:"mde-tabs"},jn.createElement("button",br({type:"button",className:cl.classNames({selected:this.props.tab==="write"}),onClick:function(){return n.handleTabChange("write")}},_),r.write),jn.createElement("button",br({type:"button",className:cl.classNames({selected:this.props.tab==="preview"}),onClick:function(){return n.handleTabChange("preview")}},v),r.preview));return jn.createElement("div",{className:cl.classNames("mde-header",s)},!h&&I,u.map(function(C,y){return jn.createElement(j3.ToolbarButtonGroup,{key:y,hidden:n.props.tab==="preview"},C.map(function(m,g){return jn.createElement(F3.ToolbarButton,{key:g,name:m.commandName,buttonContent:m.buttonContent,buttonProps:br(br({},T||{}),m.buttonProps),onClick:function(){return l(m.commandName)},readOnly:d,buttonComponentClass:m.buttonComponentClass})}))}))},e}(jn.Component);Qa.Toolbar=B3;var Ti={},Ut={},Ya={};Object.defineProperty(Ya,"__esModule",{value:!0});Ya.headerCommand=void 0;var U3=Ne;function V3(t,e,n){var r=U3.selectWord({text:t.text,selection:t.selection}),i=e.setSelectionRange(r),s=e.replaceSelection(""+n+i.selectedText);e.setSelectionRange({start:s.selection.end-i.selectedText.length,end:s.selection.end})}Ya.headerCommand={buttonProps:{"aria-label":"Add header"},execute:function(t){var e=t.initialState,n=t.textApi;V3(e,n,"### ")}};var Xa={};Object.defineProperty(Xa,"__esModule",{value:!0});Xa.boldCommand=void 0;var H3=Ne;Xa.boldCommand={buttonProps:{"aria-label":"Add bold text"},execute:function(t){var e=t.initialState,n=t.textApi,r=H3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("**"+i.selectedText+"**");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="b"}};var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0});Ja.italicCommand=void 0;var q3=Ne;Ja.italicCommand={buttonProps:{"aria-label":"Add italic text"},execute:function(t){var e=t.initialState,n=t.textApi,r=q3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("*"+i.selectedText+"*");n.setSelectionRange({start:s.selection.end-1-i.selectedText.length,end:s.selection.end-1})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="i"}};var Za={};Object.defineProperty(Za,"__esModule",{value:!0});Za.strikeThroughCommand=void 0;var W3=Ne;Za.strikeThroughCommand={buttonProps:{"aria-label":"Add strikethrough text"},execute:function(t){var e=t.initialState,n=t.textApi,r=W3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("~~"+i.selectedText+"~~");n.setSelectionRange({start:s.selection.end-2-i.selectedText.length,end:s.selection.end-2})}};var eu={};Object.defineProperty(eu,"__esModule",{value:!0});eu.linkCommand=void 0;var K3=Ne;eu.linkCommand={buttonProps:{"aria-label":"Add a link"},execute:function(t){var e=t.initialState,n=t.textApi,r=K3.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=n.replaceSelection("["+i.selectedText+"](url)");n.setSelectionRange({start:s.selection.end-6-i.selectedText.length,end:s.selection.end-6})},handleKeyCommand:function(t){return(t.ctrlKey||t.metaKey)&&t.key=="k"}};var tu={};Object.defineProperty(tu,"__esModule",{value:!0});tu.quoteCommand=void 0;var dl=Ne;tu.quoteCommand={buttonProps:{"aria-label":"Insert a quote"},execute:function(t){var e=t.initialState,n=t.textApi,r=dl.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r),s=dl.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),o=Array(s+1).join(`
`),u=dl.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),l=Array(u+1).join(`
`);n.replaceSelection(o+"> "+i.selectedText+l);var d=i.selection.start+s+2,h=d+i.selectedText.length;n.setSelectionRange({start:d,end:h})}};var nu={};Object.defineProperty(nu,"__esModule",{value:!0});nu.codeCommand=void 0;var fl=Ne;nu.codeCommand={buttonProps:{"aria-label":"Insert code"},execute:function(t){var e=t.initialState,n=t.textApi,r=fl.selectWord({text:e.text,selection:e.selection}),i=n.setSelectionRange(r);if(i.selectedText.indexOf(`
`)===-1){n.replaceSelection("`"+i.selectedText+"`");var s=i.selection.start+1,o=s+i.selectedText.length;n.setSelectionRange({start:s,end:o});return}var u=fl.getBreaksNeededForEmptyLineBefore(i.text,i.selection.start),l=Array(u+1).join(`
`),d=fl.getBreaksNeededForEmptyLineAfter(i.text,i.selection.end),h=Array(d+1).join(`
`);n.replaceSelection(l+"```\n"+i.selectedText+"\n```"+h);var _=i.selection.start+u+4,v=_+i.selectedText.length;n.setSelectionRange({start:_,end:v})}};var pv={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkedListCommand=t.orderedListCommand=t.unorderedListCommand=t.makeList=t.insertBeforeEachLine=void 0;var e=Ne;function n(i,s){var o=i.split(/\n/),u=0,l=o.map(function(d,h){if(typeof s=="string")return u+=s.length,s+d;if(typeof s=="function"){var _=s(d,h);return u+=_.length,s(d,h)+d}throw Error("insertion is expected to be either a string or a function")}).join(`
`);return{modifiedText:l,insertionLength:u}}t.insertBeforeEachLine=n;var r=function(i,s,o){var u=e.selectWord({text:i.text,selection:i.selection}),l=s.setSelectionRange(u),d=e.getBreaksNeededForEmptyLineBefore(l.text,l.selection.start),h=Array(d+1).join(`
`),_=e.getBreaksNeededForEmptyLineAfter(l.text,l.selection.end),v=Array(_+1).join(`
`),T=n(l.selectedText,o);s.replaceSelection(""+h+T.modifiedText+v);var I=l.selectedText.indexOf(`
`)===-1?T.insertionLength:0,C=l.selection.start+d+I,y=C+T.modifiedText.length-I;s.setSelectionRange({start:C,end:y})};t.makeList=r,t.unorderedListCommand={buttonProps:{"aria-label":"Add unordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,"- ")}},t.orderedListCommand={buttonProps:{"aria-label":"Add ordered list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(u,l){return l+1+". "})}},t.checkedListCommand={buttonProps:{"aria-label":"Add checked list"},execute:function(i){var s=i.initialState,o=i.textApi;t.makeList(s,o,function(u,l){return"- [ ] "})}}})(pv);var ru={};Object.defineProperty(ru,"__esModule",{value:!0});ru.imageCommand=void 0;var G3=Ne;ru.imageCommand={buttonProps:{"aria-label":"Add image"},execute:function(t){var e=t.initialState,n=t.textApi,r=n.setSelectionRange(G3.selectWord({text:e.text,selection:e.selection})),i=r.selectedText||"https://example.com/your-image.png";n.replaceSelection("![]("+i+")"),n.setSelectionRange({start:r.selection.start+4,end:r.selection.start+4+i.length})}};var iu={},su={},Q3=te&&te.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(h){try{d(r.next(h))}catch(_){o(_)}}function l(h){try{d(r.throw(h))}catch(_){o(_)}}function d(h){h.done?s(h.value):i(h.value).then(u,l)}d((r=r.apply(t,e||[])).next())})},Y3=te&&te.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(h){return l([d,h])}}function l(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(su,"__esModule",{value:!0});su.readFileAsync=void 0;function X3(t){return Q3(this,void 0,void 0,function(){return Y3(this,function(e){return[2,new Promise(function(n,r){var i=new FileReader;i.onload=function(){if(typeof i.result=="string")throw new Error("reader.result is expected to be an ArrayBuffer");n(i.result)},i.onerror=r,i.readAsArrayBuffer(t)})]})})}su.readFileAsync=X3;var J3=te&&te.__awaiter||function(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(h){try{d(r.next(h))}catch(_){o(_)}}function l(h){try{d(r.throw(h))}catch(_){o(_)}}function d(h){h.done?s(h.value):i(h.value).then(u,l)}d((r=r.apply(t,e||[])).next())})},Z3=te&&te.__generator||function(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(h){return l([d,h])}}function l(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(iu,"__esModule",{value:!0});iu.saveImageCommand=void 0;var e_=su,t_=Ne;function ap(t){var e=[];for(var n in t){var r=t[n];r.kind==="file"&&e.push(r.getAsFile())}return e}function n_(t){for(var e=[],n=0;n<t.length;n++)e.push(t[0]);return e}function r_(t,e){var n=e.multiple,r=e.accept,i=t;if(n||(i=i.slice(0,1)),r){var s=r.split(","),o=new Set(s.filter(function(d){return/^\.\w+/.test(d)}).map(function(d){return d.split(".")[1]})),u=new Set(s.filter(function(d){return/^[-\w.]+\/[-\w.]+$/.test(d)})),l=new Set(s.filter(function(d){return/(audio|video|image)\/\*/.test(d)}).map(function(d){return d.split("/")[0]}));i=i.filter(function(d){return o.has(d.name.split(".")[1])||u.has(d.type)||l.has(d.type.split("/")[0])})}return i}iu.saveImageCommand={execute:function(t){t.initialState;var e=t.textApi,n=t.context,r=t.l18n;return J3(this,void 0,void 0,function(){var i,s,o,u,l,d,h,_,v,T,I,C,y,m,g,b,a,f,c,p,w,E,S,P;return Z3(this,function(R){switch(R.label){case 0:if(!n)throw new Error("wrong context");i=n,s=i.event,o=i.pasteOptions,u=o.saveImage,l=o.multiple,d=o.accept,h=i_(n)?ap(s.clipboardData.items):s_(n)?ap(s.dataTransfer.items):n_(s.target.files),_=r_(h,{multiple:l,accept:d}),v=[];for(T in _)v.push(T);I=0,R.label=1;case 1:return I<v.length?(C=v[I],y=e.getState(),m=t_.getBreaksNeededForEmptyLineBefore(y.text,y.selection.start),g=Array(m+1).join(`
`),b=g+"!["+r.uploadingImage+"]()",e.replaceSelection(b),a=h[C],[4,e_.readFileAsync(a)]):[3,5];case 2:return f=R.sent(),c=u(f,a),[4,c.next()];case 3:p=R.sent().value,w=e.getState(),E=w.text.substr(y.selection.start,b.length),E===b&&(e.setSelectionRange({start:y.selection.start,end:y.selection.start+b.length}),S=p?g+"![image]("+p+")":"",P=S.length-b.length,e.replaceSelection(S),e.setSelectionRange({start:w.selection.start+P,end:w.selection.end+P})),R.label=4;case 4:return I++,[3,1];case 5:return[2]}})})}};function i_(t){return t.event.clipboardData!==void 0}function s_(t){return t.event.dataTransfer!==void 0}Object.defineProperty(Ut,"__esModule",{value:!0});Ut.getDefaultSaveImageCommandName=Ut.getDefaultCommandMap=Ut.getDefaultToolbarCommands=void 0;var o_=Ya,a_=Xa,u_=Ja,l_=Za,c_=eu,d_=tu,f_=nu,hl=pv,h_=ru,p_=iu;function m_(){return[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]]}Ut.getDefaultToolbarCommands=m_;function g_(){return{header:o_.headerCommand,bold:a_.boldCommand,italic:u_.italicCommand,strikethrough:l_.strikeThroughCommand,link:c_.linkCommand,quote:d_.quoteCommand,code:f_.codeCommand,image:h_.imageCommand,"unordered-list":hl.unorderedListCommand,"ordered-list":hl.orderedListCommand,"checked-list":hl.checkedListCommand,"save-image":p_.saveImageCommand}}Ut.getDefaultCommandMap=g_;function v_(){return"save-image"}Ut.getDefaultSaveImageCommandName=v_;var ou={};Object.defineProperty(ou,"__esModule",{value:!0});ou.enL18n=void 0;ou.enL18n={write:"Write",preview:"Preview",uploadingImage:"Uploading image...",pasteDropSelect:"Attach files by dragging & dropping, selecting or pasting them."};var Hd={},au={};Object.defineProperty(au,"__esModule",{value:!0});au.SvgIcon=void 0;var Ce=De,y_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"tasks",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M208 132h288c8.8 0 16-7.2 16-16V76c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zm0 160h288c8.8 0 16-7.2 16-16v-40c0-8.8-7.2-16-16-16H208c-8.8 0-16 7.2-16 16v40c0 8.8 7.2 16 16 16zM64 368c-26.5 0-48.6 21.5-48.6 48s22.1 48 48.6 48 48-21.5 48-48-21.5-48-48-48zm92.5-299l-72.2 72.2-15.6 15.6c-4.7 4.7-12.9 4.7-17.6 0L3.5 109.4c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.3c4.7-4.7 12.3-4.7 17 0l17 16.5c4.6 4.7 4.6 12.3-.1 17zm0 159.6l-72.2 72.2-15.7 15.7c-4.7 4.7-12.9 4.7-17.6 0L3.5 269c-4.7-4.7-4.7-12.3 0-17l15.7-15.7c4.7-4.7 12.3-4.7 17 0l22.7 22.1 63.7-63.7c4.7-4.7 12.3-4.7 17 0l17 17c4.6 4.6 4.6 12.2-.1 16.9z"})),w_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ol",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M3.263 139.527c0-7.477 3.917-11.572 11.573-11.572h15.131V88.078c0-5.163.534-10.503.534-10.503h-.356s-1.779 2.67-2.848 3.738c-4.451 4.273-10.504 4.451-15.666-1.068l-5.518-6.231c-5.342-5.341-4.984-11.216.534-16.379l21.72-19.938C32.815 33.602 36.732 32 42.785 32H54.89c7.656 0 11.749 3.916 11.749 11.572v84.384h15.488c7.655 0 11.572 4.094 11.572 11.572v8.901c0 7.477-3.917 11.572-11.572 11.572H14.836c-7.656 0-11.573-4.095-11.573-11.572v-8.902zM2.211 304.591c0-47.278 50.955-56.383 50.955-69.165 0-7.18-5.954-8.755-9.28-8.755-3.153 0-6.479 1.051-9.455 3.852-5.079 4.903-10.507 7.004-16.111 2.451l-8.579-6.829c-5.779-4.553-7.18-9.805-2.803-15.409C13.592 201.981 26.025 192 47.387 192c19.437 0 44.476 10.506 44.476 39.573 0 38.347-46.753 46.402-48.679 56.909h39.049c7.529 0 11.557 4.027 11.557 11.382v8.755c0 7.354-4.028 11.382-11.557 11.382h-67.94c-7.005 0-12.083-4.028-12.083-11.382v-4.028zM5.654 454.61l5.603-9.28c3.853-6.654 9.105-7.004 15.584-3.152 4.903 2.101 9.63 3.152 14.359 3.152 10.155 0 14.358-3.502 14.358-8.23 0-6.654-5.604-9.106-15.934-9.106h-4.728c-5.954 0-9.28-2.101-12.258-7.88l-1.05-1.926c-2.451-4.728-1.226-9.806 2.801-14.884l5.604-7.004c6.829-8.405 12.257-13.483 12.257-13.483v-.35s-4.203 1.051-12.608 1.051H16.685c-7.53 0-11.383-4.028-11.383-11.382v-8.755c0-7.53 3.853-11.382 11.383-11.382h58.484c7.529 0 11.382 4.027 11.382 11.382v3.327c0 5.778-1.401 9.806-5.079 14.183l-17.509 20.137c19.611 5.078 28.716 20.487 28.716 34.845 0 21.363-14.358 44.126-48.503 44.126-16.636 0-28.192-4.728-35.896-9.455-5.779-4.202-6.304-9.805-2.626-15.934zM144 132h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),__=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"list-ul",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M96 96c0 26.51-21.49 48-48 48S0 122.51 0 96s21.49-48 48-48 48 21.49 48 48zM48 208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm0 160c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm96-236h352c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h352c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H144c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"})),E_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"image",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"})),S_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"code",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})),k_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"quote-right",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M512 80v128c0 137.018-63.772 236.324-193.827 271.172-15.225 4.08-30.173-7.437-30.173-23.199v-33.895c0-10.057 6.228-19.133 15.687-22.55C369.684 375.688 408 330.054 408 256h-72c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h128c26.51 0 48 21.49 48 48zM176 32H48C21.49 32 0 53.49 0 80v128c0 26.51 21.49 48 48 48h72c0 74.054-38.316 119.688-104.313 143.528C6.228 402.945 0 412.021 0 422.078v33.895c0 15.762 14.948 27.279 30.173 23.199C160.228 444.324 224 345.018 224 208V80c0-26.51-21.49-48-48-48z"})),C_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"link",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"})),b_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"strikethrough",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M496 288H16c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h480c8.837 0 16 7.163 16 16v32c0 8.837-7.163 16-16 16zm-214.666 16c27.258 12.937 46.524 28.683 46.524 56.243 0 33.108-28.977 53.676-75.621 53.676-32.325 0-76.874-12.08-76.874-44.271V368c0-8.837-7.164-16-16-16H113.75c-8.836 0-16 7.163-16 16v19.204c0 66.845 77.717 101.82 154.487 101.82 88.578 0 162.013-45.438 162.013-134.424 0-19.815-3.618-36.417-10.143-50.6H281.334zm-30.952-96c-32.422-13.505-56.836-28.946-56.836-59.683 0-33.92 30.901-47.406 64.962-47.406 42.647 0 64.962 16.593 64.962 32.985V136c0 8.837 7.164 16 16 16h45.613c8.836 0 16-7.163 16-16v-30.318c0-52.438-71.725-79.875-142.575-79.875-85.203 0-150.726 40.972-150.726 125.646 0 22.71 4.665 41.176 12.777 56.547h129.823z"})),T_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"italic",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M204.758 416h-33.849l62.092-320h40.725a16 16 0 0 0 15.704-12.937l6.242-32C297.599 41.184 290.034 32 279.968 32H120.235a16 16 0 0 0-15.704 12.937l-6.242 32C96.362 86.816 103.927 96 113.993 96h33.846l-62.09 320H46.278a16 16 0 0 0-15.704 12.935l-6.245 32C22.402 470.815 29.967 480 40.034 480h158.479a16 16 0 0 0 15.704-12.935l6.245-32c1.927-9.88-5.638-19.065-15.704-19.065z"})),I_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"heading",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M496 80V48c0-8.837-7.163-16-16-16H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.621v128H154.379V96H192c8.837 0 16-7.163 16-16V48c0-8.837-7.163-16-16-16H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h37.275v320H32c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.621V288H357.62v128H320c-8.837 0-16 7.163-16 16v32c0 8.837 7.163 16 16 16h160c8.837 0 16-7.163 16-16v-32c0-8.837-7.163-16-16-16h-37.275V96H480c8.837 0 16-7.163 16-16z"})),P_=Ce.createElement("svg",{className:"svg-icon","aria-hidden":"true","data-prefix":"fas","data-icon":"bold",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512","data-fa-i2svg":""},Ce.createElement("path",{fill:"currentColor",d:"M304.793 243.891c33.639-18.537 53.657-54.16 53.657-95.693 0-48.236-26.25-87.626-68.626-104.179C265.138 34.01 240.849 32 209.661 32H24c-8.837 0-16 7.163-16 16v33.049c0 8.837 7.163 16 16 16h33.113v318.53H24c-8.837 0-16 7.163-16 16V464c0 8.837 7.163 16 16 16h195.69c24.203 0 44.834-1.289 66.866-7.584C337.52 457.193 376 410.647 376 350.014c0-52.168-26.573-91.684-71.207-106.123zM142.217 100.809h67.444c16.294 0 27.536 2.019 37.525 6.717 15.828 8.479 24.906 26.502 24.906 49.446 0 35.029-20.32 56.79-53.029 56.79h-76.846V100.809zm112.642 305.475c-10.14 4.056-22.677 4.907-31.409 4.907h-81.233V281.943h84.367c39.645 0 63.057 25.38 63.057 63.057.001 28.425-13.66 52.483-34.782 61.284z"})),A_=function(t){var e=t.icon;switch(e){case"header":return I_;case"bold":return P_;case"italic":return T_;case"strikethrough":return b_;case"link":return C_;case"quote":return k_;case"code":return S_;case"image":return E_;case"unordered-list":return __;case"ordered-list":return w_;case"checked-list":return y_;default:return null}};au.SvgIcon=A_;(function(t){var e=te&&te.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=te&&te.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(js,t),n(au,t)})(Hd);var Kt={},uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.extractKeyActivatedCommands=void 0;function D_(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&t[n].handleKeyCommand&&e.push(n);return e}uu.extractKeyActivatedCommands=D_;var up;function N_(){if(up)return Kt;up=1;var t=te&&te.__assign||function(){return t=Object.assign||function(h){for(var _,v=1,T=arguments.length;v<T;v++){_=arguments[v];for(var I in _)Object.prototype.hasOwnProperty.call(_,I)&&(h[I]=_[I])}return h},t.apply(this,arguments)},e=te&&te.__awaiter||function(h,_,v,T){function I(C){return C instanceof v?C:new v(function(y){y(C)})}return new(v||(v=Promise))(function(C,y){function m(a){try{b(T.next(a))}catch(f){y(f)}}function g(a){try{b(T.throw(a))}catch(f){y(f)}}function b(a){a.done?C(a.value):I(a.value).then(m,g)}b((T=T.apply(h,_||[])).next())})},n=te&&te.__generator||function(h,_){var v={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},T,I,C,y;return y={next:m(0),throw:m(1),return:m(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function m(b){return function(a){return g([b,a])}}function g(b){if(T)throw new TypeError("Generator is already executing.");for(;v;)try{if(T=1,I&&(C=b[0]&2?I.return:b[0]?I.throw||((C=I.return)&&C.call(I),0):I.next)&&!(C=C.call(I,b[1])).done)return C;switch(I=0,C&&(b=[b[0]&2,C.value]),b[0]){case 0:case 1:C=b;break;case 4:return v.label++,{value:b[1],done:!1};case 5:v.label++,I=b[1],b=[0];continue;case 7:b=v.ops.pop(),v.trys.pop();continue;default:if(C=v.trys,!(C=C.length>0&&C[C.length-1])&&(b[0]===6||b[0]===2)){v=0;continue}if(b[0]===3&&(!C||b[1]>C[0]&&b[1]<C[3])){v.label=b[1];break}if(b[0]===6&&v.label<C[1]){v.label=C[1],C=b;break}if(C&&v.label<C[2]){v.label=C[2],v.ops.push(b);break}C[2]&&v.ops.pop(),v.trys.pop();continue}b=_.call(h,v)}catch(a){b=[6,a],I=0}finally{T=C=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.CommandOrchestrator=Kt.getStateFromTextArea=Kt.TextAreaTextApi=void 0;var r=gv(),i=Fs,s=uu,o=Ut,u=function(){function h(_){this.textAreaRef=_}return h.prototype.replaceSelection=function(_){var v=this.textAreaRef.current;return i.insertText(v,_),l(v)},h.prototype.setSelectionRange=function(_){var v=this.textAreaRef.current;return v.focus(),v.selectionStart=_.start,v.selectionEnd=_.end,l(v)},h.prototype.getState=function(){var _=this.textAreaRef.current;return l(_)},h}();Kt.TextAreaTextApi=u;function l(h){return{selection:{start:h.selectionStart,end:h.selectionEnd},text:h.value,selectedText:h.value.slice(h.selectionStart,h.selectionEnd)}}Kt.getStateFromTextArea=l;var d=function(){function h(_,v,T,I){var C=this;if(this.getCommand=function(y){var m=C.commandMap[y];if(!m)throw new Error("Cannot execute command. Command not found: "+y);return m},this.handlePossibleKeyCommand=function(y){for(var m=0,g=C.keyActivatedCommands;m<g.length;m++){var b=g[m];if(C.getCommand(b).handleKeyCommand(y))return C.executeCommand(b).then(function(a){}),!0}return!1},I&&!I.saveImage)throw new Error("paste options are incomplete. saveImage are required ");this.commandMap=t(t({},r.getDefaultCommandMap()),_||{}),this.pasteOptions=I,this.keyActivatedCommands=s.extractKeyActivatedCommands(_),this.textAreaRef=v,this.textApi=new u(v),this.l18n=T}return h.prototype.executeCommand=function(_,v){return e(this,void 0,void 0,function(){var T,I;return n(this,function(C){switch(C.label){case 0:return this.isExecuting?[2]:(this.isExecuting=!0,T=this.commandMap[_],I=T.execute({initialState:l(this.textAreaRef.current),textApi:this.textApi,l18n:this.l18n,context:v}),[4,I]);case 1:return C.sent(),this.isExecuting=!1,[2]}})})},h.prototype.executePasteCommand=function(_){return e(this,void 0,void 0,function(){return n(this,function(v){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:_})]:[2]})})},h.prototype.executeDropCommand=function(_){return e(this,void 0,void 0,function(){return n(this,function(v){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:_})]:[2]})})},h.prototype.executeSelectImageCommand=function(_){return e(this,void 0,void 0,function(){return n(this,function(v){return this.pasteOptions?[2,this.executeCommand(this.pasteOptions.command||o.getDefaultSaveImageCommandName(),{pasteOptions:this.pasteOptions,event:_})]:[2]})})},h.prototype.getCommandByName=function(_){return this.commandMap[_]},h}();return Kt.CommandOrchestrator=d,Kt}var lp;function M_(){if(lp)return Ti;lp=1;var t=te&&te.__extends||function(){var T=function(I,C){return T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var g in m)Object.prototype.hasOwnProperty.call(m,g)&&(y[g]=m[g])},T(I,C)};return function(I,C){if(typeof C!="function"&&C!==null)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");T(I,C);function y(){this.constructor=I}I.prototype=C===null?Object.create(C):(y.prototype=C.prototype,new y)}}(),e=te&&te.__assign||function(){return e=Object.assign||function(T){for(var I,C=1,y=arguments.length;C<y;C++){I=arguments[C];for(var m in I)Object.prototype.hasOwnProperty.call(I,m)&&(T[m]=I[m])}return T},e.apply(this,arguments)},n=te&&te.__awaiter||function(T,I,C,y){function m(g){return g instanceof C?g:new C(function(b){b(g)})}return new(C||(C=Promise))(function(g,b){function a(p){try{c(y.next(p))}catch(w){b(w)}}function f(p){try{c(y.throw(p))}catch(w){b(w)}}function c(p){p.done?g(p.value):m(p.value).then(a,f)}c((y=y.apply(T,I||[])).next())})},r=te&&te.__generator||function(T,I){var C={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},y,m,g,b;return b={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(b[Symbol.iterator]=function(){return this}),b;function a(c){return function(p){return f([c,p])}}function f(c){if(y)throw new TypeError("Generator is already executing.");for(;C;)try{if(y=1,m&&(g=c[0]&2?m.return:c[0]?m.throw||((g=m.return)&&g.call(m),0):m.next)&&!(g=g.call(m,c[1])).done)return g;switch(m=0,g&&(c=[c[0]&2,g.value]),c[0]){case 0:case 1:g=c;break;case 4:return C.label++,{value:c[1],done:!1};case 5:C.label++,m=c[1],c=[0];continue;case 7:c=C.ops.pop(),C.trys.pop();continue;default:if(g=C.trys,!(g=g.length>0&&g[g.length-1])&&(c[0]===6||c[0]===2)){C=0;continue}if(c[0]===3&&(!g||c[1]>g[0]&&c[1]<g[3])){C.label=c[1];break}if(c[0]===6&&C.label<g[1]){C.label=g[1],g=c;break}if(g&&C.label<g[2]){C.label=g[2],C.ops.push(c);break}g[2]&&C.ops.pop(),C.trys.pop();continue}c=I.call(T,C)}catch(p){c=[6,p],m=0}finally{y=g=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Ti,"__esModule",{value:!0}),Ti.ReactMde=void 0;var i=De,s=mv(),o=Ut,u=ou,l=Hd,d=un,h=N_(),_={accept:"image/*",multiple:!1},v=function(T){t(I,T);function I(C){var y,m=T.call(this,C)||this;m.handleTextChange=function(b){var a=m.props.onChange;a(b)},m.handlePaste=function(b){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executePasteCommand(b)];case 1:return f.sent(),[2]}})})},m.handleDrop=function(b){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executeDropCommand(b)];case 1:return f.sent(),[2]}})})},m.handleImageSelection=function(b){return n(m,void 0,void 0,function(){var a;return r(this,function(f){switch(f.label){case 0:return a=this.props.paste,!a||!a.saveImage?[2]:[4,this.commandOrchestrator.executeSelectImageCommand(b)];case 1:return f.sent(),[2]}})})},m.handleTabChange=function(b){var a=m.props.onTabChange;a(b)},m.handleCommand=function(b){return n(m,void 0,void 0,function(){return r(this,function(a){switch(a.label){case 0:return[4,this.commandOrchestrator.executeCommand(b)];case 1:return a.sent(),[2]}})})},m.finalRefs=e({},C.refs||{}),m.finalRefs.textarea||(m.finalRefs.textarea=i.createRef()),m.finalRefs.preview||(m.finalRefs.preview=i.createRef()),m.commandOrchestrator=new h.CommandOrchestrator(m.props.commands,m.finalRefs.textarea,m.props.l18n,m.props.paste?e(e({},_),m.props.paste):void 0);var g=Math.min(C.maxEditorHeight,C.minEditorHeight);return m.state={editorHeight:(y=C.initialEditorHeight)!==null&&y!==void 0?y:g},m}return I.prototype.render=function(){var C=this,y,m,g=this.props,b=g.getIcon,a=g.toolbarCommands,f=g.classes,c=g.loadingPreview,p=g.readOnly,w=g.disablePreview,E=g.value,S=g.l18n,P=g.minPreviewHeight,R=g.heightUnits,D=g.childProps,M=g.selectedTab,O=g.generateMarkdownPreview,k=g.loadSuggestions,N=g.suggestionTriggerCharacters,B=g.textAreaComponent,U=D||{},se=a.map(function(A){return A.map(function(V){var W=C.commandOrchestrator.getCommand(V);return{commandName:V,buttonContent:W.icon?W.icon(b):b(V),buttonProps:W.buttonProps,buttonComponentClass:W.buttonComponentClass}})});return i.createElement("div",{className:d.classNames("react-mde","react-mde-tabbed-layout",f==null?void 0:f.reactMde)},i.createElement(s.Toolbar,{classes:f==null?void 0:f.toolbar,buttons:se,onCommand:this.handleCommand,onTabChange:this.handleTabChange,tab:M,readOnly:p,disablePreview:w,l18n:S,buttonProps:U.commandButtons,writeButtonProps:U.writeButton,previewButtonProps:U.previewButton}),i.createElement("div",{className:d.classNames({invisible:M!=="write"})},i.createElement(s.TextArea,{classes:f==null?void 0:f.textArea,suggestionsDropdownClasses:f==null?void 0:f.suggestionsDropdown,suggestionsAutoplace:this.props.suggestionsAutoplace,refObject:this.finalRefs.textarea,onChange:this.handleTextChange,onPaste:this.handlePaste,onDrop:this.handleDrop,readOnly:p,textAreaComponent:B,textAreaProps:D&&D.textArea,height:this.state.editorHeight,heightUnits:this.props.heightUnits,value:E,suggestionTriggerCharacters:N,loadSuggestions:k,onPossibleKeyCommand:this.commandOrchestrator.handlePossibleKeyCommand}),this.props.paste&&i.createElement("label",{className:d.classNames("image-tip")},i.createElement("input",{className:d.classNames("image-input"),type:"file",accept:(y=this.props.paste.accept)!==null&&y!==void 0?y:_.accept,multiple:(m=this.props.paste.multiple)!==null&&m!==void 0?m:_.multiple,onChange:this.handleImageSelection}),i.createElement("span",null,S.pasteDropSelect))),M!=="write"&&i.createElement(s.Preview,{classes:f==null?void 0:f.preview,refObject:this.finalRefs.preview,loadingPreview:c,minHeight:P,heightUnits:R,generateMarkdownPreview:O,markdown:E}))},I.defaultProps={commands:o.getDefaultCommandMap(),toolbarCommands:o.getDefaultToolbarCommands(),getIcon:function(C){return i.createElement(l.SvgIcon,{icon:C})},readOnly:!1,l18n:u.enL18n,minEditorHeight:200,maxEditorHeight:500,minPreviewHeight:200,heightUnits:"px",selectedTab:"write",disablePreview:!1,suggestionTriggerCharacters:["@"],suggestionsAutoplace:!1},I}(i.Component);return Ti.ReactMde=v,Ti}var cp;function mv(){return cp||(cp=1,function(t){var e=te&&te.__createBinding||(Object.create?function(r,i,s,o){o===void 0&&(o=s),Object.defineProperty(r,o,{enumerable:!0,get:function(){return i[s]}})}:function(r,i,s,o){o===void 0&&(o=s),r[o]=i[s]}),n=te&&te.__exportStar||function(r,i){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),n(xs,t),n(zs,t),n(js,t),n(qa,t),n(Wa,t),n(Qa,t),n(M_(),t),n(Bs,t)}(ll)),ll}var dp;function gv(){return dp||(dp=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultToolbarCommands=t.getDefaultCommandMap=t.MdeFontAwesomeIcon=t.SvgIcon=t.MarkdownUtil=t.ToolbarButtonGroup=t.Toolbar=t.Preview=t.SuggestionsDropdown=t.TextArea=void 0;var e=Ne;t.MarkdownUtil=e;var n=mv();Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return n.TextArea}}),Object.defineProperty(t,"SuggestionsDropdown",{enumerable:!0,get:function(){return n.SuggestionsDropdown}}),Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return n.Preview}}),Object.defineProperty(t,"Toolbar",{enumerable:!0,get:function(){return n.Toolbar}}),Object.defineProperty(t,"ToolbarButtonGroup",{enumerable:!0,get:function(){return n.ToolbarButtonGroup}});var r=Hd;Object.defineProperty(t,"SvgIcon",{enumerable:!0,get:function(){return r.SvgIcon}}),Object.defineProperty(t,"MdeFontAwesomeIcon",{enumerable:!0,get:function(){return r.MdeFontAwesomeIcon}});var i=Ut;Object.defineProperty(t,"getDefaultCommandMap",{enumerable:!0,get:function(){return i.getDefaultCommandMap}}),Object.defineProperty(t,"getDefaultToolbarCommands",{enumerable:!0,get:function(){return i.getDefaultToolbarCommands}}),t.default=n.ReactMde}(ul)),ul}var O_=gv();const L_=As(O_);var vv={exports:{}};(function(t){(function(){function e(a){var f={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:`Remove only spaces, ' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids`,type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(a===!1)return JSON.parse(JSON.stringify(f));var c={};for(var p in f)f.hasOwnProperty(p)&&(c[p]=f[p].defaultValue);return c}function n(){var a=e(!0),f={};for(var c in a)a.hasOwnProperty(c)&&(f[c]=!0);return f}var r={},i={},s={},o=e(!0),u="vanilla",l={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:e(!0),allOn:n()};r.helper={},r.extensions={},r.setOption=function(a,f){return o[a]=f,this},r.getOption=function(a){return o[a]},r.getOptions=function(){return o},r.resetOptions=function(){o=e(!0)},r.setFlavor=function(a){if(!l.hasOwnProperty(a))throw Error(a+" flavor was not found");r.resetOptions();var f=l[a];u=a;for(var c in f)f.hasOwnProperty(c)&&(o[c]=f[c])},r.getFlavor=function(){return u},r.getFlavorOptions=function(a){if(l.hasOwnProperty(a))return l[a]},r.getDefaultOptions=function(a){return e(a)},r.subParser=function(a,f){if(r.helper.isString(a))if(typeof f<"u")i[a]=f;else{if(i.hasOwnProperty(a))return i[a];throw Error("SubParser named "+a+" not registered!")}},r.extension=function(a,f){if(!r.helper.isString(a))throw Error("Extension 'name' must be a string");if(a=r.helper.stdExtName(a),r.helper.isUndefined(f)){if(!s.hasOwnProperty(a))throw Error("Extension named "+a+" is not registered!");return s[a]}else{typeof f=="function"&&(f=f()),r.helper.isArray(f)||(f=[f]);var c=d(f,a);if(c.valid)s[a]=f;else throw Error(c.error)}},r.getAllExtensions=function(){return s},r.removeExtension=function(a){delete s[a]},r.resetExtensions=function(){s={}};function d(a,f){var c=f?"Error in "+f+" extension->":"Error in unnamed extension",p={valid:!0,error:""};r.helper.isArray(a)||(a=[a]);for(var w=0;w<a.length;++w){var E=c+" sub-extension "+w+": ",S=a[w];if(typeof S!="object")return p.valid=!1,p.error=E+"must be an object, but "+typeof S+" given",p;if(!r.helper.isString(S.type))return p.valid=!1,p.error=E+'property "type" must be a string, but '+typeof S.type+" given",p;var P=S.type=S.type.toLowerCase();if(P==="language"&&(P=S.type="lang"),P==="html"&&(P=S.type="output"),P!=="lang"&&P!=="output"&&P!=="listener")return p.valid=!1,p.error=E+"type "+P+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',p;if(P==="listener"){if(r.helper.isUndefined(S.listeners))return p.valid=!1,p.error=E+'. Extensions of type "listener" must have a property called "listeners"',p}else if(r.helper.isUndefined(S.filter)&&r.helper.isUndefined(S.regex))return p.valid=!1,p.error=E+P+' extensions must define either a "regex" property or a "filter" method',p;if(S.listeners){if(typeof S.listeners!="object")return p.valid=!1,p.error=E+'"listeners" property must be an object but '+typeof S.listeners+" given",p;for(var R in S.listeners)if(S.listeners.hasOwnProperty(R)&&typeof S.listeners[R]!="function")return p.valid=!1,p.error=E+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+R+" must be a function but "+typeof S.listeners[R]+" given",p}if(S.filter){if(typeof S.filter!="function")return p.valid=!1,p.error=E+'"filter" must be a function, but '+typeof S.filter+" given",p}else if(S.regex){if(r.helper.isString(S.regex)&&(S.regex=new RegExp(S.regex,"g")),!(S.regex instanceof RegExp))return p.valid=!1,p.error=E+'"regex" property must either be a string or a RegExp object, but '+typeof S.regex+" given",p;if(r.helper.isUndefined(S.replace))return p.valid=!1,p.error=E+'"regex" extensions must implement a replace string or function',p}}return p}r.validateExtension=function(a){var f=d(a,null);return f.valid?!0:(console.warn(f.error),!1)},r.hasOwnProperty("helper")||(r.helper={}),r.helper.isString=function(a){return typeof a=="string"||a instanceof String},r.helper.isFunction=function(a){var f={};return a&&f.toString.call(a)==="[object Function]"},r.helper.isArray=function(a){return Array.isArray(a)},r.helper.isUndefined=function(a){return typeof a>"u"},r.helper.forEach=function(a,f){if(r.helper.isUndefined(a))throw new Error("obj param is required");if(r.helper.isUndefined(f))throw new Error("callback param is required");if(!r.helper.isFunction(f))throw new Error("callback param must be a function/closure");if(typeof a.forEach=="function")a.forEach(f);else if(r.helper.isArray(a))for(var c=0;c<a.length;c++)f(a[c],c,a);else if(typeof a=="object")for(var p in a)a.hasOwnProperty(p)&&f(a[p],p,a);else throw new Error("obj does not seem to be an array or an iterable object")},r.helper.stdExtName=function(a){return a.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()};function h(a,f){var c=f.charCodeAt(0);return"E"+c+"E"}r.helper.escapeCharactersCallback=h,r.helper.escapeCharacters=function(a,f,c){var p="(["+f.replace(/([\[\]\\])/g,"\\$1")+"])";c&&(p="\\\\"+p);var w=new RegExp(p,"g");return a=a.replace(w,h),a},r.helper.unescapeHTMLEntities=function(a){return a.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var _=function(a,f,c,p){var w=p||"",E=w.indexOf("g")>-1,S=new RegExp(f+"|"+c,"g"+w.replace(/g/g,"")),P=new RegExp(f,w.replace(/g/g,"")),R=[],D,M,O,k,N;do for(D=0;O=S.exec(a);)if(P.test(O[0]))D++||(M=S.lastIndex,k=M-O[0].length);else if(D&&!--D){N=O.index+O[0].length;var B={left:{start:k,end:M},match:{start:M,end:O.index},right:{start:O.index,end:N},wholeMatch:{start:k,end:N}};if(R.push(B),!E)return R}while(D&&(S.lastIndex=M));return R};r.helper.matchRecursiveRegExp=function(a,f,c,p){for(var w=_(a,f,c,p),E=[],S=0;S<w.length;++S)E.push([a.slice(w[S].wholeMatch.start,w[S].wholeMatch.end),a.slice(w[S].match.start,w[S].match.end),a.slice(w[S].left.start,w[S].left.end),a.slice(w[S].right.start,w[S].right.end)]);return E},r.helper.replaceRecursiveRegExp=function(a,f,c,p,w){if(!r.helper.isFunction(f)){var E=f;f=function(){return E}}var S=_(a,c,p,w),P=a,R=S.length;if(R>0){var D=[];S[0].wholeMatch.start!==0&&D.push(a.slice(0,S[0].wholeMatch.start));for(var M=0;M<R;++M)D.push(f(a.slice(S[M].wholeMatch.start,S[M].wholeMatch.end),a.slice(S[M].match.start,S[M].match.end),a.slice(S[M].left.start,S[M].left.end),a.slice(S[M].right.start,S[M].right.end))),M<R-1&&D.push(a.slice(S[M].wholeMatch.end,S[M+1].wholeMatch.start));S[R-1].wholeMatch.end<a.length&&D.push(a.slice(S[R-1].wholeMatch.end)),P=D.join("")}return P},r.helper.regexIndexOf=function(a,f,c){if(!r.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(!(f instanceof RegExp))throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var p=a.substring(c||0).search(f);return p>=0?p+(c||0):p},r.helper.splitAtIndex=function(a,f){if(!r.helper.isString(a))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[a.substring(0,f),a.substring(f)]},r.helper.encodeEmailAddress=function(a){var f=[function(c){return"&#"+c.charCodeAt(0)+";"},function(c){return"&#x"+c.charCodeAt(0).toString(16)+";"},function(c){return c}];return a=a.replace(/./g,function(c){if(c==="@")c=f[Math.floor(Math.random()*2)](c);else{var p=Math.random();c=p>.9?f[2](c):p>.45?f[1](c):f[0](c)}return c}),a},r.helper.padEnd=function(f,c,p){return c=c>>0,p=String(p||" "),f.length>c?String(f):(c=c-f.length,c>p.length&&(p+=p.repeat(c/p.length)),String(f)+p.slice(0,c))},typeof console>"u"&&(console={warn:function(a){alert(a)},log:function(a){alert(a)},error:function(a){throw a}}),r.helper.regexes={asteriskDashAndColon:/([*_:~])/g},r.helper.emojis={"+1":"","-1":"",100:"",1234:"","1st_place_medal":"","2nd_place_medal":"","3rd_place_medal":"","8ball":"",a:"",ab:"",abc:"",abcd:"",accept:"",aerial_tramway:"",airplane:"",alarm_clock:"",alembic:"",alien:"",ambulance:"",amphora:"",anchor:"",angel:"",anger:"",angry:"",anguished:"",ant:"",apple:"",aquarius:"",aries:"",arrow_backward:"",arrow_double_down:"",arrow_double_up:"",arrow_down:"",arrow_down_small:"",arrow_forward:"",arrow_heading_down:"",arrow_heading_up:"",arrow_left:"",arrow_lower_left:"",arrow_lower_right:"",arrow_right:"",arrow_right_hook:"",arrow_up:"",arrow_up_down:"",arrow_up_small:"",arrow_upper_left:"",arrow_upper_right:"",arrows_clockwise:"",arrows_counterclockwise:"",art:"",articulated_lorry:"",artificial_satellite:"",astonished:"",athletic_shoe:"",atm:"",atom_symbol:"",avocado:"",b:"",baby:"",baby_bottle:"",baby_chick:"",baby_symbol:"",back:"",bacon:"",badminton:"",baggage_claim:"",baguette_bread:"",balance_scale:"",balloon:"",ballot_box:"",ballot_box_with_check:"",bamboo:"",banana:"",bangbang:"",bank:"",bar_chart:"",barber:"",baseball:"",basketball:"",basketball_man:"",basketball_woman:"&zwj;",bat:"",bath:"",bathtub:"",battery:"",beach_umbrella:"",bear:"",bed:"",bee:"",beer:"",beers:"",beetle:"",beginner:"",bell:"",bellhop_bell:"",bento:"",biking_man:"",bike:"",biking_woman:"&zwj;",bikini:"",biohazard:"",bird:"",birthday:"",black_circle:"",black_flag:"",black_heart:"",black_joker:"",black_large_square:"",black_medium_small_square:"",black_medium_square:"",black_nib:"",black_small_square:"",black_square_button:"",blonde_man:"",blonde_woman:"&zwj;",blossom:"",blowfish:"",blue_book:"",blue_car:"",blue_heart:"",blush:"",boar:"",boat:"",bomb:"",book:"",bookmark:"",bookmark_tabs:"",books:"",boom:"",boot:"",bouquet:"",bowing_man:"",bow_and_arrow:"",bowing_woman:"&zwj;",bowling:"",boxing_glove:"",boy:"",bread:"",bride_with_veil:"",bridge_at_night:"",briefcase:"",broken_heart:"",bug:"",building_construction:"",bulb:"",bullettrain_front:"",bullettrain_side:"",burrito:"",bus:"",business_suit_levitating:"",busstop:"",bust_in_silhouette:"",busts_in_silhouette:"",butterfly:"",cactus:"",cake:"",calendar:"",call_me_hand:"",calling:"",camel:"",camera:"",camera_flash:"",camping:"",cancer:"",candle:"",candy:"",canoe:"",capital_abcd:"",capricorn:"",car:"",card_file_box:"",card_index:"",card_index_dividers:"",carousel_horse:"",carrot:"",cat:"",cat2:"",cd:"",chains:"",champagne:"",chart:"",chart_with_downwards_trend:"",chart_with_upwards_trend:"",checkered_flag:"",cheese:"",cherries:"",cherry_blossom:"",chestnut:"",chicken:"",children_crossing:"",chipmunk:"",chocolate_bar:"",christmas_tree:"",church:"",cinema:"",circus_tent:"",city_sunrise:"",city_sunset:"",cityscape:"",cl:"",clamp:"",clap:"",clapper:"",classical_building:"",clinking_glasses:"",clipboard:"",clock1:"",clock10:"",clock1030:"",clock11:"",clock1130:"",clock12:"",clock1230:"",clock130:"",clock2:"",clock230:"",clock3:"",clock330:"",clock4:"",clock430:"",clock5:"",clock530:"",clock6:"",clock630:"",clock7:"",clock730:"",clock8:"",clock830:"",clock9:"",clock930:"",closed_book:"",closed_lock_with_key:"",closed_umbrella:"",cloud:"",cloud_with_lightning:"",cloud_with_lightning_and_rain:"",cloud_with_rain:"",cloud_with_snow:"",clown_face:"",clubs:"",cocktail:"",coffee:"",coffin:"",cold_sweat:"",comet:"",computer:"",computer_mouse:"",confetti_ball:"",confounded:"",confused:"",congratulations:"",construction:"",construction_worker_man:"",construction_worker_woman:"&zwj;",control_knobs:"",convenience_store:"",cookie:"",cool:"",policeman:"",copyright:"",corn:"",couch_and_lamp:"",couple:"",couple_with_heart_woman_man:"",couple_with_heart_man_man:"&zwj;&zwj;",couple_with_heart_woman_woman:"&zwj;&zwj;",couplekiss_man_man:"&zwj;&zwj;&zwj;",couplekiss_man_woman:"",couplekiss_woman_woman:"&zwj;&zwj;&zwj;",cow:"",cow2:"",cowboy_hat_face:"",crab:"",crayon:"",credit_card:"",crescent_moon:"",cricket:"",crocodile:"",croissant:"",crossed_fingers:"",crossed_flags:"",crossed_swords:"",crown:"",cry:"",crying_cat_face:"",crystal_ball:"",cucumber:"",cupid:"",curly_loop:"",currency_exchange:"",curry:"",custard:"",customs:"",cyclone:"",dagger:"",dancer:"",dancing_women:"",dancing_men:"&zwj;",dango:"",dark_sunglasses:"",dart:"",dash:"",date:"",deciduous_tree:"",deer:"",department_store:"",derelict_house:"",desert:"",desert_island:"",desktop_computer:"",male_detective:"",diamond_shape_with_a_dot_inside:"",diamonds:"",disappointed:"",disappointed_relieved:"",dizzy:"",dizzy_face:"",do_not_litter:"",dog:"",dog2:"",dollar:"",dolls:"",dolphin:"",door:"",doughnut:"",dove:"",dragon:"",dragon_face:"",dress:"",dromedary_camel:"",drooling_face:"",droplet:"",drum:"",duck:"",dvd:"","e-mail":"",eagle:"",ear:"",ear_of_rice:"",earth_africa:"",earth_americas:"",earth_asia:"",egg:"",eggplant:"",eight_pointed_black_star:"",eight_spoked_asterisk:"",electric_plug:"",elephant:"",email:"",end:"",envelope_with_arrow:"",euro:"",european_castle:"",european_post_office:"",evergreen_tree:"",exclamation:"",expressionless:"",eye:"",eye_speech_bubble:"&zwj;",eyeglasses:"",eyes:"",face_with_head_bandage:"",face_with_thermometer:"",fist_oncoming:"",factory:"",fallen_leaf:"",family_man_woman_boy:"",family_man_boy:"&zwj;",family_man_boy_boy:"&zwj;&zwj;",family_man_girl:"&zwj;",family_man_girl_boy:"&zwj;&zwj;",family_man_girl_girl:"&zwj;&zwj;",family_man_man_boy:"&zwj;&zwj;",family_man_man_boy_boy:"&zwj;&zwj;&zwj;",family_man_man_girl:"&zwj;&zwj;",family_man_man_girl_boy:"&zwj;&zwj;&zwj;",family_man_man_girl_girl:"&zwj;&zwj;&zwj;",family_man_woman_boy_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl:"&zwj;&zwj;",family_man_woman_girl_boy:"&zwj;&zwj;&zwj;",family_man_woman_girl_girl:"&zwj;&zwj;&zwj;",family_woman_boy:"&zwj;",family_woman_boy_boy:"&zwj;&zwj;",family_woman_girl:"&zwj;",family_woman_girl_boy:"&zwj;&zwj;",family_woman_girl_girl:"&zwj;&zwj;",family_woman_woman_boy:"&zwj;&zwj;",family_woman_woman_boy_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl:"&zwj;&zwj;",family_woman_woman_girl_boy:"&zwj;&zwj;&zwj;",family_woman_woman_girl_girl:"&zwj;&zwj;&zwj;",fast_forward:"",fax:"",fearful:"",feet:"",female_detective:"&zwj;",ferris_wheel:"",ferry:"",field_hockey:"",file_cabinet:"",file_folder:"",film_projector:"",film_strip:"",fire:"",fire_engine:"",fireworks:"",first_quarter_moon:"",first_quarter_moon_with_face:"",fish:"",fish_cake:"",fishing_pole_and_fish:"",fist_raised:"",fist_left:"",fist_right:"",flags:"",flashlight:"",fleur_de_lis:"",flight_arrival:"",flight_departure:"",floppy_disk:"",flower_playing_cards:"",flushed:"",fog:"",foggy:"",football:"",footprints:"",fork_and_knife:"",fountain:"",fountain_pen:"",four_leaf_clover:"",fox_face:"",framed_picture:"",free:"",fried_egg:"",fried_shrimp:"",fries:"",frog:"",frowning:"",frowning_face:"",frowning_man:"&zwj;",frowning_woman:"",middle_finger:"",fuelpump:"",full_moon:"",full_moon_with_face:"",funeral_urn:"",game_die:"",gear:"",gem:"",gemini:"",ghost:"",gift:"",gift_heart:"",girl:"",globe_with_meridians:"",goal_net:"",goat:"",golf:"",golfing_man:"",golfing_woman:"&zwj;",gorilla:"",grapes:"",green_apple:"",green_book:"",green_heart:"",green_salad:"",grey_exclamation:"",grey_question:"",grimacing:"",grin:"",grinning:"",guardsman:"",guardswoman:"&zwj;",guitar:"",gun:"",haircut_woman:"",haircut_man:"&zwj;",hamburger:"",hammer:"",hammer_and_pick:"",hammer_and_wrench:"",hamster:"",hand:"",handbag:"",handshake:"",hankey:"",hatched_chick:"",hatching_chick:"",headphones:"",hear_no_evil:"",heart:"",heart_decoration:"",heart_eyes:"",heart_eyes_cat:"",heartbeat:"",heartpulse:"",hearts:"",heavy_check_mark:"",heavy_division_sign:"",heavy_dollar_sign:"",heavy_heart_exclamation:"",heavy_minus_sign:"",heavy_multiplication_x:"",heavy_plus_sign:"",helicopter:"",herb:"",hibiscus:"",high_brightness:"",high_heel:"",hocho:"",hole:"",honey_pot:"",horse:"",horse_racing:"",hospital:"",hot_pepper:"",hotdog:"",hotel:"",hotsprings:"",hourglass:"",hourglass_flowing_sand:"",house:"",house_with_garden:"",houses:"",hugs:"",hushed:"",ice_cream:"",ice_hockey:"",ice_skate:"",icecream:"",id:"",ideograph_advantage:"",imp:"",inbox_tray:"",incoming_envelope:"",tipping_hand_woman:"",information_source:"",innocent:"",interrobang:"",iphone:"",izakaya_lantern:"",jack_o_lantern:"",japan:"",japanese_castle:"",japanese_goblin:"",japanese_ogre:"",jeans:"",joy:"",joy_cat:"",joystick:"",kaaba:"",key:"",keyboard:"",keycap_ten:"",kick_scooter:"",kimono:"",kiss:"",kissing:"",kissing_cat:"",kissing_closed_eyes:"",kissing_heart:"",kissing_smiling_eyes:"",kiwi_fruit:"",koala:"",koko:"",label:"",large_blue_circle:"",large_blue_diamond:"",large_orange_diamond:"",last_quarter_moon:"",last_quarter_moon_with_face:"",latin_cross:"",laughing:"",leaves:"",ledger:"",left_luggage:"",left_right_arrow:"",leftwards_arrow_with_hook:"",lemon:"",leo:"",leopard:"",level_slider:"",libra:"",light_rail:"",link:"",lion:"",lips:"",lipstick:"",lizard:"",lock:"",lock_with_ink_pen:"",lollipop:"",loop:"",loud_sound:"",loudspeaker:"",love_hotel:"",love_letter:"",low_brightness:"",lying_face:"",m:"",mag:"",mag_right:"",mahjong:"",mailbox:"",mailbox_closed:"",mailbox_with_mail:"",mailbox_with_no_mail:"",man:"",man_artist:"&zwj;",man_astronaut:"&zwj;",man_cartwheeling:"&zwj;",man_cook:"&zwj;",man_dancing:"",man_facepalming:"&zwj;",man_factory_worker:"&zwj;",man_farmer:"&zwj;",man_firefighter:"&zwj;",man_health_worker:"&zwj;",man_in_tuxedo:"",man_judge:"&zwj;",man_juggling:"&zwj;",man_mechanic:"&zwj;",man_office_worker:"&zwj;",man_pilot:"&zwj;",man_playing_handball:"&zwj;",man_playing_water_polo:"&zwj;",man_scientist:"&zwj;",man_shrugging:"&zwj;",man_singer:"&zwj;",man_student:"&zwj;",man_teacher:"&zwj;",man_technologist:"&zwj;",man_with_gua_pi_mao:"",man_with_turban:"",tangerine:"",mans_shoe:"",mantelpiece_clock:"",maple_leaf:"",martial_arts_uniform:"",mask:"",massage_woman:"",massage_man:"&zwj;",meat_on_bone:"",medal_military:"",medal_sports:"",mega:"",melon:"",memo:"",men_wrestling:"&zwj;",menorah:"",mens:"",metal:"",metro:"",microphone:"",microscope:"",milk_glass:"",milky_way:"",minibus:"",minidisc:"",mobile_phone_off:"",money_mouth_face:"",money_with_wings:"",moneybag:"",monkey:"",monkey_face:"",monorail:"",moon:"",mortar_board:"",mosque:"",motor_boat:"",motor_scooter:"",motorcycle:"",motorway:"",mount_fuji:"",mountain:"",mountain_biking_man:"",mountain_biking_woman:"&zwj;",mountain_cableway:"",mountain_railway:"",mountain_snow:"",mouse:"",mouse2:"",movie_camera:"",moyai:"",mrs_claus:"",muscle:"",mushroom:"",musical_keyboard:"",musical_note:"",musical_score:"",mute:"",nail_care:"",name_badge:"",national_park:"",nauseated_face:"",necktie:"",negative_squared_cross_mark:"",nerd_face:"",neutral_face:"",new:"",new_moon:"",new_moon_with_face:"",newspaper:"",newspaper_roll:"",next_track_button:"",ng:"",no_good_man:"&zwj;",no_good_woman:"",night_with_stars:"",no_bell:"",no_bicycles:"",no_entry:"",no_entry_sign:"",no_mobile_phones:"",no_mouth:"",no_pedestrians:"",no_smoking:"","non-potable_water":"",nose:"",notebook:"",notebook_with_decorative_cover:"",notes:"",nut_and_bolt:"",o:"",o2:"",ocean:"",octopus:"",oden:"",office:"",oil_drum:"",ok:"",ok_hand:"",ok_man:"&zwj;",ok_woman:"",old_key:"",older_man:"",older_woman:"",om:"",on:"",oncoming_automobile:"",oncoming_bus:"",oncoming_police_car:"",oncoming_taxi:"",open_file_folder:"",open_hands:"",open_mouth:"",open_umbrella:"",ophiuchus:"",orange_book:"",orthodox_cross:"",outbox_tray:"",owl:"",ox:"",package:"",page_facing_up:"",page_with_curl:"",pager:"",paintbrush:"",palm_tree:"",pancakes:"",panda_face:"",paperclip:"",paperclips:"",parasol_on_ground:"",parking:"",part_alternation_mark:"",partly_sunny:"",passenger_ship:"",passport_control:"",pause_button:"",peace_symbol:"",peach:"",peanuts:"",pear:"",pen:"",pencil2:"",penguin:"",pensive:"",performing_arts:"",persevere:"",person_fencing:"",pouting_woman:"",phone:"",pick:"",pig:"",pig2:"",pig_nose:"",pill:"",pineapple:"",ping_pong:"",pisces:"",pizza:"",place_of_worship:"",plate_with_cutlery:"",play_or_pause_button:"",point_down:"",point_left:"",point_right:"",point_up:"",point_up_2:"",police_car:"",policewoman:"&zwj;",poodle:"",popcorn:"",post_office:"",postal_horn:"",postbox:"",potable_water:"",potato:"",pouch:"",poultry_leg:"",pound:"",rage:"",pouting_cat:"",pouting_man:"&zwj;",pray:"",prayer_beads:"",pregnant_woman:"",previous_track_button:"",prince:"",princess:"",printer:"",purple_heart:"",purse:"",pushpin:"",put_litter_in_its_place:"",question:"",rabbit:"",rabbit2:"",racehorse:"",racing_car:"",radio:"",radio_button:"",radioactive:"",railway_car:"",railway_track:"",rainbow:"",rainbow_flag:"&zwj;",raised_back_of_hand:"",raised_hand_with_fingers_splayed:"",raised_hands:"",raising_hand_woman:"",raising_hand_man:"&zwj;",ram:"",ramen:"",rat:"",record_button:"",recycle:"",red_circle:"",registered:"",relaxed:"",relieved:"",reminder_ribbon:"",repeat:"",repeat_one:"",rescue_worker_helmet:"",restroom:"",revolving_hearts:"",rewind:"",rhinoceros:"",ribbon:"",rice:"",rice_ball:"",rice_cracker:"",rice_scene:"",right_anger_bubble:"",ring:"",robot:"",rocket:"",rofl:"",roll_eyes:"",roller_coaster:"",rooster:"",rose:"",rosette:"",rotating_light:"",round_pushpin:"",rowing_man:"",rowing_woman:"&zwj;",rugby_football:"",running_man:"",running_shirt_with_sash:"",running_woman:"&zwj;",sa:"",sagittarius:"",sake:"",sandal:"",santa:"",satellite:"",saxophone:"",school:"",school_satchel:"",scissors:"",scorpion:"",scorpius:"",scream:"",scream_cat:"",scroll:"",seat:"",secret:"",see_no_evil:"",seedling:"",selfie:"",shallow_pan_of_food:"",shamrock:"",shark:"",shaved_ice:"",sheep:"",shell:"",shield:"",shinto_shrine:"",ship:"",shirt:"",shopping:"",shopping_cart:"",shower:"",shrimp:"",signal_strength:"",six_pointed_star:"",ski:"",skier:"",skull:"",skull_and_crossbones:"",sleeping:"",sleeping_bed:"",sleepy:"",slightly_frowning_face:"",slightly_smiling_face:"",slot_machine:"",small_airplane:"",small_blue_diamond:"",small_orange_diamond:"",small_red_triangle:"",small_red_triangle_down:"",smile:"",smile_cat:"",smiley:"",smiley_cat:"",smiling_imp:"",smirk:"",smirk_cat:"",smoking:"",snail:"",snake:"",sneezing_face:"",snowboarder:"",snowflake:"",snowman:"",snowman_with_snow:"",sob:"",soccer:"",soon:"",sos:"",sound:"",space_invader:"",spades:"",spaghetti:"",sparkle:"",sparkler:"",sparkles:"",sparkling_heart:"",speak_no_evil:"",speaker:"",speaking_head:"",speech_balloon:"",speedboat:"",spider:"",spider_web:"",spiral_calendar:"",spiral_notepad:"",spoon:"",squid:"",stadium:"",star:"",star2:"",star_and_crescent:"",star_of_david:"",stars:"",station:"",statue_of_liberty:"",steam_locomotive:"",stew:"",stop_button:"",stop_sign:"",stopwatch:"",straight_ruler:"",strawberry:"",stuck_out_tongue:"",stuck_out_tongue_closed_eyes:"",stuck_out_tongue_winking_eye:"",studio_microphone:"",stuffed_flatbread:"",sun_behind_large_cloud:"",sun_behind_rain_cloud:"",sun_behind_small_cloud:"",sun_with_face:"",sunflower:"",sunglasses:"",sunny:"",sunrise:"",sunrise_over_mountains:"",surfing_man:"",surfing_woman:"&zwj;",sushi:"",suspension_railway:"",sweat:"",sweat_drops:"",sweat_smile:"",sweet_potato:"",swimming_man:"",swimming_woman:"&zwj;",symbols:"",synagogue:"",syringe:"",taco:"",tada:"",tanabata_tree:"",taurus:"",taxi:"",tea:"",telephone_receiver:"",telescope:"",tennis:"",tent:"",thermometer:"",thinking:"",thought_balloon:"",ticket:"",tickets:"",tiger:"",tiger2:"",timer_clock:"",tipping_hand_man:"&zwj;",tired_face:"",tm:"",toilet:"",tokyo_tower:"",tomato:"",tongue:"",top:"",tophat:"",tornado:"",trackball:"",tractor:"",traffic_light:"",train:"",train2:"",tram:"",triangular_flag_on_post:"",triangular_ruler:"",trident:"",triumph:"",trolleybus:"",trophy:"",tropical_drink:"",tropical_fish:"",truck:"",trumpet:"",tulip:"",tumbler_glass:"",turkey:"",turtle:"",tv:"",twisted_rightwards_arrows:"",two_hearts:"",two_men_holding_hands:"",two_women_holding_hands:"",u5272:"",u5408:"",u55b6:"",u6307:"",u6708:"",u6709:"",u6e80:"",u7121:"",u7533:"",u7981:"",u7a7a:"",umbrella:"",unamused:"",underage:"",unicorn:"",unlock:"",up:"",upside_down_face:"",v:"",vertical_traffic_light:"",vhs:"",vibration_mode:"",video_camera:"",video_game:"",violin:"",virgo:"",volcano:"",volleyball:"",vs:"",vulcan_salute:"",walking_man:"",walking_woman:"&zwj;",waning_crescent_moon:"",waning_gibbous_moon:"",warning:"",wastebasket:"",watch:"",water_buffalo:"",watermelon:"",wave:"",wavy_dash:"",waxing_crescent_moon:"",wc:"",weary:"",wedding:"",weight_lifting_man:"",weight_lifting_woman:"&zwj;",whale:"",whale2:"",wheel_of_dharma:"",wheelchair:"",white_check_mark:"",white_circle:"",white_flag:"",white_flower:"",white_large_square:"",white_medium_small_square:"",white_medium_square:"",white_small_square:"",white_square_button:"",wilted_flower:"",wind_chime:"",wind_face:"",wine_glass:"",wink:"",wolf:"",woman:"",woman_artist:"&zwj;",woman_astronaut:"&zwj;",woman_cartwheeling:"&zwj;",woman_cook:"&zwj;",woman_facepalming:"&zwj;",woman_factory_worker:"&zwj;",woman_farmer:"&zwj;",woman_firefighter:"&zwj;",woman_health_worker:"&zwj;",woman_judge:"&zwj;",woman_juggling:"&zwj;",woman_mechanic:"&zwj;",woman_office_worker:"&zwj;",woman_pilot:"&zwj;",woman_playing_handball:"&zwj;",woman_playing_water_polo:"&zwj;",woman_scientist:"&zwj;",woman_shrugging:"&zwj;",woman_singer:"&zwj;",woman_student:"&zwj;",woman_teacher:"&zwj;",woman_technologist:"&zwj;",woman_with_turban:"&zwj;",womans_clothes:"",womans_hat:"",women_wrestling:"&zwj;",womens:"",world_map:"",worried:"",wrench:"",writing_hand:"",x:"",yellow_heart:"",yen:"",yin_yang:"",yum:"",zap:"",zipper_mouth_face:"",zzz:"",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:`<span style="font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;">S</span>`},r.Converter=function(a){var f={},c=[],p=[],w={},E=u,S={parsed:{},raw:"",format:""};P();function P(){a=a||{};for(var k in o)o.hasOwnProperty(k)&&(f[k]=o[k]);if(typeof a=="object")for(var N in a)a.hasOwnProperty(N)&&(f[N]=a[N]);else throw Error("Converter expects the passed parameter to be an object, but "+typeof a+" was passed instead.");f.extensions&&r.helper.forEach(f.extensions,R)}function R(k,N){if(N=N||null,r.helper.isString(k))if(k=r.helper.stdExtName(k),N=k,r.extensions[k]){console.warn("DEPRECATION WARNING: "+k+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),D(r.extensions[k],k);return}else if(!r.helper.isUndefined(s[k]))k=s[k];else throw Error('Extension "'+k+'" could not be loaded. It was either not found or is not a valid extension.');typeof k=="function"&&(k=k()),r.helper.isArray(k)||(k=[k]);var B=d(k,N);if(!B.valid)throw Error(B.error);for(var U=0;U<k.length;++U){switch(k[U].type){case"lang":c.push(k[U]);break;case"output":p.push(k[U]);break}if(k[U].hasOwnProperty("listeners"))for(var se in k[U].listeners)k[U].listeners.hasOwnProperty(se)&&M(se,k[U].listeners[se])}}function D(k,N){typeof k=="function"&&(k=k(new r.Converter)),r.helper.isArray(k)||(k=[k]);var B=d(k,N);if(!B.valid)throw Error(B.error);for(var U=0;U<k.length;++U)switch(k[U].type){case"lang":c.push(k[U]);break;case"output":p.push(k[U]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}function M(k,N){if(!r.helper.isString(k))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof k+" given");if(typeof N!="function")throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof N+" given");w.hasOwnProperty(k)||(w[k]=[]),w[k].push(N)}function O(k){var N=k.match(/^\s*/)[0].length,B=new RegExp("^\\s{0,"+N+"}","gm");return k.replace(B,"")}this._dispatch=function(N,B,U,se){if(w.hasOwnProperty(N))for(var A=0;A<w[N].length;++A){var V=w[N][A](N,B,this,U,se);V&&typeof V<"u"&&(B=V)}return B},this.listen=function(k,N){return M(k,N),this},this.makeHtml=function(k){if(!k)return k;var N={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:c,outputModifiers:p,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return k=k.replace(//g,"T"),k=k.replace(/\$/g,"D"),k=k.replace(/\r\n/g,`
`),k=k.replace(/\r/g,`
`),k=k.replace(/\u00A0/g,"&nbsp;"),f.smartIndentationFix&&(k=O(k)),k=`

`+k+`

`,k=r.subParser("detab")(k,f,N),k=k.replace(/^[ \t]+$/mg,""),r.helper.forEach(c,function(B){k=r.subParser("runExtension")(B,k,f,N)}),k=r.subParser("metadata")(k,f,N),k=r.subParser("hashPreCodeTags")(k,f,N),k=r.subParser("githubCodeBlocks")(k,f,N),k=r.subParser("hashHTMLBlocks")(k,f,N),k=r.subParser("hashCodeTags")(k,f,N),k=r.subParser("stripLinkDefinitions")(k,f,N),k=r.subParser("blockGamut")(k,f,N),k=r.subParser("unhashHTMLSpans")(k,f,N),k=r.subParser("unescapeSpecialChars")(k,f,N),k=k.replace(/D/g,"$$"),k=k.replace(/T/g,""),k=r.subParser("completeHTMLDocument")(k,f,N),r.helper.forEach(p,function(B){k=r.subParser("runExtension")(B,k,f,N)}),S=N.metadata,k},this.makeMarkdown=this.makeMd=function(k,N){if(k=k.replace(/\r\n/g,`
`),k=k.replace(/\r/g,`
`),k=k.replace(/>[ \t]+</,">NBSP;<"),!N)if(window&&window.document)N=window.document;else throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");var B=N.createElement("div");B.innerHTML=k;var U={preList:re(B)};W(B);for(var se=B.childNodes,A="",V=0;V<se.length;V++)A+=r.subParser("makeMarkdown.node")(se[V],U);function W(ie){for(var he=0;he<ie.childNodes.length;++he){var _e=ie.childNodes[he];_e.nodeType===3?/\S/.test(_e.nodeValue)?(_e.nodeValue=_e.nodeValue.split(`
`).join(" "),_e.nodeValue=_e.nodeValue.replace(/(\s)+/g,"$1")):(ie.removeChild(_e),--he):_e.nodeType===1&&W(_e)}}function re(ie){for(var he=ie.querySelectorAll("pre"),_e=[],j=0;j<he.length;++j)if(he[j].childElementCount===1&&he[j].firstChild.tagName.toLowerCase()==="code"){var L=he[j].firstChild.innerHTML.trim(),F=he[j].firstChild.getAttribute("data-language")||"";if(F==="")for(var G=he[j].firstChild.className.split(" "),Te=0;Te<G.length;++Te){var Ee=G[Te].match(/^language-(.+)$/);if(Ee!==null){F=Ee[1];break}}L=r.helper.unescapeHTMLEntities(L),_e.push(L),he[j].outerHTML='<precode language="'+F+'" precodenum="'+j.toString()+'"></precode>'}else _e.push(he[j].innerHTML),he[j].innerHTML="",he[j].setAttribute("prenum",j.toString());return _e}return A},this.setOption=function(k,N){f[k]=N},this.getOption=function(k){return f[k]},this.getOptions=function(){return f},this.addExtension=function(k,N){N=N||null,R(k,N)},this.useExtension=function(k){R(k)},this.setFlavor=function(k){if(!l.hasOwnProperty(k))throw Error(k+" flavor was not found");var N=l[k];E=k;for(var B in N)N.hasOwnProperty(B)&&(f[B]=N[B])},this.getFlavor=function(){return E},this.removeExtension=function(k){r.helper.isArray(k)||(k=[k]);for(var N=0;N<k.length;++N){for(var B=k[N],U=0;U<c.length;++U)c[U]===B&&c[U].splice(U,1);for(var se=0;se<p.length;++U)p[se]===B&&p[se].splice(U,1)}},this.getAllExtensions=function(){return{language:c,output:p}},this.getMetadata=function(k){return k?S.raw:S.parsed},this.getMetadataFormat=function(){return S.format},this._setMetadataPair=function(k,N){S.parsed[k]=N},this._setMetadataFormat=function(k){S.format=k},this._setMetadataRaw=function(k){S.raw=k}},r.subParser("anchors",function(a,f,c){a=c.converter._dispatch("anchors.before",a,f,c);var p=function(w,E,S,P,R,D,M){if(r.helper.isUndefined(M)&&(M=""),S=S.toLowerCase(),w.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)P="";else if(!P)if(S||(S=E.toLowerCase().replace(/ ?\n/g," ")),P="#"+S,!r.helper.isUndefined(c.gUrls[S]))P=c.gUrls[S],r.helper.isUndefined(c.gTitles[S])||(M=c.gTitles[S]);else return w;P=P.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var O='<a href="'+P+'"';return M!==""&&M!==null&&(M=M.replace(/"/g,"&quot;"),M=M.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),O+=' title="'+M+'"'),f.openLinksInNewWindow&&!/^#/.test(P)&&(O+=' rel="noopener noreferrer" target="E95Eblank"'),O+=">"+E+"</a>",O};return a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,p),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),a=a.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,p),a=a.replace(/\[([^\[\]]+)]()()()()()/g,p),f.ghMentions&&(a=a.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gmi,function(w,E,S,P,R){if(S==="\\")return E+P;if(!r.helper.isString(f.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var D=f.ghMentionsLink.replace(/\{u}/g,R),M="";return f.openLinksInNewWindow&&(M=' rel="noopener noreferrer" target="E95Eblank"'),E+'<a href="'+D+'"'+M+">"+P+"</a>"})),a=c.converter._dispatch("anchors.after",a,f,c),a});var v=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,T=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,I=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,C=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,y=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,m=function(a){return function(f,c,p,w,E,S,P){p=p.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var R=p,D="",M="",O=c||"",k=P||"";return/^www\./i.test(p)&&(p=p.replace(/^www\./i,"http://www.")),a.excludeTrailingPunctuationFromURLs&&S&&(D=S),a.openLinksInNewWindow&&(M=' rel="noopener noreferrer" target="E95Eblank"'),O+'<a href="'+p+'"'+M+">"+R+"</a>"+D+k}},g=function(a,f){return function(c,p,w){var E="mailto:";return p=p||"",w=r.subParser("unescapeSpecialChars")(w,a,f),a.encodeEmails?(E=r.helper.encodeEmailAddress(E+w),w=r.helper.encodeEmailAddress(w)):E=E+w,p+'<a href="'+E+'">'+w+"</a>"}};r.subParser("autoLinks",function(a,f,c){return a=c.converter._dispatch("autoLinks.before",a,f,c),a=a.replace(I,m(f)),a=a.replace(y,g(f,c)),a=c.converter._dispatch("autoLinks.after",a,f,c),a}),r.subParser("simplifiedAutoLinks",function(a,f,c){return f.simplifiedAutoLink&&(a=c.converter._dispatch("simplifiedAutoLinks.before",a,f,c),f.excludeTrailingPunctuationFromURLs?a=a.replace(T,m(f)):a=a.replace(v,m(f)),a=a.replace(C,g(f,c)),a=c.converter._dispatch("simplifiedAutoLinks.after",a,f,c)),a}),r.subParser("blockGamut",function(a,f,c){return a=c.converter._dispatch("blockGamut.before",a,f,c),a=r.subParser("blockQuotes")(a,f,c),a=r.subParser("headers")(a,f,c),a=r.subParser("horizontalRule")(a,f,c),a=r.subParser("lists")(a,f,c),a=r.subParser("codeBlocks")(a,f,c),a=r.subParser("tables")(a,f,c),a=r.subParser("hashHTMLBlocks")(a,f,c),a=r.subParser("paragraphs")(a,f,c),a=c.converter._dispatch("blockGamut.after",a,f,c),a}),r.subParser("blockQuotes",function(a,f,c){a=c.converter._dispatch("blockQuotes.before",a,f,c),a=a+`

`;var p=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return f.splitAdjacentBlockquotes&&(p=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),a=a.replace(p,function(w){return w=w.replace(/^[ \t]*>[ \t]?/gm,""),w=w.replace(/0/g,""),w=w.replace(/^[ \t]+$/gm,""),w=r.subParser("githubCodeBlocks")(w,f,c),w=r.subParser("blockGamut")(w,f,c),w=w.replace(/(^|\n)/g,"$1  "),w=w.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(E,S){var P=S;return P=P.replace(/^  /mg,"0"),P=P.replace(/0/g,""),P}),r.subParser("hashBlock")(`<blockquote>
`+w+`
</blockquote>`,f,c)}),a=c.converter._dispatch("blockQuotes.after",a,f,c),a}),r.subParser("codeBlocks",function(a,f,c){a=c.converter._dispatch("codeBlocks.before",a,f,c),a+="0";var p=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=0))/g;return a=a.replace(p,function(w,E,S){var P=E,R=S,D=`
`;return P=r.subParser("outdent")(P,f,c),P=r.subParser("encodeCode")(P,f,c),P=r.subParser("detab")(P,f,c),P=P.replace(/^\n+/g,""),P=P.replace(/\n+$/g,""),f.omitExtraWLInCodeBlocks&&(D=""),P="<pre><code>"+P+D+"</code></pre>",r.subParser("hashBlock")(P,f,c)+R}),a=a.replace(/0/,""),a=c.converter._dispatch("codeBlocks.after",a,f,c),a}),r.subParser("codeSpans",function(a,f,c){return a=c.converter._dispatch("codeSpans.before",a,f,c),typeof a>"u"&&(a=""),a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(p,w,E,S){var P=S;return P=P.replace(/^([ \t]*)/g,""),P=P.replace(/[ \t]*$/g,""),P=r.subParser("encodeCode")(P,f,c),P=w+"<code>"+P+"</code>",P=r.subParser("hashHTMLSpans")(P,f,c),P}),a=c.converter._dispatch("codeSpans.after",a,f,c),a}),r.subParser("completeHTMLDocument",function(a,f,c){if(!f.completeHTMLDocument)return a;a=c.converter._dispatch("completeHTMLDocument.before",a,f,c);var p="html",w=`<!DOCTYPE HTML>
`,E="",S=`<meta charset="utf-8">
`,P="",R="";typeof c.metadata.parsed.doctype<"u"&&(w="<!DOCTYPE "+c.metadata.parsed.doctype+`>
`,p=c.metadata.parsed.doctype.toString().toLowerCase(),(p==="html"||p==="html5")&&(S='<meta charset="utf-8">'));for(var D in c.metadata.parsed)if(c.metadata.parsed.hasOwnProperty(D))switch(D.toLowerCase()){case"doctype":break;case"title":E="<title>"+c.metadata.parsed.title+`</title>
`;break;case"charset":p==="html"||p==="html5"?S='<meta charset="'+c.metadata.parsed.charset+`">
`:S='<meta name="charset" content="'+c.metadata.parsed.charset+`">
`;break;case"language":case"lang":P=' lang="'+c.metadata.parsed[D]+'"',R+='<meta name="'+D+'" content="'+c.metadata.parsed[D]+`">
`;break;default:R+='<meta name="'+D+'" content="'+c.metadata.parsed[D]+`">
`}return a=w+"<html"+P+`>
<head>
`+E+S+R+`</head>
<body>
`+a.trim()+`
</body>
</html>`,a=c.converter._dispatch("completeHTMLDocument.after",a,f,c),a}),r.subParser("detab",function(a,f,c){return a=c.converter._dispatch("detab.before",a,f,c),a=a.replace(/\t(?=\t)/g,"    "),a=a.replace(/\t/g,"AB"),a=a.replace(/B(.+?)A/g,function(p,w){for(var E=w,S=4-E.length%4,P=0;P<S;P++)E+=" ";return E}),a=a.replace(/A/g,"    "),a=a.replace(/B/g,""),a=c.converter._dispatch("detab.after",a,f,c),a}),r.subParser("ellipsis",function(a,f,c){return a=c.converter._dispatch("ellipsis.before",a,f,c),a=a.replace(/\.\.\./g,""),a=c.converter._dispatch("ellipsis.after",a,f,c),a}),r.subParser("emoji",function(a,f,c){if(!f.emoji)return a;a=c.converter._dispatch("emoji.before",a,f,c);var p=/:([\S]+?):/g;return a=a.replace(p,function(w,E){return r.helper.emojis.hasOwnProperty(E)?r.helper.emojis[E]:w}),a=c.converter._dispatch("emoji.after",a,f,c),a}),r.subParser("encodeAmpsAndAngles",function(a,f,c){return a=c.converter._dispatch("encodeAmpsAndAngles.before",a,f,c),a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),a=a.replace(/<(?![a-z\/?$!])/gi,"&lt;"),a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),a=c.converter._dispatch("encodeAmpsAndAngles.after",a,f,c),a}),r.subParser("encodeBackslashEscapes",function(a,f,c){return a=c.converter._dispatch("encodeBackslashEscapes.before",a,f,c),a=a.replace(/\\(\\)/g,r.helper.escapeCharactersCallback),a=a.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,r.helper.escapeCharactersCallback),a=c.converter._dispatch("encodeBackslashEscapes.after",a,f,c),a}),r.subParser("encodeCode",function(a,f,c){return a=c.converter._dispatch("encodeCode.before",a,f,c),a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,r.helper.escapeCharactersCallback),a=c.converter._dispatch("encodeCode.after",a,f,c),a}),r.subParser("escapeSpecialCharsWithinTagAttributes",function(a,f,c){a=c.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",a,f,c);var p=/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,w=/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;return a=a.replace(p,function(E){return E.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),a=a.replace(w,function(E){return E.replace(/([\\`*_~=|])/g,r.helper.escapeCharactersCallback)}),a=c.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",a,f,c),a}),r.subParser("githubCodeBlocks",function(a,f,c){return f.ghCodeBlocks?(a=c.converter._dispatch("githubCodeBlocks.before",a,f,c),a+="0",a=a.replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,function(p,w,E,S){var P=f.omitExtraWLInCodeBlocks?"":`
`;return S=r.subParser("encodeCode")(S,f,c),S=r.subParser("detab")(S,f,c),S=S.replace(/^\n+/g,""),S=S.replace(/\n+$/g,""),S="<pre><code"+(E?' class="'+E+" language-"+E+'"':"")+">"+S+P+"</code></pre>",S=r.subParser("hashBlock")(S,f,c),`

G`+(c.ghCodeBlocks.push({text:p,codeblock:S})-1)+`G

`}),a=a.replace(/0/,""),c.converter._dispatch("githubCodeBlocks.after",a,f,c)):a}),r.subParser("hashBlock",function(a,f,c){return a=c.converter._dispatch("hashBlock.before",a,f,c),a=a.replace(/(^\n+|\n+$)/g,""),a=`

K`+(c.gHtmlBlocks.push(a)-1)+`K

`,a=c.converter._dispatch("hashBlock.after",a,f,c),a}),r.subParser("hashCodeTags",function(a,f,c){a=c.converter._dispatch("hashCodeTags.before",a,f,c);var p=function(w,E,S,P){var R=S+r.subParser("encodeCode")(E,f,c)+P;return"C"+(c.gHtmlSpans.push(R)-1)+"C"};return a=r.helper.replaceRecursiveRegExp(a,p,"<code\\b[^>]*>","</code>","gim"),a=c.converter._dispatch("hashCodeTags.after",a,f,c),a}),r.subParser("hashElement",function(a,f,c){return function(p,w){var E=w;return E=E.replace(/\n\n/g,`
`),E=E.replace(/^\n/,""),E=E.replace(/\n+$/g,""),E=`

K`+(c.gHtmlBlocks.push(E)-1)+`K

`,E}}),r.subParser("hashHTMLBlocks",function(a,f,c){a=c.converter._dispatch("hashHTMLBlocks.before",a,f,c);var p=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],w=function(k,N,B,U){var se=k;return B.search(/\bmarkdown\b/)!==-1&&(se=B+c.converter.makeHtml(N)+U),`

K`+(c.gHtmlBlocks.push(se)-1)+`K

`};f.backslashEscapesHTMLTags&&(a=a.replace(/\\<(\/?[^>]+?)>/g,function(k,N){return"&lt;"+N+"&gt;"}));for(var E=0;E<p.length;++E)for(var S,P=new RegExp("^ {0,3}(<"+p[E]+"\\b[^>]*>)","im"),R="<"+p[E]+"\\b[^>]*>",D="</"+p[E]+">";(S=r.helper.regexIndexOf(a,P))!==-1;){var M=r.helper.splitAtIndex(a,S),O=r.helper.replaceRecursiveRegExp(M[1],w,R,D,"im");if(O===M[1])break;a=M[0].concat(O)}return a=a.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(a,f,c)),a=r.helper.replaceRecursiveRegExp(a,function(k){return`

K`+(c.gHtmlBlocks.push(k)-1)+`K

`},"^ {0,3}<!--","-->","gm"),a=a.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,r.subParser("hashElement")(a,f,c)),a=c.converter._dispatch("hashHTMLBlocks.after",a,f,c),a}),r.subParser("hashHTMLSpans",function(a,f,c){a=c.converter._dispatch("hashHTMLSpans.before",a,f,c);function p(w){return"C"+(c.gHtmlSpans.push(w)-1)+"C"}return a=a.replace(/<[^>]+?\/>/gi,function(w){return p(w)}),a=a.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,function(w){return p(w)}),a=a.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,function(w){return p(w)}),a=a.replace(/<[^>]+?>/gi,function(w){return p(w)}),a=c.converter._dispatch("hashHTMLSpans.after",a,f,c),a}),r.subParser("unhashHTMLSpans",function(a,f,c){a=c.converter._dispatch("unhashHTMLSpans.before",a,f,c);for(var p=0;p<c.gHtmlSpans.length;++p){for(var w=c.gHtmlSpans[p],E=0;/C(\d+)C/.test(w);){var S=RegExp.$1;if(w=w.replace("C"+S+"C",c.gHtmlSpans[S]),E===10){console.error("maximum nesting of 10 spans reached!!!");break}++E}a=a.replace("C"+p+"C",w)}return a=c.converter._dispatch("unhashHTMLSpans.after",a,f,c),a}),r.subParser("hashPreCodeTags",function(a,f,c){a=c.converter._dispatch("hashPreCodeTags.before",a,f,c);var p=function(w,E,S,P){var R=S+r.subParser("encodeCode")(E,f,c)+P;return`

G`+(c.ghCodeBlocks.push({text:w,codeblock:R})-1)+`G

`};return a=r.helper.replaceRecursiveRegExp(a,p,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),a=c.converter._dispatch("hashPreCodeTags.after",a,f,c),a}),r.subParser("headers",function(a,f,c){a=c.converter._dispatch("headers.before",a,f,c);var p=isNaN(parseInt(f.headerLevelStart))?1:parseInt(f.headerLevelStart),w=f.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,E=f.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;a=a.replace(w,function(R,D){var M=r.subParser("spanGamut")(D,f,c),O=f.noHeaderId?"":' id="'+P(D)+'"',k=p,N="<h"+k+O+">"+M+"</h"+k+">";return r.subParser("hashBlock")(N,f,c)}),a=a.replace(E,function(R,D){var M=r.subParser("spanGamut")(D,f,c),O=f.noHeaderId?"":' id="'+P(D)+'"',k=p+1,N="<h"+k+O+">"+M+"</h"+k+">";return r.subParser("hashBlock")(N,f,c)});var S=f.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;a=a.replace(S,function(R,D,M){var O=M;f.customizedHeaderId&&(O=M.replace(/\s?\{([^{]+?)}\s*$/,""));var k=r.subParser("spanGamut")(O,f,c),N=f.noHeaderId?"":' id="'+P(M)+'"',B=p-1+D.length,U="<h"+B+N+">"+k+"</h"+B+">";return r.subParser("hashBlock")(U,f,c)});function P(R){var D,M;if(f.customizedHeaderId){var O=R.match(/\{([^{]+?)}\s*$/);O&&O[1]&&(R=O[1])}return D=R,r.helper.isString(f.prefixHeaderId)?M=f.prefixHeaderId:f.prefixHeaderId===!0?M="section-":M="",f.rawPrefixHeaderId||(D=M+D),f.ghCompatibleHeaderId?D=D.replace(/ /g,"-").replace(/&amp;/g,"").replace(/T/g,"").replace(/D/g,"").replace(/[&+$,\/:;=?@"#{}|^~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():f.rawHeaderId?D=D.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/T/g,"").replace(/D/g,"$").replace(/["']/g,"-").toLowerCase():D=D.replace(/[^\w]/g,"").toLowerCase(),f.rawPrefixHeaderId&&(D=M+D),c.hashLinkCounts[D]?D=D+"-"+c.hashLinkCounts[D]++:c.hashLinkCounts[D]=1,D}return a=c.converter._dispatch("headers.after",a,f,c),a}),r.subParser("horizontalRule",function(a,f,c){a=c.converter._dispatch("horizontalRule.before",a,f,c);var p=r.subParser("hashBlock")("<hr />",f,c);return a=a.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,p),a=a.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,p),a=a.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,p),a=c.converter._dispatch("horizontalRule.after",a,f,c),a}),r.subParser("images",function(a,f,c){a=c.converter._dispatch("images.before",a,f,c);var p=/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,w=/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,E=/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,S=/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,P=/!\[([^\[\]]+)]()()()()()/g;function R(M,O,k,N,B,U,se,A){return N=N.replace(/\s/g,""),D(M,O,k,N,B,U,se,A)}function D(M,O,k,N,B,U,se,A){var V=c.gUrls,W=c.gTitles,re=c.gDimensions;if(k=k.toLowerCase(),A||(A=""),M.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)N="";else if(N===""||N===null)if((k===""||k===null)&&(k=O.toLowerCase().replace(/ ?\n/g," ")),N="#"+k,!r.helper.isUndefined(V[k]))N=V[k],r.helper.isUndefined(W[k])||(A=W[k]),r.helper.isUndefined(re[k])||(B=re[k].width,U=re[k].height);else return M;O=O.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),N=N.replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback);var ie='<img src="'+N+'" alt="'+O+'"';return A&&r.helper.isString(A)&&(A=A.replace(/"/g,"&quot;").replace(r.helper.regexes.asteriskDashAndColon,r.helper.escapeCharactersCallback),ie+=' title="'+A+'"'),B&&U&&(B=B==="*"?"auto":B,U=U==="*"?"auto":U,ie+=' width="'+B+'"',ie+=' height="'+U+'"'),ie+=" />",ie}return a=a.replace(S,D),a=a.replace(E,R),a=a.replace(w,D),a=a.replace(p,D),a=a.replace(P,D),a=c.converter._dispatch("images.after",a,f,c),a}),r.subParser("italicsAndBold",function(a,f,c){a=c.converter._dispatch("italicsAndBold.before",a,f,c);function p(w,E,S){return E+w+S}return f.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(w,E){return p(E,"<strong><em>","</em></strong>")}),a=a.replace(/\b__(\S[\s\S]*?)__\b/g,function(w,E){return p(E,"<strong>","</strong>")}),a=a.replace(/\b_(\S[\s\S]*?)_\b/g,function(w,E){return p(E,"<em>","</em>")})):(a=a.replace(/___(\S[\s\S]*?)___/g,function(w,E){return/\S$/.test(E)?p(E,"<strong><em>","</em></strong>"):w}),a=a.replace(/__(\S[\s\S]*?)__/g,function(w,E){return/\S$/.test(E)?p(E,"<strong>","</strong>"):w}),a=a.replace(/_([^\s_][\s\S]*?)_/g,function(w,E){return/\S$/.test(E)?p(E,"<em>","</em>"):w})),f.literalMidWordAsterisks?(a=a.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,function(w,E,S){return p(S,E+"<strong><em>","</em></strong>")}),a=a.replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,function(w,E,S){return p(S,E+"<strong>","</strong>")}),a=a.replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,function(w,E,S){return p(S,E+"<em>","</em>")})):(a=a.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,function(w,E){return/\S$/.test(E)?p(E,"<strong><em>","</em></strong>"):w}),a=a.replace(/\*\*(\S[\s\S]*?)\*\*/g,function(w,E){return/\S$/.test(E)?p(E,"<strong>","</strong>"):w}),a=a.replace(/\*([^\s*][\s\S]*?)\*/g,function(w,E){return/\S$/.test(E)?p(E,"<em>","</em>"):w})),a=c.converter._dispatch("italicsAndBold.after",a,f,c),a}),r.subParser("lists",function(a,f,c){function p(S,P){c.gListLevel++,S=S.replace(/\n{2,}$/,`
`),S+="0";var R=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,D=/\n[ \t]*\n(?!0)/.test(S);return f.disableForced4SpacesIndentedSublists&&(R=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(0|\2([*+-]|\d+[.])[ \t]+))/gm),S=S.replace(R,function(M,O,k,N,B,U,se){se=se&&se.trim()!=="";var A=r.subParser("outdent")(B,f,c),V="";return U&&f.tasklists&&(V=' class="task-list-item" style="list-style-type: none;"',A=A.replace(/^[ \t]*\[(x|X| )?]/m,function(){var W='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return se&&(W+=" checked"),W+=">",W})),A=A.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(W){return"A"+W}),O||A.search(/\n{2,}/)>-1?(A=r.subParser("githubCodeBlocks")(A,f,c),A=r.subParser("blockGamut")(A,f,c)):(A=r.subParser("lists")(A,f,c),A=A.replace(/\n$/,""),A=r.subParser("hashHTMLBlocks")(A,f,c),A=A.replace(/\n\n+/g,`

`),D?A=r.subParser("paragraphs")(A,f,c):A=r.subParser("spanGamut")(A,f,c)),A=A.replace("A",""),A="<li"+V+">"+A+`</li>
`,A}),S=S.replace(/0/g,""),c.gListLevel--,P&&(S=S.replace(/\s+$/,"")),S}function w(S,P){if(P==="ol"){var R=S.match(/^ *(\d+)\./);if(R&&R[1]!=="1")return' start="'+R[1]+'"'}return""}function E(S,P,R){var D=f.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,M=f.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,O=P==="ul"?D:M,k="";if(S.search(O)!==-1)(function B(U){var se=U.search(O),A=w(S,P);se!==-1?(k+=`

<`+P+A+`>
`+p(U.slice(0,se),!!R)+"</"+P+`>
`,P=P==="ul"?"ol":"ul",O=P==="ul"?D:M,B(U.slice(se))):k+=`

<`+P+A+`>
`+p(U,!!R)+"</"+P+`>
`})(S);else{var N=w(S,P);k=`

<`+P+N+`>
`+p(S,!!R)+"</"+P+`>
`}return k}return a=c.converter._dispatch("lists.before",a,f,c),a+="0",c.gListLevel?a=a.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,P,R){var D=R.search(/[*+-]/g)>-1?"ul":"ol";return E(P,D,!0)}):a=a.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(S,P,R,D){var M=D.search(/[*+-]/g)>-1?"ul":"ol";return E(R,M,!1)}),a=a.replace(/0/,""),a=c.converter._dispatch("lists.after",a,f,c),a}),r.subParser("metadata",function(a,f,c){if(!f.metadata)return a;a=c.converter._dispatch("metadata.before",a,f,c);function p(w){c.metadata.raw=w,w=w.replace(/&/g,"&amp;").replace(/"/g,"&quot;"),w=w.replace(/\n {4}/g," "),w.replace(/^([\S ]+): +([\s\S]+?)$/gm,function(E,S,P){return c.metadata.parsed[S]=P,""})}return a=a.replace(/^\s*+(\S*?)\n([\s\S]+?)\n+\n/,function(w,E,S){return p(S),"M"}),a=a.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,function(w,E,S){return E&&(c.metadata.format=E),p(S),"M"}),a=a.replace(/M/g,""),a=c.converter._dispatch("metadata.after",a,f,c),a}),r.subParser("outdent",function(a,f,c){return a=c.converter._dispatch("outdent.before",a,f,c),a=a.replace(/^(\t|[ ]{1,4})/gm,"0"),a=a.replace(/0/g,""),a=c.converter._dispatch("outdent.after",a,f,c),a}),r.subParser("paragraphs",function(a,f,c){a=c.converter._dispatch("paragraphs.before",a,f,c),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,"");for(var p=a.split(/\n{2,}/g),w=[],E=p.length,S=0;S<E;S++){var P=p[S];P.search(/(K|G)(\d+)\1/g)>=0?w.push(P):P.search(/\S/)>=0&&(P=r.subParser("spanGamut")(P,f,c),P=P.replace(/^([ \t]*)/g,"<p>"),P+="</p>",w.push(P))}for(E=w.length,S=0;S<E;S++){for(var R="",D=w[S],M=!1;/(K|G)(\d+)\1/.test(D);){var O=RegExp.$1,k=RegExp.$2;O==="K"?R=c.gHtmlBlocks[k]:M?R=r.subParser("encodeCode")(c.ghCodeBlocks[k].text,f,c):R=c.ghCodeBlocks[k].codeblock,R=R.replace(/\$/g,"$$$$"),D=D.replace(/(\n\n)?(K|G)\d+\2(\n\n)?/,R),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(D)&&(M=!0)}w[S]=D}return a=w.join(`
`),a=a.replace(/^\n+/g,""),a=a.replace(/\n+$/g,""),c.converter._dispatch("paragraphs.after",a,f,c)}),r.subParser("runExtension",function(a,f,c,p){if(a.filter)f=a.filter(f,p.converter,c);else if(a.regex){var w=a.regex;w instanceof RegExp||(w=new RegExp(w,"g")),f=f.replace(w,a.replace)}return f}),r.subParser("spanGamut",function(a,f,c){return a=c.converter._dispatch("spanGamut.before",a,f,c),a=r.subParser("codeSpans")(a,f,c),a=r.subParser("escapeSpecialCharsWithinTagAttributes")(a,f,c),a=r.subParser("encodeBackslashEscapes")(a,f,c),a=r.subParser("images")(a,f,c),a=r.subParser("anchors")(a,f,c),a=r.subParser("autoLinks")(a,f,c),a=r.subParser("simplifiedAutoLinks")(a,f,c),a=r.subParser("emoji")(a,f,c),a=r.subParser("underline")(a,f,c),a=r.subParser("italicsAndBold")(a,f,c),a=r.subParser("strikethrough")(a,f,c),a=r.subParser("ellipsis")(a,f,c),a=r.subParser("hashHTMLSpans")(a,f,c),a=r.subParser("encodeAmpsAndAngles")(a,f,c),f.simpleLineBreaks?/\n\nK/.test(a)||(a=a.replace(/\n+/g,`<br />
`)):a=a.replace(/  +\n/g,`<br />
`),a=c.converter._dispatch("spanGamut.after",a,f,c),a}),r.subParser("strikethrough",function(a,f,c){function p(w){return f.simplifiedAutoLink&&(w=r.subParser("simplifiedAutoLinks")(w,f,c)),"<del>"+w+"</del>"}return f.strikethrough&&(a=c.converter._dispatch("strikethrough.before",a,f,c),a=a.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,function(w,E){return p(E)}),a=c.converter._dispatch("strikethrough.after",a,f,c)),a}),r.subParser("stripLinkDefinitions",function(a,f,c){var p=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=0))/gm,w=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=0)|(?=\n\[))/gm;a+="0";var E=function(S,P,R,D,M,O,k){return P=P.toLowerCase(),R.match(/^data:.+?\/.+?;base64,/)?c.gUrls[P]=R.replace(/\s/g,""):c.gUrls[P]=r.subParser("encodeAmpsAndAngles")(R,f,c),O?O+k:(k&&(c.gTitles[P]=k.replace(/"|'/g,"&quot;")),f.parseImgDimensions&&D&&M&&(c.gDimensions[P]={width:D,height:M}),"")};return a=a.replace(w,E),a=a.replace(p,E),a=a.replace(/0/,""),a}),r.subParser("tables",function(a,f,c){if(!f.tables)return a;var p=/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|0)/gm,w=/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|0)/gm;function E(M){return/^:[ \t]*--*$/.test(M)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(M)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(M)?' style="text-align:center;"':""}function S(M,O){var k="";return M=M.trim(),(f.tablesHeaderId||f.tableHeaderId)&&(k=' id="'+M.replace(/ /g,"_").toLowerCase()+'"'),M=r.subParser("spanGamut")(M,f,c),"<th"+k+O+">"+M+`</th>
`}function P(M,O){var k=r.subParser("spanGamut")(M,f,c);return"<td"+O+">"+k+`</td>
`}function R(M,O){for(var k=`<table>
<thead>
<tr>
`,N=M.length,B=0;B<N;++B)k+=M[B];for(k+=`</tr>
</thead>
<tbody>
`,B=0;B<O.length;++B){k+=`<tr>
`;for(var U=0;U<N;++U)k+=O[B][U];k+=`</tr>
`}return k+=`</tbody>
</table>
`,k}function D(M){var O,k=M.split(`
`);for(O=0;O<k.length;++O)/^ {0,3}\|/.test(k[O])&&(k[O]=k[O].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(k[O])&&(k[O]=k[O].replace(/\|[ \t]*$/,"")),k[O]=r.subParser("codeSpans")(k[O],f,c);var N=k[0].split("|").map(function(ie){return ie.trim()}),B=k[1].split("|").map(function(ie){return ie.trim()}),U=[],se=[],A=[],V=[];for(k.shift(),k.shift(),O=0;O<k.length;++O)k[O].trim()!==""&&U.push(k[O].split("|").map(function(ie){return ie.trim()}));if(N.length<B.length)return M;for(O=0;O<B.length;++O)A.push(E(B[O]));for(O=0;O<N.length;++O)r.helper.isUndefined(A[O])&&(A[O]=""),se.push(S(N[O],A[O]));for(O=0;O<U.length;++O){for(var W=[],re=0;re<se.length;++re)r.helper.isUndefined(U[O][re]),W.push(P(U[O][re],A[re]));V.push(W)}return R(se,V)}return a=c.converter._dispatch("tables.before",a,f,c),a=a.replace(/\\(\|)/g,r.helper.escapeCharactersCallback),a=a.replace(p,D),a=a.replace(w,D),a=c.converter._dispatch("tables.after",a,f,c),a}),r.subParser("underline",function(a,f,c){return f.underline&&(a=c.converter._dispatch("underline.before",a,f,c),f.literalMidWordUnderscores?(a=a.replace(/\b___(\S[\s\S]*?)___\b/g,function(p,w){return"<u>"+w+"</u>"}),a=a.replace(/\b__(\S[\s\S]*?)__\b/g,function(p,w){return"<u>"+w+"</u>"})):(a=a.replace(/___(\S[\s\S]*?)___/g,function(p,w){return/\S$/.test(w)?"<u>"+w+"</u>":p}),a=a.replace(/__(\S[\s\S]*?)__/g,function(p,w){return/\S$/.test(w)?"<u>"+w+"</u>":p})),a=a.replace(/(_)/g,r.helper.escapeCharactersCallback),a=c.converter._dispatch("underline.after",a,f,c)),a}),r.subParser("unescapeSpecialChars",function(a,f,c){return a=c.converter._dispatch("unescapeSpecialChars.before",a,f,c),a=a.replace(/E(\d+)E/g,function(p,w){var E=parseInt(w);return String.fromCharCode(E)}),a=c.converter._dispatch("unescapeSpecialChars.after",a,f,c),a}),r.subParser("makeMarkdown.blockquote",function(a,f){var c="";if(a.hasChildNodes())for(var p=a.childNodes,w=p.length,E=0;E<w;++E){var S=r.subParser("makeMarkdown.node")(p[E],f);S!==""&&(c+=S)}return c=c.trim(),c="> "+c.split(`
`).join(`
> `),c}),r.subParser("makeMarkdown.codeBlock",function(a,f){var c=a.getAttribute("language"),p=a.getAttribute("precodenum");return"```"+c+`
`+f.preList[p]+"\n```"}),r.subParser("makeMarkdown.codeSpan",function(a){return"`"+a.innerHTML+"`"}),r.subParser("makeMarkdown.emphasis",function(a,f){var c="";if(a.hasChildNodes()){c+="*";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)c+=r.subParser("makeMarkdown.node")(p[E],f);c+="*"}return c}),r.subParser("makeMarkdown.header",function(a,f,c){var p=new Array(c+1).join("#"),w="";if(a.hasChildNodes()){w=p+" ";for(var E=a.childNodes,S=E.length,P=0;P<S;++P)w+=r.subParser("makeMarkdown.node")(E[P],f)}return w}),r.subParser("makeMarkdown.hr",function(){return"---"}),r.subParser("makeMarkdown.image",function(a){var f="";return a.hasAttribute("src")&&(f+="!["+a.getAttribute("alt")+"](",f+="<"+a.getAttribute("src")+">",a.hasAttribute("width")&&a.hasAttribute("height")&&(f+=" ="+a.getAttribute("width")+"x"+a.getAttribute("height")),a.hasAttribute("title")&&(f+=' "'+a.getAttribute("title")+'"'),f+=")"),f}),r.subParser("makeMarkdown.links",function(a,f){var c="";if(a.hasChildNodes()&&a.hasAttribute("href")){var p=a.childNodes,w=p.length;c="[";for(var E=0;E<w;++E)c+=r.subParser("makeMarkdown.node")(p[E],f);c+="](",c+="<"+a.getAttribute("href")+">",a.hasAttribute("title")&&(c+=' "'+a.getAttribute("title")+'"'),c+=")"}return c}),r.subParser("makeMarkdown.list",function(a,f,c){var p="";if(!a.hasChildNodes())return"";for(var w=a.childNodes,E=w.length,S=a.getAttribute("start")||1,P=0;P<E;++P)if(!(typeof w[P].tagName>"u"||w[P].tagName.toLowerCase()!=="li")){var R="";c==="ol"?R=S.toString()+". ":R="- ",p+=R+r.subParser("makeMarkdown.listItem")(w[P],f),++S}return p+=`
<!-- -->
`,p.trim()}),r.subParser("makeMarkdown.listItem",function(a,f){for(var c="",p=a.childNodes,w=p.length,E=0;E<w;++E)c+=r.subParser("makeMarkdown.node")(p[E],f);return/\n$/.test(c)?c=c.split(`
`).join(`
    `).replace(/^ {4}$/gm,"").replace(/\n\n+/g,`

`):c+=`
`,c}),r.subParser("makeMarkdown.node",function(a,f,c){c=c||!1;var p="";if(a.nodeType===3)return r.subParser("makeMarkdown.txt")(a,f);if(a.nodeType===8)return"<!--"+a.data+`-->

`;if(a.nodeType!==1)return"";var w=a.tagName.toLowerCase();switch(w){case"h1":c||(p=r.subParser("makeMarkdown.header")(a,f,1)+`

`);break;case"h2":c||(p=r.subParser("makeMarkdown.header")(a,f,2)+`

`);break;case"h3":c||(p=r.subParser("makeMarkdown.header")(a,f,3)+`

`);break;case"h4":c||(p=r.subParser("makeMarkdown.header")(a,f,4)+`

`);break;case"h5":c||(p=r.subParser("makeMarkdown.header")(a,f,5)+`

`);break;case"h6":c||(p=r.subParser("makeMarkdown.header")(a,f,6)+`

`);break;case"p":c||(p=r.subParser("makeMarkdown.paragraph")(a,f)+`

`);break;case"blockquote":c||(p=r.subParser("makeMarkdown.blockquote")(a,f)+`

`);break;case"hr":c||(p=r.subParser("makeMarkdown.hr")(a,f)+`

`);break;case"ol":c||(p=r.subParser("makeMarkdown.list")(a,f,"ol")+`

`);break;case"ul":c||(p=r.subParser("makeMarkdown.list")(a,f,"ul")+`

`);break;case"precode":c||(p=r.subParser("makeMarkdown.codeBlock")(a,f)+`

`);break;case"pre":c||(p=r.subParser("makeMarkdown.pre")(a,f)+`

`);break;case"table":c||(p=r.subParser("makeMarkdown.table")(a,f)+`

`);break;case"code":p=r.subParser("makeMarkdown.codeSpan")(a,f);break;case"em":case"i":p=r.subParser("makeMarkdown.emphasis")(a,f);break;case"strong":case"b":p=r.subParser("makeMarkdown.strong")(a,f);break;case"del":p=r.subParser("makeMarkdown.strikethrough")(a,f);break;case"a":p=r.subParser("makeMarkdown.links")(a,f);break;case"img":p=r.subParser("makeMarkdown.image")(a,f);break;default:p=a.outerHTML+`

`}return p}),r.subParser("makeMarkdown.paragraph",function(a,f){var c="";if(a.hasChildNodes())for(var p=a.childNodes,w=p.length,E=0;E<w;++E)c+=r.subParser("makeMarkdown.node")(p[E],f);return c=c.trim(),c}),r.subParser("makeMarkdown.pre",function(a,f){var c=a.getAttribute("prenum");return"<pre>"+f.preList[c]+"</pre>"}),r.subParser("makeMarkdown.strikethrough",function(a,f){var c="";if(a.hasChildNodes()){c+="~~";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)c+=r.subParser("makeMarkdown.node")(p[E],f);c+="~~"}return c}),r.subParser("makeMarkdown.strong",function(a,f){var c="";if(a.hasChildNodes()){c+="**";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)c+=r.subParser("makeMarkdown.node")(p[E],f);c+="**"}return c}),r.subParser("makeMarkdown.table",function(a,f){var c="",p=[[],[]],w=a.querySelectorAll("thead>tr>th"),E=a.querySelectorAll("tbody>tr"),S,P;for(S=0;S<w.length;++S){var R=r.subParser("makeMarkdown.tableCell")(w[S],f),D="---";if(w[S].hasAttribute("style")){var M=w[S].getAttribute("style").toLowerCase().replace(/\s/g,"");switch(M){case"text-align:left;":D=":---";break;case"text-align:right;":D="---:";break;case"text-align:center;":D=":---:";break}}p[0][S]=R.trim(),p[1][S]=D}for(S=0;S<E.length;++S){var O=p.push([])-1,k=E[S].getElementsByTagName("td");for(P=0;P<w.length;++P){var N=" ";typeof k[P]<"u"&&(N=r.subParser("makeMarkdown.tableCell")(k[P],f)),p[O].push(N)}}var B=3;for(S=0;S<p.length;++S)for(P=0;P<p[S].length;++P){var U=p[S][P].length;U>B&&(B=U)}for(S=0;S<p.length;++S){for(P=0;P<p[S].length;++P)S===1?p[S][P].slice(-1)===":"?p[S][P]=r.helper.padEnd(p[S][P].slice(-1),B-1,"-")+":":p[S][P]=r.helper.padEnd(p[S][P],B,"-"):p[S][P]=r.helper.padEnd(p[S][P],B);c+="| "+p[S].join(" | ")+` |
`}return c.trim()}),r.subParser("makeMarkdown.tableCell",function(a,f){var c="";if(!a.hasChildNodes())return"";for(var p=a.childNodes,w=p.length,E=0;E<w;++E)c+=r.subParser("makeMarkdown.node")(p[E],f,!0);return c.trim()}),r.subParser("makeMarkdown.txt",function(a){var f=a.nodeValue;return f=f.replace(/ +/g," "),f=f.replace(/NBSP;/g," "),f=r.helper.unescapeHTMLEntities(f),f=f.replace(/([*_~|`])/g,"\\$1"),f=f.replace(/^(\s*)>/g,"\\$1>"),f=f.replace(/^#/gm,"\\#"),f=f.replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3"),f=f.replace(/^( {0,3}\d+)\./gm,"$1\\."),f=f.replace(/^( {0,3})([+-])/gm,"$1\\$2"),f=f.replace(/]([\s]*)\(/g,"\\]$1\\("),f=f.replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:"),f});var b=this;t.exports?t.exports=r:b.showdown=r}).call(te)})(vv);var R_=vv.exports;const $_=As(R_);function x_({tempNoteText:t,setTempNoteText:e}){const[n,r]=De.useState("write"),i=new $_.Converter({tables:!0,simplifiedAutoLink:!0,strikethrough:!0,tasklists:!0});return Me.jsx("section",{className:"pane editor",children:Me.jsx(L_,{value:t,onChange:e,selectedTab:n,onTabChange:r,generateMarkdownPreview:s=>Promise.resolve(i.makeHtml(s)),minEditorHeight:80,heightUnits:"vh"})})}var yv={exports:{}},z_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",j_=z_,F_=j_;function wv(){}function _v(){}_v.resetWarningCache=wv;var B_=function(){function t(r,i,s,o,u,l){if(l!==F_){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:_v,resetWarningCache:wv};return n.PropTypes=n,n};yv.exports=B_();var U_=yv.exports;const de=As(U_);var wt=typeof window<"u"?window:null,qd=wt===null,ms=qd?void 0:wt.document,Pt="addEventListener",At="removeEventListener",pl="getBoundingClientRect",Ii="_a",Dt="_b",Gt="_c",yo="horizontal",Nt=function(){return!1},V_=qd?"calc":["","-webkit-","-moz-","-o-"].filter(function(t){var e=ms.createElement("div");return e.style.cssText="width:"+t+"calc(9px)",!!e.style.length}).shift()+"calc",Ev=function(t){return typeof t=="string"||t instanceof String},fp=function(t){if(Ev(t)){var e=ms.querySelector(t);if(!e)throw new Error("Selector "+t+" did not match a DOM element");return e}return t},Ge=function(t,e,n){var r=t[e];return r!==void 0?r:n},wo=function(t,e,n,r){if(e){if(r==="end")return 0;if(r==="center")return t/2}else if(n){if(r==="start")return 0;if(r==="center")return t/2}return t},H_=function(t,e){var n=ms.createElement("div");return n.className="gutter gutter-"+e,n},q_=function(t,e,n){var r={};return Ev(e)?r[t]=e:r[t]=V_+"("+e+"% - "+n+"px)",r},W_=function(t,e){var n;return n={},n[t]=e+"px",n},hp=function(t,e){if(e===void 0&&(e={}),qd)return{};var n=t,r,i,s,o,u,l;Array.from&&(n=Array.from(n));var d=fp(n[0]),h=d.parentNode,_=getComputedStyle?getComputedStyle(h):null,v=_?_.flexDirection:null,T=Ge(e,"sizes")||n.map(function(){return 100/n.length}),I=Ge(e,"minSize",100),C=Array.isArray(I)?I:n.map(function(){return I}),y=Ge(e,"maxSize",1/0),m=Array.isArray(y)?y:n.map(function(){return y}),g=Ge(e,"expandToMin",!1),b=Ge(e,"gutterSize",10),a=Ge(e,"gutterAlign","center"),f=Ge(e,"snapOffset",30),c=Array.isArray(f)?f:n.map(function(){return f}),p=Ge(e,"dragInterval",1),w=Ge(e,"direction",yo),E=Ge(e,"cursor",w===yo?"col-resize":"row-resize"),S=Ge(e,"gutter",H_),P=Ge(e,"elementStyle",q_),R=Ge(e,"gutterStyle",W_);w===yo?(r="width",i="clientX",s="left",o="right",u="clientWidth"):w==="vertical"&&(r="height",i="clientY",s="top",o="bottom",u="clientHeight");function D(j,L,F,G){var Te=P(r,L,F,G);Object.keys(Te).forEach(function(Ee){j.style[Ee]=Te[Ee]})}function M(j,L,F){var G=R(r,L,F);Object.keys(G).forEach(function(Te){j.style[Te]=G[Te]})}function O(){return l.map(function(j){return j.size})}function k(j){return"touches"in j?j.touches[0][i]:j[i]}function N(j){var L=l[this.a],F=l[this.b],G=L.size+F.size;L.size=j/this.size*G,F.size=G-j/this.size*G,D(L.element,L.size,this[Dt],L.i),D(F.element,F.size,this[Gt],F.i)}function B(j){var L,F=l[this.a],G=l[this.b];this.dragging&&(L=k(j)-this.start+(this[Dt]-this.dragOffset),p>1&&(L=Math.round(L/p)*p),L<=F.minSize+F.snapOffset+this[Dt]?L=F.minSize+this[Dt]:L>=this.size-(G.minSize+G.snapOffset+this[Gt])&&(L=this.size-(G.minSize+this[Gt])),L>=F.maxSize-F.snapOffset+this[Dt]?L=F.maxSize+this[Dt]:L<=this.size-(G.maxSize-G.snapOffset+this[Gt])&&(L=this.size-(G.maxSize+this[Gt])),N.call(this,L),Ge(e,"onDrag",Nt)(O()))}function U(){var j=l[this.a].element,L=l[this.b].element,F=j[pl](),G=L[pl]();this.size=F[r]+G[r]+this[Dt]+this[Gt],this.start=F[s],this.end=F[o]}function se(j){if(!getComputedStyle)return null;var L=getComputedStyle(j);if(!L)return null;var F=j[u];return F===0?null:(w===yo?F-=parseFloat(L.paddingLeft)+parseFloat(L.paddingRight):F-=parseFloat(L.paddingTop)+parseFloat(L.paddingBottom),F)}function A(j){var L=se(h);if(L===null||C.reduce(function(Ee,ht){return Ee+ht},0)>L)return j;var F=0,G=[],Te=j.map(function(Ee,ht){var zn=L*Ee/100,to=wo(b,ht===0,ht===j.length-1,a),no=C[ht]+to;return zn<no?(F+=no-zn,G.push(0),no):(G.push(zn-no),zn)});return F===0?j:Te.map(function(Ee,ht){var zn=Ee;if(F>0&&G[ht]-F>0){var to=Math.min(F,G[ht]-F);F-=to,zn=Ee-to}return zn/L*100})}function V(){var j=this,L=l[j.a].element,F=l[j.b].element;j.dragging&&Ge(e,"onDragEnd",Nt)(O()),j.dragging=!1,wt[At]("mouseup",j.stop),wt[At]("touchend",j.stop),wt[At]("touchcancel",j.stop),wt[At]("mousemove",j.move),wt[At]("touchmove",j.move),j.stop=null,j.move=null,L[At]("selectstart",Nt),L[At]("dragstart",Nt),F[At]("selectstart",Nt),F[At]("dragstart",Nt),L.style.userSelect="",L.style.webkitUserSelect="",L.style.MozUserSelect="",L.style.pointerEvents="",F.style.userSelect="",F.style.webkitUserSelect="",F.style.MozUserSelect="",F.style.pointerEvents="",j.gutter.style.cursor="",j.parent.style.cursor="",ms.body.style.cursor=""}function W(j){if(!("button"in j&&j.button!==0)){var L=this,F=l[L.a].element,G=l[L.b].element;L.dragging||Ge(e,"onDragStart",Nt)(O()),j.preventDefault(),L.dragging=!0,L.move=B.bind(L),L.stop=V.bind(L),wt[Pt]("mouseup",L.stop),wt[Pt]("touchend",L.stop),wt[Pt]("touchcancel",L.stop),wt[Pt]("mousemove",L.move),wt[Pt]("touchmove",L.move),F[Pt]("selectstart",Nt),F[Pt]("dragstart",Nt),G[Pt]("selectstart",Nt),G[Pt]("dragstart",Nt),F.style.userSelect="none",F.style.webkitUserSelect="none",F.style.MozUserSelect="none",F.style.pointerEvents="none",G.style.userSelect="none",G.style.webkitUserSelect="none",G.style.MozUserSelect="none",G.style.pointerEvents="none",L.gutter.style.cursor=E,L.parent.style.cursor=E,ms.body.style.cursor=E,U.call(L),L.dragOffset=k(j)-L.end}}T=A(T);var re=[];l=n.map(function(j,L){var F={element:fp(j),size:T[L],minSize:C[L],maxSize:m[L],snapOffset:c[L],i:L},G;if(L>0&&(G={a:L-1,b:L,dragging:!1,direction:w,parent:h},G[Dt]=wo(b,L-1===0,!1,a),G[Gt]=wo(b,!1,L===n.length-1,a),v==="row-reverse"||v==="column-reverse")){var Te=G.a;G.a=G.b,G.b=Te}if(L>0){var Ee=S(L,w,F.element);M(Ee,b,L),G[Ii]=W.bind(G),Ee[Pt]("mousedown",G[Ii]),Ee[Pt]("touchstart",G[Ii]),h.insertBefore(Ee,F.element),G.gutter=Ee}return D(F.element,F.size,wo(b,L===0,L===n.length-1,a),L),L>0&&re.push(G),F});function ie(j){var L=j.i===re.length,F=L?re[j.i-1]:re[j.i];U.call(F);var G=L?F.size-j.minSize-F[Gt]:j.minSize+F[Dt];N.call(F,G)}l.forEach(function(j){var L=j.element[pl]()[r];L<j.minSize&&(g?ie(j):j.minSize=L)});function he(j){var L=A(j);L.forEach(function(F,G){if(G>0){var Te=re[G-1],Ee=l[Te.a],ht=l[Te.b];Ee.size=L[G-1],ht.size=F,D(Ee.element,Ee.size,Te[Dt],Ee.i),D(ht.element,ht.size,Te[Gt],ht.i)}})}function _e(j,L){re.forEach(function(F){if(L!==!0?F.parent.removeChild(F.gutter):(F.gutter[At]("mousedown",F[Ii]),F.gutter[At]("touchstart",F[Ii])),j!==!0){var G=P(r,F.a.size,F[Dt]);Object.keys(G).forEach(function(Te){l[F.a].element.style[Te]="",l[F.b].element.style[Te]=""})}})}return{setSizes:he,getSizes:O,collapse:function(L){ie(l[L])},destroy:_e,parent:h,pairs:re}};function ml(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)===-1&&(n[r]=t[r]);return n}var Wd=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.componentDidMount=function(){var r=this.props;r.children;var i=r.gutter,s=ml(r,["children","gutter"]),o=s;o.gutter=function(u,l){var d;return i?d=i(u,l):(d=document.createElement("div"),d.className="gutter gutter-"+l),d.__isSplitGutter=!0,d},this.split=hp(this.parent.children,o)},e.prototype.componentDidUpdate=function(r){var i=this,s=this.props;s.children;var o=s.minSize,u=s.sizes,l=s.collapsed,d=ml(s,["children","minSize","sizes","collapsed"]),h=d,_=r.minSize,v=r.sizes,T=r.collapsed,I=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"],C=I.map(function(g){return i.props[g]!==r[g]}).reduce(function(g,b){return g||b},!1);if(Array.isArray(o)&&Array.isArray(_)){var y=!1;o.forEach(function(g,b){y=y||g!==_[b]}),C=C||y}else Array.isArray(o)||Array.isArray(_)?C=!0:C=C||o!==_;if(C)h.minSize=o,h.sizes=u||this.split.getSizes(),this.split.destroy(!0,!0),h.gutter=function(g,b,a){return a.previousSibling},this.split=hp(Array.from(this.parent.children).filter(function(g){return!g.__isSplitGutter}),h);else if(u){var m=!1;u.forEach(function(g,b){m=m||g!==v[b]}),m&&this.split.setSizes(this.props.sizes)}Number.isInteger(l)&&(l!==T||C)&&this.split.collapse(l)},e.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},e.prototype.render=function(){var r=this,i=this.props;i.sizes,i.minSize,i.maxSize,i.expandToMin,i.gutterSize,i.gutterAlign,i.snapOffset,i.dragInterval,i.direction,i.cursor,i.gutter,i.elementStyle,i.gutterStyle,i.onDrag,i.onDragStart,i.onDragEnd,i.collapsed;var s=i.children,o=ml(i,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]),u=o;return Vf.createElement("div",Object.assign({},{ref:function(l){r.parent=l}},u),s)},e}(Vf.Component);Wd.propTypes={sizes:de.arrayOf(de.number),minSize:de.oneOfType([de.number,de.arrayOf(de.number)]),maxSize:de.oneOfType([de.number,de.arrayOf(de.number)]),expandToMin:de.bool,gutterSize:de.number,gutterAlign:de.string,snapOffset:de.number,dragInterval:de.number,direction:de.string,cursor:de.string,gutter:de.func,elementStyle:de.func,gutterStyle:de.func,onDrag:de.func,onDragStart:de.func,onDragEnd:de.func,collapsed:de.number,children:de.arrayOf(de.element)};Wd.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};var pp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},K_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],u=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,u=o?t[i+1]:0,l=i+2<t.length,d=l?t[i+2]:0,h=s>>2,_=(s&3)<<4|u>>4;let v=(u&15)<<2|d>>6,T=d&63;l||(T=64,o||(v=64)),r.push(n[h],n[_],n[v],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Sv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):K_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||d==null||_==null)throw new G_;const v=s<<2|u>>4;if(r.push(v),d!==64){const T=u<<4&240|d>>2;if(r.push(T),_!==64){const I=d<<6&192|_;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class G_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q_=function(t){const e=Sv(t);return kv.encodeByteArray(e,!0)},fa=function(t){return Q_(t).replace(/\./g,"")},Y_=function(t){try{return kv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=()=>X_().__FIREBASE_DEFAULTS__,Z_=()=>{if(typeof process>"u"||typeof pp>"u")return;const t=pp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},e8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Y_(t[1]);return e&&JSON.parse(e)},Cv=()=>{try{return J_()||Z_()||e8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},t8=t=>{var e,n;return(n=(e=Cv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},n8=t=>{const e=t8(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},r8=()=>{var t;return(t=Cv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s8(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[fa(JSON.stringify(n)),fa(JSON.stringify(o)),""].join(".")}function o8(){try{return typeof indexedDB=="object"}catch{return!1}}function a8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u8="FirebaseError";class ai extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=u8,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bv.prototype.create)}}class bv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?l8(s,r):"Error",u=`${this.serviceName}: ${o} (${i}).`;return new ai(i,u,r)}}function l8(t,e){return t.replace(c8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const c8=/\{\$([^}]+)}/g;function yc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(mp(s)&&mp(o)){if(!yc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function mp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(t){return t&&t._delegate?t._delegate:t}class gs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new i8;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(h8(e))try{this.getOrInitializeService({instanceIdentifier:Bn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bn){return this.instances.has(e)}getOptions(e=Bn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bn){return this.component?this.component.multipleInstances?e:Bn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f8(t){return t===Bn?void 0:t}function h8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new d8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const m8={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},g8=le.INFO,v8={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},y8=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=v8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tv{constructor(e){this.name=e,this._logLevel=g8,this._logHandler=y8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?m8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const w8=(t,e)=>e.some(n=>t instanceof n);let gp,vp;function _8(){return gp||(gp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function E8(){return vp||(vp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iv=new WeakMap,wc=new WeakMap,Pv=new WeakMap,gl=new WeakMap,Kd=new WeakMap;function S8(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Sn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Iv.set(n,t)}).catch(()=>{}),Kd.set(e,t),e}function k8(t){if(wc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});wc.set(t,e)}let _c={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return wc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Pv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function C8(t){_c=t(_c)}function b8(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(vl(this),e,...n);return Pv.set(r,e.sort?e.sort():[e]),Sn(r)}:E8().includes(t)?function(...e){return t.apply(vl(this),e),Sn(Iv.get(this))}:function(...e){return Sn(t.apply(vl(this),e))}}function T8(t){return typeof t=="function"?b8(t):(t instanceof IDBTransaction&&k8(t),w8(t,_8())?new Proxy(t,_c):t)}function Sn(t){if(t instanceof IDBRequest)return S8(t);if(gl.has(t))return gl.get(t);const e=T8(t);return e!==t&&(gl.set(t,e),Kd.set(e,t)),e}const vl=t=>Kd.get(t);function I8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),u=Sn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Sn(o.result),l.oldVersion,l.newVersion,Sn(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),u.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),u}const P8=["get","getKey","getAll","getAllKeys","count"],A8=["put","add","delete","clear"],yl=new Map;function yp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yl.get(e))return yl.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=A8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||P8.includes(n)))return;const s=async function(o,...u){const l=this.transaction(o,i?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&l.done]))[0]};return yl.set(e,s),s}C8(t=>({...t,get:(e,n,r)=>yp(e,n)||t.get(e,n,r),has:(e,n)=>!!yp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ec="@firebase/app",wp="0.9.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Tv("@firebase/app"),M8="@firebase/app-compat",O8="@firebase/analytics-compat",L8="@firebase/analytics",R8="@firebase/app-check-compat",$8="@firebase/app-check",x8="@firebase/auth",z8="@firebase/auth-compat",j8="@firebase/database",F8="@firebase/database-compat",B8="@firebase/functions",U8="@firebase/functions-compat",V8="@firebase/installations",H8="@firebase/installations-compat",q8="@firebase/messaging",W8="@firebase/messaging-compat",K8="@firebase/performance",G8="@firebase/performance-compat",Q8="@firebase/remote-config",Y8="@firebase/remote-config-compat",X8="@firebase/storage",J8="@firebase/storage-compat",Z8="@firebase/firestore",eE="@firebase/firestore-compat",tE="firebase",nE="9.20.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc="[DEFAULT]",rE={[Ec]:"fire-core",[M8]:"fire-core-compat",[L8]:"fire-analytics",[O8]:"fire-analytics-compat",[$8]:"fire-app-check",[R8]:"fire-app-check-compat",[x8]:"fire-auth",[z8]:"fire-auth-compat",[j8]:"fire-rtdb",[F8]:"fire-rtdb-compat",[B8]:"fire-fn",[U8]:"fire-fn-compat",[V8]:"fire-iid",[H8]:"fire-iid-compat",[q8]:"fire-fcm",[W8]:"fire-fcm-compat",[K8]:"fire-perf",[G8]:"fire-perf-compat",[Q8]:"fire-rc",[Y8]:"fire-rc-compat",[X8]:"fire-gcs",[J8]:"fire-gcs-compat",[Z8]:"fire-fst",[eE]:"fire-fst-compat","fire-js":"fire-js",[tE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new Map,kc=new Map;function iE(t,e){try{t.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function pa(t){const e=t.name;if(kc.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;kc.set(e,t);for(const n of ha.values())iE(n,t);return!0}function sE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},kn=new bv("app","Firebase",oE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=nE;function Av(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw kn.create("bad-app-name",{appName:String(i)});if(n||(n=r8()),!n)throw kn.create("no-options");const s=ha.get(i);if(s){if(yc(n,s.options)&&yc(r,s.config))return s;throw kn.create("duplicate-app",{appName:i})}const o=new p8(i);for(const l of kc.values())o.addComponent(l);const u=new aE(n,r,o);return ha.set(i,u),u}function lE(t=Sc){const e=ha.get(t);if(!e&&t===Sc)return Av();if(!e)throw kn.create("no-app",{appName:t});return e}function xr(t,e,n){var r;let i=(r=rE[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(u.join(" "));return}pa(new gs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="firebase-heartbeat-database",dE=1,vs="firebase-heartbeat-store";let wl=null;function Dv(){return wl||(wl=I8(cE,dE,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(vs)}}}).catch(t=>{throw kn.create("idb-open",{originalErrorMessage:t.message})})),wl}async function fE(t){try{return(await Dv()).transaction(vs).objectStore(vs).get(Nv(t))}catch(e){if(e instanceof ai)rr.warn(e.message);else{const n=kn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(n.message)}}}async function _p(t,e){try{const r=(await Dv()).transaction(vs,"readwrite");return await r.objectStore(vs).put(e,Nv(t)),r.done}catch(n){if(n instanceof ai)rr.warn(n.message);else{const r=kn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(r.message)}}}function Nv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=1024,pE=30*24*60*60*1e3;class mE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ep();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=pE}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Ep(),{heartbeatsToSend:n,unsentEntries:r}=gE(this._heartbeatsCache.heartbeats),i=fa(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ep(){return new Date().toISOString().substring(0,10)}function gE(t,e=hE){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Sp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return o8()?a8().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await fE(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _p(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return _p(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Sp(t){return fa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t){pa(new gs("platform-logger",e=>new D8(e),"PRIVATE")),pa(new gs("heartbeat",e=>new mE(e),"PRIVATE")),xr(Ec,wp,t),xr(Ec,wp,"esm2017"),xr("fire-js","")}yE("");var wE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q,Gd=Gd||{},Z=wE||self;function ma(){}function lu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function cu(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function _E(t){return Object.prototype.hasOwnProperty.call(t,_l)&&t[_l]||(t[_l]=++EE)}var _l="closure_uid_"+(1e9*Math.random()>>>0),EE=0;function SE(t,e,n){return t.call.apply(t.bind,arguments)}function kE(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function nt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?nt=SE:nt=kE,nt.apply(null,arguments)}function _o(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ke(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),u=2;u<arguments.length;u++)o[u-2]=arguments[u];return e.prototype[i].apply(r,o)}}function $n(){this.s=this.s,this.o=this.o}var CE=0;$n.prototype.s=!1;$n.prototype.na=function(){!this.s&&(this.s=!0,this.M(),CE!=0)&&_E(this)};$n.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Mv=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Qd(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function kp(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(lu(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function rt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var bE=function(){if(!Z.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Z.addEventListener("test",ma,e),Z.removeEventListener("test",ma,e)}catch{}return t}();function ga(t){return/^[\s\xa0]*$/.test(t)}var Cp=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function El(t,e){return t<e?-1:t>e?1:0}function du(){var t=Z.navigator;return t&&(t=t.userAgent)?t:""}function $t(t){return du().indexOf(t)!=-1}function Yd(t){return Yd[" "](t),t}Yd[" "]=ma;function TE(t){var e=AE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var IE=$t("Opera"),qr=$t("Trident")||$t("MSIE"),Ov=$t("Edge"),Cc=Ov||qr,Lv=$t("Gecko")&&!(du().toLowerCase().indexOf("webkit")!=-1&&!$t("Edge"))&&!($t("Trident")||$t("MSIE"))&&!$t("Edge"),PE=du().toLowerCase().indexOf("webkit")!=-1&&!$t("Edge");function Rv(){var t=Z.document;return t?t.documentMode:void 0}var va;e:{var Sl="",kl=function(){var t=du();if(Lv)return/rv:([^\);]+)(\)|;)/.exec(t);if(Ov)return/Edge\/([\d\.]+)/.exec(t);if(qr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(PE)return/WebKit\/(\S+)/.exec(t);if(IE)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(kl&&(Sl=kl?kl[1]:""),qr){var Cl=Rv();if(Cl!=null&&Cl>parseFloat(Sl)){va=String(Cl);break e}}va=Sl}var AE={};function DE(){return TE(function(){let t=0;const e=Cp(String(va)).split("."),n=Cp("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=El(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||El(i[2].length==0,s[2].length==0)||El(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var bc;if(Z.document&&qr){var bp=Rv();bc=bp||parseInt(va,10)||void 0}else bc=void 0;var NE=bc;function ys(t,e){if(rt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Lv){e:{try{Yd(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:ME[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ys.X.h.call(this)}}Ke(ys,rt);var ME={2:"touch",3:"pen",4:"mouse"};ys.prototype.h=function(){ys.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var fu="closure_listenable_"+(1e6*Math.random()|0),OE=0;function LE(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++OE,this.ba=this.ea=!1}function hu(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Xd(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function $v(t){const e={};for(const n in t)e[n]=t[n];return e}const Tp="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xv(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Tp.length;s++)n=Tp[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function pu(t){this.src=t,this.g={},this.h=0}pu.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Ic(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new LE(e,this.src,s,!!r,i),e.ea=n,t.push(e)),e};function Tc(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=Mv(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(hu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Ic(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}var Jd="closure_lm_"+(1e6*Math.random()|0),bl={};function zv(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)zv(t,e[s],n,r,i);return null}return n=Bv(n),t&&t[fu]?t.N(e,n,cu(r)?!!r.capture:!!r,i):RE(t,e,n,!1,r,i)}function RE(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=cu(i)?!!i.capture:!!i,u=ef(t);if(u||(t[Jd]=u=new pu(t)),n=u.add(e,n,r,o,s),n.proxy)return n;if(r=$E(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)bE||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Fv(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function $E(){function t(n){return e.call(t.src,t.listener,n)}const e=xE;return t}function jv(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)jv(t,e[s],n,r,i);else r=cu(r)?!!r.capture:!!r,n=Bv(n),t&&t[fu]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Ic(s,n,r,i),-1<n&&(hu(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=ef(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Ic(e,n,r,i)),(n=-1<t?e[t]:null)&&Zd(n))}function Zd(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[fu])Tc(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Fv(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ef(e))?(Tc(n,t),n.h==0&&(n.src=null,e[Jd]=null)):hu(t)}}}function Fv(t){return t in bl?bl[t]:bl[t]="on"+t}function xE(t,e){if(t.ba)t=!0;else{e=new ys(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Zd(t),t=n.call(r,e)}return t}function ef(t){return t=t[Jd],t instanceof pu?t:null}var Tl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bv(t){return typeof t=="function"?t:(t[Tl]||(t[Tl]=function(e){return t.handleEvent(e)}),t[Tl])}function Be(){$n.call(this),this.i=new pu(this),this.P=this,this.I=null}Ke(Be,$n);Be.prototype[fu]=!0;Be.prototype.removeEventListener=function(t,e,n,r){jv(this,t,e,n,r)};function qe(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new rt(e,t);else if(e instanceof rt)e.target=e.target||t;else{var i=e;e=new rt(r,t),xv(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Eo(o,r,!0,e)&&i}if(o=e.g=t,i=Eo(o,r,!0,e)&&i,i=Eo(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Eo(o,r,!1,e)&&i}Be.prototype.M=function(){if(Be.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)hu(n[r]);delete t.g[e],t.h--}}this.I=null};Be.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Be.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Eo(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var u=o.listener,l=o.ha||o.src;o.ea&&Tc(t.i,o),i=u.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var tf=Z.JSON.stringify;function zE(){var t=Hv;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class jE{constructor(){this.h=this.g=null}add(e,n){const r=Uv.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Uv=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new FE,t=>t.reset());class FE{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function BE(t){Z.setTimeout(()=>{throw t},0)}function Vv(t,e){Pc||UE(),Ac||(Pc(),Ac=!0),Hv.add(t,e)}var Pc;function UE(){var t=Z.Promise.resolve(void 0);Pc=function(){t.then(VE)}}var Ac=!1,Hv=new jE;function VE(){for(var t;t=zE();){try{t.h.call(t.g)}catch(n){BE(n)}var e=Uv;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ac=!1}function mu(t,e){Be.call(this),this.h=t||1,this.g=e||Z,this.j=nt(this.lb,this),this.l=Date.now()}Ke(mu,Be);q=mu.prototype;q.ca=!1;q.R=null;q.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),qe(this,"tick"),this.ca&&(nf(this),this.start()))}};q.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function nf(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}q.M=function(){mu.X.M.call(this),nf(this),delete this.g};function rf(t,e,n){if(typeof t=="function")n&&(t=nt(t,n));else if(t&&typeof t.handleEvent=="function")t=nt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Z.setTimeout(t,e||0)}function qv(t){t.g=rf(()=>{t.g=null,t.i&&(t.i=!1,qv(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class HE extends $n{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qv(this)}M(){super.M(),this.g&&(Z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(t){$n.call(this),this.h=t,this.g={}}Ke(ws,$n);var Ip=[];function Wv(t,e,n,r){Array.isArray(n)||(n&&(Ip[0]=n.toString()),n=Ip);for(var i=0;i<n.length;i++){var s=zv(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Kv(t){Xd(t.g,function(e,n){this.g.hasOwnProperty(n)&&Zd(e)},t),t.g={}}ws.prototype.M=function(){ws.X.M.call(this),Kv(this)};ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function gu(){this.g=!0}gu.prototype.Aa=function(){this.g=!1};function qE(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",u=s.split("&"),l=0;l<u.length;l++){var d=u[l].split("=");if(1<d.length){var h=d[0];d=d[1];var _=h.split("_");o=2<=_.length&&_[1]=="type"?o+(h+"="+d+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function WE(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Tr(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+GE(t,n)+(r?" "+r:"")})}function KE(t,e){t.info(function(){return"TIMEOUT: "+e})}gu.prototype.info=function(){};function GE(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return tf(n)}catch{return e}}var cr={},Pp=null;function vu(){return Pp=Pp||new Be}cr.Pa="serverreachability";function Gv(t){rt.call(this,cr.Pa,t)}Ke(Gv,rt);function _s(t){const e=vu();qe(e,new Gv(e))}cr.STAT_EVENT="statevent";function Qv(t,e){rt.call(this,cr.STAT_EVENT,t),this.stat=e}Ke(Qv,rt);function ot(t){const e=vu();qe(e,new Qv(e,t))}cr.Qa="timingevent";function Yv(t,e){rt.call(this,cr.Qa,t),this.size=e}Ke(Yv,rt);function Us(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Z.setTimeout(function(){t()},e)}var yu={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Xv={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function sf(){}sf.prototype.h=null;function Ap(t){return t.h||(t.h=t.i())}function Jv(){}var Vs={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function of(){rt.call(this,"d")}Ke(of,rt);function af(){rt.call(this,"c")}Ke(af,rt);var Dc;function wu(){}Ke(wu,sf);wu.prototype.g=function(){return new XMLHttpRequest};wu.prototype.i=function(){return{}};Dc=new wu;function Hs(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new ws(this),this.O=QE,t=Cc?125:void 0,this.T=new mu(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Zv}function Zv(){this.i=null,this.g="",this.h=!1}var QE=45e3,Nc={},ya={};q=Hs.prototype;q.setTimeout=function(t){this.O=t};function Mc(t,e,n){t.K=1,t.v=Eu(nn(e)),t.s=n,t.P=!0,ey(t,null)}function ey(t,e){t.F=Date.now(),qs(t),t.A=nn(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),uy(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Zv,t.g=Ay(t.l,n?e:null,!t.s),0<t.N&&(t.L=new HE(nt(t.La,t,t.g),t.N)),Wv(t.S,t.g,"readystatechange",t.ib),e=t.H?$v(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),_s(),qE(t.j,t.u,t.A,t.m,t.U,t.s)}q.ib=function(t){t=t.target;const e=this.L;e&&Zt(t)==3?e.l():this.La(t)};q.La=function(t){try{if(t==this.g)e:{const h=Zt(this.g);var e=this.g.Ea();const _=this.g.aa();if(!(3>h)&&(h!=3||Cc||this.g&&(this.h.h||this.g.fa()||Op(this.g)))){this.I||h!=4||e==7||(e==8||0>=_?_s(3):_s(2)),_u(this);var n=this.g.aa();this.Y=n;t:if(ty(this)){var r=Op(this.g);t="";var i=r.length,s=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kn(this),Yi(this);var o="";break t}this.h.i=new Z.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,WE(this.j,this.u,this.A,this.m,this.U,h,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ga(u)){var d=u;break t}}d=null}if(n=d)Tr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Oc(this,n);else{this.i=!1,this.o=3,ot(12),Kn(this),Yi(this);break e}}this.P?(ny(this,h,o),Cc&&this.i&&h==3&&(Wv(this.S,this.T,"tick",this.hb),this.T.start())):(Tr(this.j,this.m,o,null),Oc(this,o)),h==4&&Kn(this),this.i&&!this.I&&(h==4?by(this.l,this):(this.i=!1,qs(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ot(12)):(this.o=0,ot(13)),Kn(this),Yi(this)}}}catch{}finally{}};function ty(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function ny(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=YE(t,n),i==ya){e==4&&(t.o=4,ot(14),r=!1),Tr(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Nc){t.o=4,ot(15),Tr(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Tr(t.j,t.m,i,null),Oc(t,i);ty(t)&&i!=ya&&i!=Nc&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,ot(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),pf(e),e.K=!0,ot(11))):(Tr(t.j,t.m,n,"[Invalid Chunked Response]"),Kn(t),Yi(t))}q.hb=function(){if(this.g){var t=Zt(this.g),e=this.g.fa();this.C<e.length&&(_u(this),ny(this,t,e),this.i&&t!=4&&qs(this))}};function YE(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ya:(n=Number(e.substring(n,r)),isNaN(n)?Nc:(r+=1,r+n>e.length?ya:(e=e.substr(r,n),t.C=r+n,e)))}q.cancel=function(){this.I=!0,Kn(this)};function qs(t){t.V=Date.now()+t.O,ry(t,t.O)}function ry(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Us(nt(t.gb,t),e)}function _u(t){t.B&&(Z.clearTimeout(t.B),t.B=null)}q.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(KE(this.j,this.A),this.K!=2&&(_s(),ot(17)),Kn(this),this.o=2,Yi(this)):ry(this,this.V-t)};function Yi(t){t.l.G==0||t.I||by(t.l,t)}function Kn(t){_u(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,nf(t.T),Kv(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Oc(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Lc(n.h,t))){if(!t.J&&Lc(n.h,t)&&n.G==3){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Ea(n),Cu(n);else break e;hf(n),ot(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&n.A==0&&!n.v&&(n.v=Us(nt(n.cb,n),6e3));if(1>=dy(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Gn(n,11)}else if((t.J||n.g==t)&&Ea(n),!ga(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let d=i[e];if(n.T=d[0],d=d[1],n.G==2)if(d[0]=="c"){n.I=d[1],n.ka=d[2];const h=d[3];h!=null&&(n.ma=h,n.j.info("VER="+n.ma));const _=d[4];_!=null&&(n.Ca=_,n.j.info("SVER="+n.Ca));const v=d[5];v!=null&&typeof v=="number"&&0<v&&(r=1.5*v,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const T=t.g;if(T){const I=T.g?T.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(I){var s=r.h;s.g||I.indexOf("spdy")==-1&&I.indexOf("quic")==-1&&I.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(uf(s,s.h),s.h=null))}if(r.D){const C=T.g?T.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.za=C,ve(r.F,r.D,C))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),r=n;var o=t;if(r.sa=Py(r,r.H?r.ka:null,r.V),o.J){fy(r.h,o);var u=o,l=r.J;l&&u.setTimeout(l),u.B&&(_u(u),qs(u)),r.g=o}else ky(r);0<n.i.length&&bu(n)}else d[0]!="stop"&&d[0]!="close"||Gn(n,7);else n.G==3&&(d[0]=="stop"||d[0]=="close"?d[0]=="stop"?Gn(n,7):ff(n):d[0]!="noop"&&n.l&&n.l.wa(d),n.A=0)}}_s(4)}catch{}}function XE(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(lu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function JE(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(lu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function iy(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(lu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=JE(t),r=XE(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var sy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ZE(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xn(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Xn){this.h=e!==void 0?e:t.h,wa(this,t.j),this.s=t.s,this.g=t.g,_a(this,t.m),this.l=t.l,e=t.i;var n=new Es;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Dp(this,n),this.o=t.o}else t&&(n=String(t).match(sy))?(this.h=!!e,wa(this,n[1]||"",!0),this.s=Li(n[2]||""),this.g=Li(n[3]||"",!0),_a(this,n[4]),this.l=Li(n[5]||"",!0),Dp(this,n[6]||"",!0),this.o=Li(n[7]||"")):(this.h=!!e,this.i=new Es(null,this.h))}Xn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ri(e,Np,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ri(e,Np,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ri(n,n.charAt(0)=="/"?nS:tS,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ri(n,iS)),t.join("")};function nn(t){return new Xn(t)}function wa(t,e,n){t.j=n?Li(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _a(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Dp(t,e,n){e instanceof Es?(t.i=e,sS(t.i,t.h)):(n||(e=Ri(e,rS)),t.i=new Es(e,t.h))}function ve(t,e,n){t.i.set(e,n)}function Eu(t){return ve(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Li(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ri(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,eS),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function eS(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Np=/[#\/\?@]/g,tS=/[#\?:]/g,nS=/[#\?]/g,rS=/[#\?@]/g,iS=/#/g;function Es(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xn(t){t.g||(t.g=new Map,t.h=0,t.i&&ZE(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}q=Es.prototype;q.add=function(t,e){xn(this),this.i=null,t=ui(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function oy(t,e){xn(t),e=ui(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ay(t,e){return xn(t),e=ui(t,e),t.g.has(e)}q.forEach=function(t,e){xn(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};q.oa=function(){xn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};q.W=function(t){xn(this);let e=[];if(typeof t=="string")ay(this,t)&&(e=e.concat(this.g.get(ui(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};q.set=function(t,e){return xn(this),this.i=null,t=ui(this,t),ay(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};q.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function uy(t,e,n){oy(t,e),0<n.length&&(t.i=null,t.g.set(ui(t,e),Qd(n)),t.h+=n.length)}q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function ui(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function sS(t,e){e&&!t.j&&(xn(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(oy(this,r),uy(this,i,n))},t)),t.j=e}var oS=class{constructor(e,n){this.h=e,this.g=n}};function ly(t){this.l=t||aS,Z.PerformanceNavigationTiming?(t=Z.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Z.g&&Z.g.Ga&&Z.g.Ga()&&Z.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var aS=10;function cy(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function dy(t){return t.h?1:t.g?t.g.size:0}function Lc(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function uf(t,e){t.g?t.g.add(e):t.h=e}function fy(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}ly.prototype.cancel=function(){if(this.i=hy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function hy(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Qd(t.i)}function lf(){}lf.prototype.stringify=function(t){return Z.JSON.stringify(t,void 0)};lf.prototype.parse=function(t){return Z.JSON.parse(t,void 0)};function uS(){this.g=new lf}function lS(t,e,n){const r=n||"";try{iy(t,function(i,s){let o=i;cu(i)&&(o=tf(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function cS(t,e){const n=new gu;if(Z.Image){const r=new Image;r.onload=_o(So,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_o(So,n,r,"TestLoadImage: error",!1,e),r.onabort=_o(So,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_o(So,n,r,"TestLoadImage: timeout",!1,e),Z.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function So(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Ws(t){this.l=t.ac||null,this.j=t.jb||!1}Ke(Ws,sf);Ws.prototype.g=function(){return new Su(this.l,this.j)};Ws.prototype.i=function(t){return function(){return t}}({});function Su(t,e){Be.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=cf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ke(Su,Be);var cf=0;q=Su.prototype;q.open=function(t,e){if(this.readyState!=cf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ss(this)};q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Z).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ks(this)),this.readyState=cf};q.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ss(this)),this.g&&(this.readyState=3,Ss(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Z.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;py(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function py(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}q.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ks(this):Ss(this),this.readyState==3&&py(this)}};q.Va=function(t){this.g&&(this.response=this.responseText=t,Ks(this))};q.Ua=function(t){this.g&&(this.response=t,Ks(this))};q.ga=function(){this.g&&Ks(this)};function Ks(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ss(t)}q.setRequestHeader=function(t,e){this.v.append(t,e)};q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ss(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var dS=Z.JSON.parse;function be(t){Be.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=my,this.K=this.L=!1}Ke(be,Be);var my="",fS=/^https?$/i,hS=["POST","PUT"];q=be.prototype;q.Ka=function(t){this.L=t};q.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Dc.g(),this.C=this.u?Ap(this.u):Ap(Dc),this.g.onreadystatechange=nt(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Mp(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Z.FormData&&t instanceof Z.FormData,!(0<=Mv(hS,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yy(this),0<this.B&&((this.K=pS(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nt(this.qa,this)):this.A=rf(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Mp(this,s)}};function pS(t){return qr&&DE()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}q.qa=function(){typeof Gd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qe(this,"timeout"),this.abort(8))};function Mp(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gy(t),ku(t)}function gy(t){t.D||(t.D=!0,qe(t,"complete"),qe(t,"error"))}q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,qe(this,"complete"),qe(this,"abort"),ku(this))};q.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ku(this,!0)),be.X.M.call(this)};q.Ha=function(){this.s||(this.F||this.v||this.l?vy(this):this.fb())};q.fb=function(){vy(this)};function vy(t){if(t.h&&typeof Gd<"u"&&(!t.C[1]||Zt(t)!=4||t.aa()!=2)){if(t.v&&Zt(t)==4)rf(t.Ha,0,t);else if(qe(t,"readystatechange"),Zt(t)==4){t.h=!1;try{const u=t.aa();e:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=u===0){var i=String(t.H).match(sy)[1]||null;if(!i&&Z.self&&Z.self.location){var s=Z.self.location.protocol;i=s.substr(0,s.length-1)}r=!fS.test(i?i.toLowerCase():"")}n=r}if(n)qe(t,"complete"),qe(t,"success");else{t.m=6;try{var o=2<Zt(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",gy(t)}}finally{ku(t)}}}}function ku(t,e){if(t.g){yy(t);const n=t.g,r=t.C[0]?ma:null;t.g=null,t.C=null,e||qe(t,"ready");try{n.onreadystatechange=r}catch{}}}function yy(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Z.clearTimeout(t.A),t.A=null)}function Zt(t){return t.g?t.g.readyState:0}q.aa=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}};q.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};q.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),dS(e)}};function Op(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case my:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}q.Ea=function(){return this.m};q.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function wy(t){let e="";return Xd(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function df(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wy(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):ve(t,e,n))}function Pi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function _y(t){this.Ca=0,this.i=[],this.j=new gu,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Pi("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Pi("baseRetryDelayMs",5e3,t),this.bb=Pi("retryDelaySeedMs",1e4,t),this.$a=Pi("forwardChannelMaxRetries",2,t),this.ta=Pi("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new ly(t&&t.concurrentRequestLimit),this.Fa=new uS,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}q=_y.prototype;q.ma=8;q.G=1;function ff(t){if(Ey(t),t.G==3){var e=t.U++,n=nn(t.F);ve(n,"SID",t.I),ve(n,"RID",e),ve(n,"TYPE","terminate"),Gs(t,n),e=new Hs(t,t.j,e,void 0),e.K=2,e.v=Eu(nn(n)),n=!1,Z.navigator&&Z.navigator.sendBeacon&&(n=Z.navigator.sendBeacon(e.v.toString(),"")),!n&&Z.Image&&(new Image().src=e.v,n=!0),n||(e.g=Ay(e.l,null),e.g.da(e.v)),e.F=Date.now(),qs(e)}Iy(t)}function Cu(t){t.g&&(pf(t),t.g.cancel(),t.g=null)}function Ey(t){Cu(t),t.u&&(Z.clearTimeout(t.u),t.u=null),Ea(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&Z.clearTimeout(t.m),t.m=null)}function bu(t){cy(t.h)||t.m||(t.m=!0,Vv(t.Ja,t),t.C=0)}function mS(t,e){return dy(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=Us(nt(t.Ja,t,e),Ty(t,t.C)),t.C++,!0)}q.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Hs(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=$v(s),xv(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var r=this.i[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Sy(this,i,e),n=nn(this.F),ve(n,"RID",t),ve(n,"CVER",22),this.D&&ve(n,"X-HTTP-Session-Id",this.D),Gs(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(wy(s)))+"&"+e:this.o&&df(n,this.o,s)),uf(this.h,i),this.Ya&&ve(n,"TYPE","init"),this.O?(ve(n,"$req",e),ve(n,"SID","null"),i.Z=!0,Mc(i,n,null)):Mc(i,n,e),this.G=2}}else this.G==3&&(t?Lp(this,t):this.i.length==0||cy(this.h)||Lp(this))};function Lp(t,e){var n;e?n=e.m:n=t.U++;const r=nn(t.F);ve(r,"SID",t.I),ve(r,"RID",n),ve(r,"AID",t.T),Gs(t,r),t.o&&t.s&&df(r,t.o,t.s),n=new Hs(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=Sy(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),uf(t.h,n),Mc(n,r,e)}function Gs(t,e){t.ia&&Xd(t.ia,function(n,r){ve(e,r,n)}),t.l&&iy({},function(n,r){ve(e,r,n)})}function Sy(t,e,n){n=Math.min(t.i.length,n);var r=t.l?nt(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let u=!0;for(let l=0;l<n;l++){let d=i[l].h;const h=i[l].g;if(d-=s,0>d)s=Math.max(0,i[l].h-100),u=!1;else try{lS(h,o,"req"+d+"_")}catch{r&&r(h)}}if(u){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function ky(t){t.g||t.u||(t.Z=1,Vv(t.Ia,t),t.A=0)}function hf(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=Us(nt(t.Ia,t),Ty(t,t.A)),t.A++,!0)}q.Ia=function(){if(this.u=null,Cy(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=Us(nt(this.eb,this),t)}};q.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ot(10),Cu(this),Cy(this))};function pf(t){t.B!=null&&(Z.clearTimeout(t.B),t.B=null)}function Cy(t){t.g=new Hs(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=nn(t.sa);ve(e,"RID","rpc"),ve(e,"SID",t.I),ve(e,"CI",t.L?"0":"1"),ve(e,"AID",t.T),ve(e,"TYPE","xmlhttp"),Gs(t,e),t.o&&t.s&&df(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Eu(nn(e)),n.s=null,n.P=!0,ey(n,t)}q.cb=function(){this.v!=null&&(this.v=null,Cu(this),hf(this),ot(19))};function Ea(t){t.v!=null&&(Z.clearTimeout(t.v),t.v=null)}function by(t,e){var n=null;if(t.g==e){Ea(t),pf(t),t.g=null;var r=2}else if(Lc(t.h,e))n=e.D,fy(t.h,e),r=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=vu(),qe(r,new Yv(r,n)),bu(t)}else ky(t);else if(i=e.o,i==3||i==0&&0<t.pa||!(r==1&&mS(t,e)||r==2&&hf(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Gn(t,5);break;case 4:Gn(t,10);break;case 3:Gn(t,6);break;default:Gn(t,2)}}}function Ty(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Gn(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var r=nt(t.kb,t);n||(n=new Xn("//www.google.com/images/cleardot.gif"),Z.location&&Z.location.protocol=="http"||wa(n,"https"),Eu(n)),cS(n.toString(),r)}else ot(2);t.G=0,t.l&&t.l.va(e),Iy(t),Ey(t)}q.kb=function(t){t?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Iy(t){if(t.G=0,t.la=[],t.l){const e=hy(t.h);(e.length!=0||t.i.length!=0)&&(kp(t.la,e),kp(t.la,t.i),t.h.i.length=0,Qd(t.i),t.i.length=0),t.l.ua()}}function Py(t,e,n){var r=n instanceof Xn?nn(n):new Xn(n,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),_a(r,r.m);else{var i=Z.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Xn(null,void 0);r&&wa(s,r),e&&(s.g=e),i&&_a(s,i),n&&(s.l=n),r=s}return n=t.D,e=t.za,n&&e&&ve(r,n,e),ve(r,"VER",t.ma),Gs(t,r),r}function Ay(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new be(new Ws({jb:!0})):new be(t.ra),e.Ka(t.H),e}function Dy(){}q=Dy.prototype;q.xa=function(){};q.wa=function(){};q.va=function(){};q.ua=function(){};q.Ra=function(){};function Sa(){if(qr&&!(10<=Number(NE)))throw Error("Environmental error: no available transport.")}Sa.prototype.g=function(t,e){return new vt(t,e)};function vt(t,e){Be.call(this),this.g=new _y(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!ga(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ga(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new li(this)}Ke(vt,Be);vt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;ot(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=Py(t,null,t.V),bu(t)};vt.prototype.close=function(){ff(this.g)};vt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=tf(t),t=n);e.i.push(new oS(e.ab++,t)),e.G==3&&bu(e)};vt.prototype.M=function(){this.g.l=null,delete this.j,ff(this.g),delete this.g,vt.X.M.call(this)};function Ny(t){of.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ke(Ny,of);function My(){af.call(this),this.status=1}Ke(My,af);function li(t){this.g=t}Ke(li,Dy);li.prototype.xa=function(){qe(this.g,"a")};li.prototype.wa=function(t){qe(this.g,new Ny(t))};li.prototype.va=function(t){qe(this.g,new My)};li.prototype.ua=function(){qe(this.g,"b")};Sa.prototype.createWebChannel=Sa.prototype.g;vt.prototype.send=vt.prototype.u;vt.prototype.open=vt.prototype.m;vt.prototype.close=vt.prototype.close;yu.NO_ERROR=0;yu.TIMEOUT=8;yu.HTTP_ERROR=6;Xv.COMPLETE="complete";Jv.EventType=Vs;Vs.OPEN="a";Vs.CLOSE="b";Vs.ERROR="c";Vs.MESSAGE="d";Be.prototype.listen=Be.prototype.N;be.prototype.listenOnce=be.prototype.O;be.prototype.getLastError=be.prototype.Oa;be.prototype.getLastErrorCode=be.prototype.Ea;be.prototype.getStatus=be.prototype.aa;be.prototype.getResponseJson=be.prototype.Sa;be.prototype.getResponseText=be.prototype.fa;be.prototype.send=be.prototype.da;be.prototype.setWithCredentials=be.prototype.Ka;var gS=function(){return new Sa},vS=function(){return vu()},Il=yu,yS=Xv,wS=cr,Rp={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},_S=Ws,ko=Jv,ES=be;const $p="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ci="9.20.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Tv("@firebase/firestore");function xp(){return ir.logLevel}function K(t,...e){if(ir.logLevel<=le.DEBUG){const n=e.map(mf);ir.debug(`Firestore (${ci}): ${t}`,...n)}}function rn(t,...e){if(ir.logLevel<=le.ERROR){const n=e.map(mf);ir.error(`Firestore (${ci}): ${t}`,...n)}}function ka(t,...e){if(ir.logLevel<=le.WARN){const n=e.map(mf);ir.warn(`Firestore (${ci}): ${t}`,...n)}}function mf(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t="Unexpected state"){const e=`FIRESTORE (${ci}) INTERNAL ASSERTION FAILED: `+t;throw rn(e),new Error(e)}function ge(t,e){t||J()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xe.UNAUTHENTICATED))}shutdown(){}}class kS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CS{constructor(e){this.t=e,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},u=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ge(typeof r.accessToken=="string"),new Oy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ge(e===null||typeof e=="string"),new Xe(e)}}class bS{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class TS{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new bS(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PS{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ge(typeof n.token=="string"),this.T=n.token,new IS(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=AS(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Wr(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Re(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new Re(0,0))}static max(){return new ee(new Re(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(),r===void 0?r=e.length-n:r>e.length-n&&J(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ks.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ks?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends ks{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const DS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends ks{construct(e,n,r){return new Ze(e,n,r)}static isValidIdentifier(e){return DS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ze(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Y($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else u==="`"?(o=!o,i++):u!=="."||o?(r+=u,i++):(s(),i++)}if(s(),o)throw new Y($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(ye.fromString(e))}static fromName(e){return new Q(ye.fromString(e).popFirst(5))}static empty(){return new Q(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new ye(e.slice()))}}function NS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new Nn(i,Q.empty(),e)}function MS(t){return new Nn(t.readTime,t.key,-1)}class Nn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Nn(ee.min(),Q.empty(),-1)}static max(){return new Nn(ee.max(),Q.empty(),-1)}}function OS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==LS)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new x((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof x?n:x.resolve(n)}catch(n){return x.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):x.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):x.reject(n)}static resolve(e){return new x((n,r)=>{n(e)})}static reject(e){return new x((n,r)=>{r(e)})}static waitFor(e){return new x((n,r)=>{let i=0,s=0,o=!1;e.forEach(u=>{++i,u.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=x.resolve(!1);for(const r of e)n=n.next(i=>i?x.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new x((r,i)=>{const s=e.length,o=new Array(s);let u=0;for(let l=0;l<s;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++u,u===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new x((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ys(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}gf.ct=-1;function Tu(t){return t==null}function Ca(t){return t===0&&1/t==-1/0}function $S(t){return typeof t=="number"&&Number.isInteger(t)&&!Ca(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function di(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Ry(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e,n){this.comparator=e,this.root=n||Ve.EMPTY}insert(e,n){return new xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ve.BLACK,null,null))}remove(e){return new xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ve.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Co(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Co(this.root,e,this.comparator,!1)}getReverseIterator(){return new Co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Co(this.root,e,this.comparator,!0)}}class Co{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ve{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ve.RED,this.left=i??Ve.EMPTY,this.right=s??Ve.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ve(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ve.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ve.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}Ve.EMPTY=null,Ve.RED=!0,Ve.BLACK=!1;Ve.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Ve(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jp(this.data.getIterator())}getIteratorFrom(e){return new jp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $e(this.comparator);return n.data=e,n}}class jp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.fields=e,e.sort(Ze.comparator)}static empty(){return new Lt([])}unionWith(e){let n=new $e(Ze.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Lt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wr(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new xS("Invalid base64 string: "+i):i}}(e);return new st(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new st(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const zS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mn(t){if(ge(!!t),typeof t=="string"){let e=0;const n=zS.exec(t);if(ge(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kr(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function xy(t){const e=t.mapValue.fields.__previous_value__;return $y(e)?xy(e):e}function Cs(t){const e=Mn(t.mapValue.fields.__local_write_time__.timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,r,i,s,o,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=l}}class bs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new bs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function sr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$y(t)?4:FS(t)?9007199254740991:10:J()}function Ht(t,e){if(t===e)return!0;const n=sr(t);if(n!==sr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cs(t).isEqual(Cs(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Mn(r.timestampValue),o=Mn(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Kr(r.bytesValue).isEqual(Kr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ae(r.geoPointValue.latitude)===Ae(i.geoPointValue.latitude)&&Ae(r.geoPointValue.longitude)===Ae(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ae(r.integerValue)===Ae(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=Ae(r.doubleValue),o=Ae(i.doubleValue);return s===o?Ca(s)===Ca(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Wr(t.arrayValue.values||[],e.arrayValue.values||[],Ht);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(zp(s)!==zp(o))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(o[u]===void 0||!Ht(s[u],o[u])))return!1;return!0}(t,e);default:return J()}}function Ts(t,e){return(t.values||[]).find(n=>Ht(n,e))!==void 0}function Gr(t,e){if(t===e)return 0;const n=sr(t),r=sr(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=Ae(i.integerValue||i.doubleValue),u=Ae(s.integerValue||s.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return Fp(t.timestampValue,e.timestampValue);case 4:return Fp(Cs(t),Cs(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Kr(i),u=Kr(s);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),u=s.split("/");for(let l=0;l<o.length&&l<u.length;l++){const d=ce(o[l],u[l]);if(d!==0)return d}return ce(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=ce(Ae(i.latitude),Ae(s.latitude));return o!==0?o:ce(Ae(i.longitude),Ae(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],u=s.values||[];for(let l=0;l<o.length&&l<u.length;++l){const d=Gr(o[l],u[l]);if(d)return d}return ce(o.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===bo.mapValue&&s===bo.mapValue)return 0;if(i===bo.mapValue)return 1;if(s===bo.mapValue)return-1;const o=i.fields||{},u=Object.keys(o),l=s.fields||{},d=Object.keys(l);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const _=ce(u[h],d[h]);if(_!==0)return _;const v=Gr(o[u[h]],l[d[h]]);if(v!==0)return v}return ce(u.length,d.length)}(t.mapValue,e.mapValue);default:throw J()}}function Fp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=Mn(t),r=Mn(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function Qr(t){return Rc(t)}function Rc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Mn(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Kr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Rc(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${Rc(r.fields[u])}`;return s+"}"}(t.mapValue):J();var e,n}function $c(t){return!!t&&"integerValue"in t}function vf(t){return!!t&&"arrayValue"in t}function Bp(t){return!!t&&"nullValue"in t}function Up(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function jo(t){return!!t&&"mapValue"in t}function Xi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Xi(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xi(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.value=e}static empty(){return new St({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xi(n)}setAll(e){let n=Ze.emptyPath(),r={},i=[];e.forEach((o,u)=>{if(!n.isImmediateParentOf(u)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=u.popLast()}o?r[u.lastSegment()]=Xi(o):i.push(u.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());jo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ht(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jo(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){di(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new St(Xi(this.value))}}function zy(t){const e=[];return di(t.fields,(n,r)=>{const i=new Ze([n]);if(jo(r)){const s=zy(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Lt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n,r,i,s,o,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=u}static newInvalidDocument(e){return new Je(e,0,ee.min(),ee.min(),ee.min(),St.empty(),0)}static newFoundDocument(e,n,r,i){return new Je(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new Je(e,2,n,ee.min(),ee.min(),St.empty(),0)}static newUnknownDocument(e,n){return new Je(e,3,n,ee.min(),ee.min(),St.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=St.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=St.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Je&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.position=e,this.inclusive=n}}function Vp(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=Gr(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ht(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,n="asc"){this.field=e,this.dir=n}}function BS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{}class Oe extends jy{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new VS(e,n,r):n==="array-contains"?new WS(e,r):n==="in"?new KS(e,r):n==="not-in"?new GS(e,r):n==="array-contains-any"?new QS(e,r):new Oe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new HS(e,r):new qS(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gr(n,this.value)):n!==null&&sr(this.value)===sr(n)&&this.matchesComparison(Gr(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qt extends jy{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new qt(e,n)}matches(e){return Fy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Fy(t){return t.op==="and"}function By(t){return US(t)&&Fy(t)}function US(t){for(const e of t.filters)if(e instanceof qt)return!1;return!0}function xc(t){if(t instanceof Oe)return t.field.canonicalString()+t.op.toString()+Qr(t.value);if(By(t))return t.filters.map(e=>xc(e)).join(",");{const e=t.filters.map(n=>xc(n)).join(",");return`${t.op}(${e})`}}function Uy(t,e){return t instanceof Oe?function(n,r){return r instanceof Oe&&n.op===r.op&&n.field.isEqual(r.field)&&Ht(n.value,r.value)}(t,e):t instanceof qt?function(n,r){return r instanceof qt&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&Uy(s,r.filters[o]),!0):!1}(t,e):void J()}function Vy(t){return t instanceof Oe?function(e){return`${e.field.canonicalString()} ${e.op} ${Qr(e.value)}`}(t):t instanceof qt?function(e){return e.op.toString()+" {"+e.getFilters().map(Vy).join(" ,")+"}"}(t):"Filter"}class VS extends Oe{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class HS extends Oe{constructor(e,n){super(e,"in",n),this.keys=Hy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qS extends Oe{constructor(e,n){super(e,"not-in",n),this.keys=Hy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Hy(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class WS extends Oe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vf(n)&&Ts(n.arrayValue,this.value)}}class KS extends Oe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ts(this.value.arrayValue,n)}}class GS extends Oe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ts(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ts(this.value.arrayValue,n)}}class QS extends Oe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ts(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n=null,r=[],i=[],s=null,o=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=u,this.ft=null}}function qp(t,e=null,n=[],r=[],i=null,s=null,o=null){return new YS(t,e,n,r,i,s,o)}function yf(t){const e=ne(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Tu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qr(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qr(r)).join(",")),e.ft=n}return e.ft}function wf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!BS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Uy(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hp(t.startAt,e.startAt)&&Hp(t.endAt,e.endAt)}function zc(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n=null,r=[],i=[],s=null,o="F",u=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=u,this.endAt=l,this.dt=null,this.wt=null,this.startAt,this.endAt}}function XS(t,e,n,r,i,s,o,u){return new Iu(t,e,n,r,i,s,o,u)}function _f(t){return new Iu(t)}function Wp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JS(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ZS(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function ek(t){return t.collectionGroup!==null}function zr(t){const e=ne(t);if(e.dt===null){e.dt=[];const n=ZS(e),r=JS(e);if(n!==null&&r===null)n.isKeyField()||e.dt.push(new Ji(n)),e.dt.push(new Ji(Ze.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ji(Ze.keyField(),s))}}}return e.dt}function sn(t){const e=ne(t);if(!e.wt)if(e.limitType==="F")e.wt=qp(e.path,e.collectionGroup,zr(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of zr(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ji(s.field,o))}const r=e.endAt?new ba(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ba(e.startAt.position,e.startAt.inclusive):null;e.wt=qp(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function jc(t,e,n){return new Iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pu(t,e){return wf(sn(t),sn(e))&&t.limitType===e.limitType}function qy(t){return`${yf(sn(t))}|lt:${t.limitType}`}function Fc(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>Vy(r)).join(", ")}]`),Tu(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qr(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qr(r)).join(",")),`Target(${n})`}(sn(t))}; limitType=${t.limitType})`}function Au(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Q.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of zr(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const u=Vp(i,s,o);return i.inclusive?u<=0:u<0}(n.startAt,zr(n),r)||n.endAt&&!function(i,s,o){const u=Vp(i,s,o);return i.inclusive?u>=0:u>0}(n.endAt,zr(n),r))}(t,e)}function tk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Wy(t){return(e,n)=>{let r=!1;for(const i of zr(t)){const s=nk(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function nk(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,s,o){const u=s.data.field(i),l=o.data.field(i);return u!==null&&l!==null?Gr(u,l):J()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){di(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return Ry(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new xe(Q.comparator);function on(){return rk}const Ky=new xe(Q.comparator);function $i(...t){let e=Ky;for(const n of t)e=e.insert(n.key,n);return e}function Gy(t){let e=Ky;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qn(){return Zi()}function Qy(){return Zi()}function Zi(){return new fi(t=>t.toString(),(t,e)=>t.isEqual(e))}const ik=new xe(Q.comparator),sk=new $e(Q.comparator);function oe(...t){let e=sk;for(const n of t)e=e.add(n);return e}const ok=new $e(ce);function Yy(){return ok}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ca(e)?"-0":e}}function Jy(t){return{integerValue:""+t}}function ak(t,e){return $S(e)?Jy(e):Xy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this._=void 0}}function uk(t,e,n){return t instanceof Ta?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Is?e0(t,e):t instanceof Ps?t0(t,e):function(r,i){const s=Zy(r,i),o=Kp(s)+Kp(r._t);return $c(s)&&$c(r._t)?Jy(o):Xy(r.serializer,o)}(t,e)}function lk(t,e,n){return t instanceof Is?e0(t,e):t instanceof Ps?t0(t,e):n}function Zy(t,e){return t instanceof Ia?$c(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Ta extends Du{}class Is extends Du{constructor(e){super(),this.elements=e}}function e0(t,e){const n=n0(e);for(const r of t.elements)n.some(i=>Ht(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ps extends Du{constructor(e){super(),this.elements=e}}function t0(t,e){let n=n0(e);for(const r of t.elements)n=n.filter(i=>!Ht(i,r));return{arrayValue:{values:n}}}class Ia extends Du{constructor(e,n){super(),this.serializer=e,this._t=n}}function Kp(t){return Ae(t.integerValue||t.doubleValue)}function n0(t){return vf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ck(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Is&&r instanceof Is||n instanceof Ps&&r instanceof Ps?Wr(n.elements,r.elements,Ht):n instanceof Ia&&r instanceof Ia?Ht(n._t,r._t):n instanceof Ta&&r instanceof Ta}(t.transform,e.transform)}class dk{constructor(e,n){this.version=e,this.transformResults=n}}class Rt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rt}static exists(e){return new Rt(void 0,e)}static updateTime(e){return new Rt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nu{}function r0(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ef(t.key,Rt.none()):new Xs(t.key,t.data,Rt.none());{const n=t.data,r=St.empty();let i=new $e(Ze.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new dr(t.key,r,new Lt(i.toArray()),Rt.none())}}function fk(t,e,n){t instanceof Xs?function(r,i,s){const o=r.value.clone(),u=Qp(r.fieldTransforms,i,s.transformResults);o.setAll(u),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof dr?function(r,i,s){if(!Fo(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Qp(r.fieldTransforms,i,s.transformResults),u=i.data;u.setAll(i0(r)),u.setAll(o),i.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function es(t,e,n,r){return t instanceof Xs?function(i,s,o,u){if(!Fo(i.precondition,s))return o;const l=i.value.clone(),d=Yp(i.fieldTransforms,u,s);return l.setAll(d),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof dr?function(i,s,o,u){if(!Fo(i.precondition,s))return o;const l=Yp(i.fieldTransforms,u,s),d=s.data;return d.setAll(i0(i)),d.setAll(l),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,s,o){return Fo(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function hk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Zy(r.transform,i||null);s!=null&&(n===null&&(n=St.empty()),n.set(r.field,s))}return n||null}function Gp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Wr(n,r,(i,s)=>ck(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xs extends Nu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dr extends Nu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function i0(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Qp(t,e,n){const r=new Map;ge(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,u=e.data.field(s.field);r.set(s.field,lk(o,u,n[i]))}return r}function Yp(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,uk(s,o,e))}return r}class Ef extends Nu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pk extends Nu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&fk(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=es(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=es(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Qy();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let u=this.applyToLocalView(o,s.mutatedFields);u=n.has(i.key)?null:u;const l=r0(o,u);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&Wr(this.mutations,e.mutations,(n,r)=>Gp(n,r))&&Wr(this.baseMutations,e.baseMutations,(n,r)=>Gp(n,r))}}class Sf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ge(e.mutations.length===r.length);let i=ik;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Sf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe,ae;function yk(t){switch(t){default:return J();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function s0(t){if(t===void 0)return rn("GRPC error has no .code"),$.UNKNOWN;switch(t){case Pe.OK:return $.OK;case Pe.CANCELLED:return $.CANCELLED;case Pe.UNKNOWN:return $.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return $.INTERNAL;case Pe.UNAVAILABLE:return $.UNAVAILABLE;case Pe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Pe.NOT_FOUND:return $.NOT_FOUND;case Pe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Pe.ABORTED:return $.ABORTED;case Pe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Pe.DATA_LOSS:return $.DATA_LOSS;default:return J()}}(ae=Pe||(Pe={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return To}static getOrCreateInstance(){return To===null&&(To=new kf),To}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let To=null;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Js.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Mu(ee.min(),i,Yy(),on(),oe())}}class Js{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Js(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class o0{constructor(e,n){this.targetId=e,this.Et=n}}class a0{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Xp{constructor(){this.At=0,this.Rt=Zp(),this.vt=st.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return this.At!==0}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=oe(),n=oe(),r=oe();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J()}}),new Js(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=Zp()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class wk{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=on(),this.qt=Jp(),this.Ut=new $e(ce)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:J()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(zc(o))if(i===0){const u=new Q(o.path);this.Qt(r,u,Je.newNoDocument(u,ee.min()))}else ge(i===1);else{const u=this.Zt(r);u!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),(n=kf.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch({localCacheCount:u,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,o)=>{const u=this.Yt(o);if(u){if(s.current&&zc(u.target)){const l=new Q(u.target.path);this.Lt.get(l)!==null||this.te(o,l)||this.Qt(o,l,Je.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=oe();this.qt.forEach((s,o)=>{let u=!0;o.forEachWhile(l=>{const d=this.Yt(l);return!d||d.purpose===2||(u=!1,!1)}),u&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Mu(e,n,this.Ut,this.Lt,r);return this.Lt=on(),this.qt=Jp(),this.Ut=new $e(ce),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new Xp,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new $e(ce),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=this.Yt(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new Xp),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function Jp(){return new xe(Q.comparator)}function Zp(){return new xe(Q.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k={asc:"ASCENDING",desc:"DESCENDING"},Ek={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Sk={and:"AND",or:"OR"};class kk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pa(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u0(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ck(t,e){return Pa(t,e.toTimestamp())}function Vt(t){return ge(!!t),ee.fromTimestamp(function(e){const n=Mn(e);return new Re(n.seconds,n.nanos)}(t))}function Cf(t,e){return function(n){return new ye(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function l0(t){const e=ye.fromString(t);return ge(h0(e)),e}function Bc(t,e){return Cf(t.databaseId,e.path)}function Pl(t,e){const n=l0(e);if(n.get(1)!==t.databaseId.projectId)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(c0(n))}function Uc(t,e){return Cf(t.databaseId,e)}function bk(t){const e=l0(t);return e.length===4?ye.emptyPath():c0(e)}function Vc(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function c0(t){return ge(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function em(t,e,n){return{name:Bc(t,e),fields:n.value.mapValue.fields}}function Tk(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:J()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,d){return l.useProto3Json?(ge(d===void 0||typeof d=="string"),st.fromBase64String(d||"")):(ge(d===void 0||d instanceof Uint8Array),st.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,u=o&&function(l){const d=l.code===void 0?$.UNKNOWN:s0(l.code);return new Y(d,l.message||"")}(o);n=new a0(r,i,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pl(t,r.document.name),s=Vt(r.document.updateTime),o=r.document.createTime?Vt(r.document.createTime):ee.min(),u=new St({mapValue:{fields:r.document.fields}}),l=Je.newFoundDocument(i,s,o,u),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Bo(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Pl(t,r.document),s=r.readTime?Vt(r.readTime):ee.min(),o=Je.newNoDocument(i,s),u=r.removedTargetIds||[];n=new Bo([],u,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Pl(t,r.document),s=r.removedTargetIds||[];n=new Bo([],s,i,null)}else{if(!("filter"in e))return J();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new vk(i),o=r.targetId;n=new o0(o,s)}}return n}function Ik(t,e){let n;if(e instanceof Xs)n={update:em(t,e.key,e.value)};else if(e instanceof Ef)n={delete:Bc(t,e.key)};else if(e instanceof dr)n={update:em(t,e.key,e.data),updateMask:$k(e.fieldMask)};else{if(!(e instanceof pk))return J();n={verify:Bc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Ta)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Is)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ps)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ia)return{fieldPath:s.field.canonicalString(),increment:o._t};throw J()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:Ck(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J()}(t,e.precondition)),n}function Pk(t,e){return t&&t.length>0?(ge(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?Vt(r.updateTime):Vt(i);return s.isEqual(ee.min())&&(s=Vt(i)),new dk(s,r.transformResults||[])}(n,e))):[]}function Ak(t,e){return{documents:[Uc(t,e.path)]}}function Dk(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Uc(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Uc(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return f0(qt.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(d=>function(h){return{field:gr(h.field),direction:Ok(h.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(l,d){return l.useProto3Json||Tu(d)?d:{value:d}}(t,e.limit);var u;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function Nk(t){let e=bk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ge(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(h){const _=d0(h);return _ instanceof qt&&By(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>function(_){return new Ji(vr(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(h)));let u=null;n.limit&&(u=function(h){let _;return _=typeof h=="object"?h.value:h,Tu(_)?null:_}(n.limit));let l=null;n.startAt&&(l=function(h){const _=!!h.before,v=h.values||[];return new ba(v,_)}(n.startAt));let d=null;return n.endAt&&(d=function(h){const _=!h.before,v=h.values||[];return new ba(v,_)}(n.endAt)),XS(e,i,o,s,u,"F",l,d)}function Mk(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return J()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function d0(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=vr(e.unaryFilter.field);return Oe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=vr(e.unaryFilter.field);return Oe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=vr(e.unaryFilter.field);return Oe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=vr(e.unaryFilter.field);return Oe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(t):t.fieldFilter!==void 0?function(e){return Oe.create(vr(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return qt.create(e.compositeFilter.filters.map(n=>d0(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return J()}}(e.compositeFilter.op))}(t):J()}function Ok(t){return _k[t]}function Lk(t){return Ek[t]}function Rk(t){return Sk[t]}function gr(t){return{fieldPath:t.canonicalString()}}function vr(t){return Ze.fromServerFormat(t.fieldPath)}function f0(t){return t instanceof Oe?function(e){if(e.op==="=="){if(Up(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NAN"}};if(Bp(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Up(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NOT_NAN"}};if(Bp(e.value))return{unaryFilter:{field:gr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gr(e.field),op:Lk(e.op),value:e.value}}}(t):t instanceof qt?function(e){const n=e.getFilters().map(r=>f0(r));return n.length===1?n[0]:{compositeFilter:{op:Rk(e.op),filters:n}}}(t):J()}function $k(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function h0(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r,i,s=ee.min(),o=ee.min(),u=st.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}withSequenceNumber(e){return new Zn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Zn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e){this.se=e}}function zk(t){const e=Nk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.He=new Fk}addToCollectionParentIndex(e,n){return this.He.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Nn.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Nn.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}}class Fk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $e(ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new Yr(0)}static bn(){return new Yr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.changes=new fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Je.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&es(r.mutation,i,Lt.empty(),Re.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=Qn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=$i();return s.forEach((u,l)=>{o=o.insert(u,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,u)=>{n.set(o,u)})})}computeViews(e,n,r,i){let s=on();const o=Zi(),u=Zi();return n.forEach((l,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof dr)?s=s.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),es(h.mutation,d,h.mutation.getFieldMask(),Re.now())):o.set(d.key,Lt.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var _;return u.set(d,new Uk(h,(_=o.get(d))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,n){const r=Zi();let i=new xe((o,u)=>o-u),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const u of o)u.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||Lt.empty();h=u.applyToLocalView(d,h),r.set(l,h);const _=(i.get(u.batchId)||oe()).add(l);i=i.insert(u.batchId,_)})}).next(()=>{const o=[],u=i.getReverseIterator();for(;u.hasNext();){const l=u.getNext(),d=l.key,h=l.value,_=Qy();h.forEach(v=>{if(!s.has(v)){const T=r0(n.get(v),r.get(v));T!==null&&_.set(v,T),s=s.add(v)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,_))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Q.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ek(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve(Qn());let u=-1,l=s;return o.next(d=>x.forEach(d,(h,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{l=l.insert(h,v)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,l,d,oe())).next(h=>({batchId:u,changes:Gy(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=$i();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=$i();return this.indexManager.getCollectionParents(e,i).next(o=>x.forEach(o,u=>{const l=function(d,h){return new Iu(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(d=>{d.forEach((h,_)=>{s=s.insert(h,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((u,l)=>{const d=l.getKey();s.get(d)===null&&(s=s.insert(d,Je.newInvalidDocument(d)))});let o=$i();return s.forEach((u,l)=>{const d=i.get(u);d!==void 0&&es(d.mutation,l,Lt.empty(),Re.now()),Au(n,l)&&(o=o.insert(u,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return x.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Vt(r.createTime)}),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,function(r){return{name:r.name,query:zk(r.bundledQuery),readTime:Vt(r.readTime)}}(n)),x.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(){this.overlays=new xe(Q.comparator),this.ts=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qn();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){const i=Qn(),s=n.length+1,o=new Q(n.child("")),u=this.overlays.getIteratorFrom(o);for(;u.hasNext();){const l=u.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new xe((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=s.get(d.largestBatchId);h===null&&(h=Qn(),s=s.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const u=Qn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>u.set(d,h)),!(u.size()>=i)););return x.resolve(u)}re(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new gk(n,r));let s=this.ts.get(n);s===void 0&&(s=oe(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this.es=new $e(je.ns),this.ss=new $e(je.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new je(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new je(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new Q(new ye([])),r=new je(n,e),i=new je(n,e+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new Q(new ye([])),r=new je(n,e),i=new je(n,e+1);let s=oe();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new je(e,0),r=this.es.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class je{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return Q.comparator(e.key,n.key)||ce(e.ds,n.ds)}static rs(e,n){return ce(e.ds,n.ds)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new $e(je.ns)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mk(s,n,r,i);this.mutationQueue.push(o);for(const u of i)this._s=this._s.add(new je(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ys(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const u=this.gs(o.ds);s.push(u)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(ce);return n.forEach(i=>{const s=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],u=>{r=r.add(u.ds)})}),x.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new je(new Q(s),0);let u=new $e(ce);return this._s.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(l.ds)),!0)},o),x.resolve(this.ps(u))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ge(this.Is(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this._s;return x.forEach(n.mutations,i=>{const s=new je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new je(n,0),i=this._s.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Is(e,n){return this.ys(e)}ys(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.Ts=e,this.docs=new xe(Q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(n))}getEntries(e,n){let r=on();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Je.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=on();const o=n.path,u=new Q(o.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||OS(MS(h),r)<=0||(i.has(h.key)||Au(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J()}Es(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Gk(this)}getSize(e){return x.resolve(this.size)}}class Gk extends Bk{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.persistence=e,this.As=new fi(n=>yf(n),wf),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Rs=0,this.vs=new bf,this.targetCount=0,this.bs=Yr.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),x.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new Yr(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.Sn(n),x.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((o,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),x.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.vs.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new gf(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new Qk(this),this.indexManager=new jk,this.remoteDocumentCache=function(r){return new Kk(r)}(r=>this.referenceDelegate.Cs(r)),this.serializer=new xk(n),this.xs=new Hk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new Wk(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new Xk(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return x.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class Xk extends RS{constructor(e){super(),this.currentSequenceNumber=e}}class Tf{constructor(e){this.persistence=e,this.$s=new bf,this.Ms=null}static Fs(e){return new Tf(e)}get Bs(){if(this.Ms)return this.Ms;throw J()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),x.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Bs,r=>{const i=Q.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,ee.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return x.or([()=>x.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new If(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if(Wp(n))return x.resolve(null);let r=sn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=jc(n,null,"F"),r=sn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.xi.getDocuments(e,o).next(u=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.$i(n,u);return this.Mi(n,d,o,l.readTime)?this.Ni(e,jc(n,null,"F")):this.Fi(e,d,n,l)}))})))}ki(e,n,r,i){return Wp(n)||i.isEqual(ee.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(e,n):(xp()<=le.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fc(n)),this.Fi(e,o,n,NS(i,-1)))})}$i(e,n){let r=new $e(Wy(e));return n.forEach((i,s)=>{Au(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return xp()<=le.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Fc(n)),this.xi.getDocumentsMatchingQuery(e,n,Nn.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new xe(ce),this.qi=new fi(s=>yf(s),wf),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vk(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function eC(t,e,n,r){return new Zk(t,e,n,r)}async function p0(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],u=[];let l=oe();for(const d of i){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of s){u.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({Qi:d,removedBatchIds:o,addedBatchIds:u}))})})}function tC(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,u,l,d){const h=l.batch,_=h.keys();let v=x.resolve();return _.forEach(T=>{v=v.next(()=>d.getEntry(u,T)).next(I=>{const C=l.docVersions.get(T);ge(C!==null),I.version.compareTo(C)<0&&(h.applyToRemoteDocument(I,l),I.isValidDocument()&&(I.setReadTime(l.commitVersion),d.addEntry(I)))})}),v.next(()=>o.mutationQueue.removeMutationBatch(u,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=oe();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(u=u.add(o.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function m0(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function nC(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const u=[];e.targetChanges.forEach((h,_)=>{const v=i.get(_);if(!v)return;u.push(n.Ds.removeMatchingKeys(s,h.removedDocuments,_).next(()=>n.Ds.addMatchingKeys(s,h.addedDocuments,_)));let T=v.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(_)?T=T.withResumeToken(st.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(h.resumeToken,r)),i=i.insert(_,T),function(I,C,y){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(v,T,h)&&u.push(n.Ds.updateTargetData(s,T))});let l=on(),d=oe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),u.push(rC(s,o,e.documentUpdates).next(h=>{l=h.zi,d=h.ji})),!r.isEqual(ee.min())){const h=n.Ds.getLastRemoteSnapshotVersion(s).next(_=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));u.push(h)}return x.waitFor(u).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,d)).next(()=>l)}).then(s=>(n.Li=i,s))}function rC(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=on();return n.forEach((u,l)=>{const d=s.get(u);l.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(u,l.readTime),o=o.insert(u,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(u,l)):K("LocalStore","Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",l.version)}),{zi:o,ji:i}})}function iC(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sC(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,x.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new Zn(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function Hc(t,e,n){const r=ne(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ys(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}function tm(t,e,n){const r=ne(t);let i=ee.min(),s=oe();return r.persistence.runTransaction("Execute query","readonly",o=>function(u,l,d){const h=ne(u),_=h.qi.get(d);return _!==void 0?x.resolve(h.Li.get(_)):h.Ds.getTargetData(l,d)}(r,o,sn(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,u.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?i:ee.min(),n?s:oe())).next(u=>(oC(r,tk(e),u),{documents:u,Wi:s})))}function oC(t,e,n){let r=t.Ui.get(e)||ee.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}class nm{constructor(){this.activeTargetIds=Yy()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aC{constructor(){this.Br=new nm,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new nm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io=null;function Al(){return Io===null?Io=268435456+Math.round(2147483648*Math.random()):Io++,"0x"+Io.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class dC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.ro=n+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const o=Al(),u=this.ao(e,n);K("RestConnection",`Sending RPC '${e}' ${o}:`,u,r);const l={};return this.ho(l,i,s),this.lo(e,u,l,r).then(d=>(K("RestConnection",`Received RPC '${e}' ${o}: `,d),d),d=>{throw ka("RestConnection",`RPC '${e}' ${o} failed with error: `,d,"url: ",u,"request:",r),d})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ci,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){const r=lC[e];return`${this.ro}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=Al();return new Promise((o,u)=>{const l=new ES;l.setWithCredentials(!0),l.listenOnce(yS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Il.NO_ERROR:const h=l.getResponseJson();K(Qe,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Il.TIMEOUT:K(Qe,`RPC '${e}' ${s} timed out`),u(new Y($.DEADLINE_EXCEEDED,"Request time out"));break;case Il.HTTP_ERROR:const _=l.getStatus();if(K(Qe,`RPC '${e}' ${s} failed with status:`,_,"response text:",l.getResponseText()),_>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);const T=v==null?void 0:v.error;if(T&&T.status&&T.message){const I=function(C){const y=C.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(y)>=0?y:$.UNKNOWN}(T.status);u(new Y(I,T.message))}else u(new Y($.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new Y($.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{K(Qe,`RPC '${e}' ${s} completed.`)}});const d=JSON.stringify(i);K(Qe,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",d,r,15)})}wo(e,n,r){const i=Al(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=gS(),u=vS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new _S({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");K(Qe,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);let _=!1,v=!1;const T=new cC({Wr:C=>{v?K(Qe,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(_||(K(Qe,`Opening RPC '${e}' stream ${i} transport.`),h.open(),_=!0),K(Qe,`RPC '${e}' stream ${i} sending:`,C),h.send(C))},Hr:()=>h.close()}),I=(C,y,m)=>{C.listen(y,g=>{try{m(g)}catch(b){setTimeout(()=>{throw b},0)}})};return I(h,ko.EventType.OPEN,()=>{v||K(Qe,`RPC '${e}' stream ${i} transport opened.`)}),I(h,ko.EventType.CLOSE,()=>{v||(v=!0,K(Qe,`RPC '${e}' stream ${i} transport closed`),T.so())}),I(h,ko.EventType.ERROR,C=>{v||(v=!0,ka(Qe,`RPC '${e}' stream ${i} transport errored:`,C),T.so(new Y($.UNAVAILABLE,"The operation could not be completed")))}),I(h,ko.EventType.MESSAGE,C=>{var y;if(!v){const m=C.data[0];ge(!!m);const g=m,b=g.error||((y=g[0])===null||y===void 0?void 0:y.error);if(b){K(Qe,`RPC '${e}' stream ${i} received error:`,b);const a=b.status;let f=function(p){const w=Pe[p];if(w!==void 0)return s0(w)}(a),c=b.message;f===void 0&&(f=$.INTERNAL,c="Unknown error status: "+a+" with message "+b.message),v=!0,T.so(new Y(f,c)),h.close()}else K(Qe,`RPC '${e}' stream ${i} received:`,m),T.io(m)}}),I(u,wS.STAT_EVENT,C=>{C.stat===Rp.PROXY?K(Qe,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===Rp.NOPROXY&&K(Qe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.no()},0),T}}function Dl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t){return new kk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,r,i,s,o,u,l){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new g0(e,n)}xo(){return this.state===1||this.state===5||this.No()}No(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.ko()}async stop(){this.xo()&&await this.close(0)}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&this.So===null&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}async Mo(){if(this.No())return this.close(0)}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}async close(e,n){this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,e!==4?this.Co.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(rn(n.toString()),rn("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new Y($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){this.state=5,this.Co.Ao(async()=>{this.state=0,this.start()})}Go(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fC extends v0{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=Tk(this.serializer,e),r=function(i){if(!("targetChange"in i))return ee.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Vt(s.readTime):ee.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=Vc(this.serializer),n.addTarget=function(i,s){let o;const u=s.target;return o=zc(u)?{documents:Ak(i,u)}:{query:Dk(i,u)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=u0(i,s.resumeToken):s.snapshotVersion.compareTo(ee.min())>0&&(o.readTime=Pa(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=Mk(this.serializer,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=Vc(this.serializer),n.removeTarget=e,this.Fo(n)}}class hC extends v0{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=Pk(e.writeResults,e.commitTime),r=Vt(e.commitTime);return this.listener.Zo(r,n)}return ge(!e.writeResults||e.writeResults.length===0),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Vc(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ik(this.serializer,r))};this.Fo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Y($.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y($.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class mC{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){this.su===0&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){this.state==="Online"?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,e==="Online"&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(rn(n),this.ru=!1):K("OnlineStateTracker",n)}hu(){this.iu!==null&&(this.iu.cancel(),this.iu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(o=>{r.enqueueAndForget(async()=>{fr(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(u){const l=ne(u);l.du.add(4),await Zs(l),l.mu.set("Unknown"),l.du.delete(4),await Lu(l)}(this))})}),this.mu=new mC(r,i)}}async function Lu(t){if(fr(t))for(const e of t.wu)await e(!0)}async function Zs(t){for(const e of t.wu)await e(!1)}function y0(t,e){const n=ne(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),Df(n)?Af(n):hi(n).No()&&Pf(n,e))}function w0(t,e){const n=ne(t),r=hi(n);n.fu.delete(e),r.No()&&_0(n,e),n.fu.size===0&&(r.No()?r.$o():fr(n)&&n.mu.set("Unknown"))}function Pf(t,e){t.gu.Ot(e.targetId),hi(t).jo(e)}function _0(t,e){t.gu.Ot(e),hi(t).Wo(e)}function Af(t){t.gu=new wk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),hi(t).start(),t.mu.ou()}function Df(t){return fr(t)&&!hi(t).xo()&&t.fu.size>0}function fr(t){return ne(t).du.size===0}function E0(t){t.gu=void 0}async function vC(t){t.fu.forEach((e,n)=>{Pf(t,e)})}async function yC(t,e){E0(t),Df(t)?(t.mu.au(e),Af(t)):t.mu.set("Unknown")}async function wC(t,e,n){if(t.mu.set("Online"),e instanceof a0&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.fu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.fu.delete(o),r.gu.removeTarget(o))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Aa(t,r)}else if(e instanceof Bo?t.gu.Kt(e):e instanceof o0?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(ee.min()))try{const r=await m0(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.fu.get(l);d&&i.fu.set(l,d.withResumeToken(u.resumeToken,s))}}),o.targetMismatches.forEach(u=>{const l=i.fu.get(u);if(!l)return;i.fu.set(u,l.withResumeToken(st.EMPTY_BYTE_STRING,l.snapshotVersion)),_0(i,u);const d=new Zn(l.target,u,1,l.sequenceNumber);Pf(i,d)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await Aa(t,r)}}async function Aa(t,e,n){if(!Ys(e))throw e;t.du.add(1),await Zs(t),t.mu.set("Offline"),n||(n=()=>m0(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.du.delete(1),await Lu(t)})}function S0(t,e){return e().catch(n=>Aa(t,n,e))}async function Ru(t){const e=ne(t),n=On(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;_C(e);)try{const i=await iC(e.localStore,r);if(i===null){e.lu.length===0&&n.$o();break}r=i.batchId,EC(e,i)}catch(i){await Aa(e,i)}k0(e)&&C0(e)}function _C(t){return fr(t)&&t.lu.length<10}function EC(t,e){t.lu.push(e);const n=On(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function k0(t){return fr(t)&&!On(t).xo()&&t.lu.length>0}function C0(t){On(t).start()}async function SC(t){On(t).tu()}async function kC(t){const e=On(t);for(const n of t.lu)e.Yo(n.mutations)}async function CC(t,e,n){const r=t.lu.shift(),i=Sf.from(r,e,n);await S0(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ru(t)}async function bC(t,e){e&&On(t).Jo&&await async function(n,r){if(i=r.code,yk(i)&&i!==$.ABORTED){const s=n.lu.shift();On(n).Oo(),await S0(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Ru(n)}var i}(t,e),k0(t)&&C0(t)}async function im(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=fr(n);n.du.add(3),await Zs(n),r&&n.mu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),await Lu(n)}async function TC(t,e){const n=ne(t);e?(n.du.delete(2),await Lu(n)):e||(n.du.add(2),await Zs(n),n.mu.set("Unknown"))}function hi(t){return t.yu||(t.yu=function(e,n,r){const i=ne(e);return i.nu(),new fC(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:vC.bind(null,t),Zr:yC.bind(null,t),zo:wC.bind(null,t)}),t.wu.push(async e=>{e?(t.yu.Oo(),Df(t)?Af(t):t.mu.set("Unknown")):(await t.yu.stop(),E0(t))})),t.yu}function On(t){return t.pu||(t.pu=function(e,n,r){const i=ne(e);return i.nu(),new hC(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:SC.bind(null,t),Zr:bC.bind(null,t),Xo:kC.bind(null,t),Zo:CC.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),await Ru(t)):(await t.pu.stop(),t.lu.length>0&&(K("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))})),t.pu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,u=new Nf(e,n,o,i,s);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mf(t,e){if(rn("AsyncQueue",`${e}: ${t}`),Ys(t))return new Y($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=$i(),this.sortedSet=new xe(this.comparator)}static emptySet(e){return new jr(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof jr)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new jr;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(){this.Iu=new xe(Q.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?e.type!==0&&r.type===3?this.Iu=this.Iu.insert(n,e):e.type===3&&r.type!==1?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Iu=this.Iu.remove(n):e.type===1&&r.type===2?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):J():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xr{constructor(e,n,r,i,s,o,u,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(u=>{o.push({type:0,doc:u})}),new Xr(e,n,jr.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.Eu=void 0,this.listeners=[]}}class PC{constructor(){this.queries=new fi(e=>qy(e),Pu),this.onlineState="Unknown",this.Au=new Set}}async function AC(t,e){const n=ne(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new IC),i)try{s.Eu=await n.onListen(r)}catch(o){const u=Mf(o,`Initialization of query '${Fc(e.query)}' failed`);return void e.onError(u)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&Of(n)}async function DC(t,e){const n=ne(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function NC(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const u of o.listeners)u.vu(i)&&(r=!0);o.Eu=i}}r&&Of(n)}function MC(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Of(t){t.Au.forEach(e=>{e.next()})}class OC{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.xu||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Su(e){if(e.docChanges.length>0)return!0;const n=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Cu(e){e=Xr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.key=e}}class T0{constructor(e){this.key=e}}class LC{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=oe(),this.mutatedKeys=oe(),this.Ku=Wy(e),this.Gu=new jr(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new sm,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,u=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,_)=>{const v=i.get(h),T=Au(this.query,_)?_:null,I=!!v&&this.mutatedKeys.has(v.key),C=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let y=!1;v&&T?v.data.isEqual(T.data)?I!==C&&(r.track({type:3,doc:T}),y=!0):this.Wu(v,T)||(r.track({type:2,doc:T}),y=!0,(l&&this.Ku(T,l)>0||d&&this.Ku(T,d)<0)&&(u=!0)):!v&&T?(r.track({type:0,doc:T}),y=!0):v&&!T&&(r.track({type:1,doc:v}),y=!0,(l||d)&&(u=!0)),y&&(T?(o=o.add(T),s=C?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Gu:o,ju:r,Mi:u,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((d,h)=>function(_,v){const T=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return T(_)-T(v)}(d.type,h.type)||this.Ku(d.doc,h.doc)),this.Hu(r);const o=n?this.Ju():[],u=this.Uu.size===0&&this.current?1:0,l=u!==this.qu;return this.qu=u,s.length!==0||l?{snapshot:new Xr(this.query,e.Gu,i,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new sm,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=oe(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new T0(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new b0(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=oe();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return Xr.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.qu===0,this.hasCachedResults)}}class RC{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $C{constructor(e){this.key=e,this.ec=!1}}class xC{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new fi(u=>qy(u),Pu),this.ic=new Map,this.rc=new Set,this.oc=new xe(Q.comparator),this.uc=new Map,this.cc=new bf,this.ac={},this.hc=new Map,this.lc=Yr.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function zC(t,e){const n=GC(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=await sC(n.localStore,sn(e));n.isPrimaryClient&&y0(n.remoteStore,o);const u=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await jC(n,e,r,u==="current",o.resumeToken)}return i}async function jC(t,e,n,r,i){t.dc=(_,v,T)=>async function(I,C,y,m){let g=C.view.zu(y);g.Mi&&(g=await tm(I.localStore,C.query,!1).then(({documents:f})=>C.view.zu(f,g)));const b=m&&m.targetChanges.get(C.targetId),a=C.view.applyChanges(g,I.isPrimaryClient,b);return am(I,C.targetId,a.Yu),a.snapshot}(t,_,v,T);const s=await tm(t.localStore,e,!0),o=new LC(e,s.Wi),u=o.zu(s.documents),l=Js.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(u,t.isPrimaryClient,l);am(t,n,d.Yu);const h=new RC(e,n,o);return t.sc.set(e,h),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),d.snapshot}async function FC(t,e){const n=ne(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!Pu(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Hc(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),w0(n.remoteStore,r.targetId),qc(n,r.targetId)}).catch(Qs)):(qc(n,r.targetId),await Hc(n.localStore,r.targetId,!0))}async function BC(t,e,n){const r=QC(t);try{const i=await function(s,o){const u=ne(s),l=Re.now(),d=o.reduce((v,T)=>v.add(T.key),oe());let h,_;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let T=on(),I=oe();return u.Ki.getEntries(v,d).next(C=>{T=C,T.forEach((y,m)=>{m.isValidDocument()||(I=I.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,T)).next(C=>{h=C;const y=[];for(const m of o){const g=hk(m,h.get(m.key).overlayedDocument);g!=null&&y.push(new dr(m.key,g,zy(g.value.mapValue),Rt.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,y,o)}).next(C=>{_=C;const y=C.applyToLocalDocumentSet(h,I);return u.documentOverlayCache.saveOverlays(v,C.batchId,y)})}).then(()=>({batchId:_.batchId,changes:Gy(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,u){let l=s.ac[s.currentUser.toKey()];l||(l=new xe(ce)),l=l.insert(o,u),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),await eo(r,i.changes),await Ru(r.remoteStore)}catch(i){const s=Mf(i,"Failed to persist write");n.reject(s)}}async function I0(t,e){const n=ne(t);try{const r=await nC(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(ge(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?ge(o.ec):i.removedDocuments.size>0&&(ge(o.ec),o.ec=!1))}),await eo(n,r,e)}catch(r){await Qs(r)}}function om(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((s,o)=>{const u=o.view.Ru(e);u.snapshot&&i.push(u.snapshot)}),function(s,o){const u=ne(s);u.onlineState=o;let l=!1;u.queries.forEach((d,h)=>{for(const _ of h.listeners)_.Ru(o)&&(l=!0)}),l&&Of(u)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function UC(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new xe(Q.comparator);o=o.insert(s,Je.newNoDocument(s,ee.min()));const u=oe().add(s),l=new Mu(ee.min(),new Map,new $e(ce),o,u);await I0(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),Lf(r)}else await Hc(r.localStore,e,!1).then(()=>qc(r,e,n)).catch(Qs)}async function VC(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await tC(n.localStore,e);A0(n,r,null),P0(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await eo(n,i)}catch(i){await Qs(i)}}async function HC(t,e,n){const r=ne(t);try{const i=await function(s,o){const u=ne(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let d;return u.mutationQueue.lookupMutationBatch(l,o).next(h=>(ge(h!==null),d=h.keys(),u.mutationQueue.removeMutationBatch(l,h))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,d,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,d)).next(()=>u.localDocuments.getDocuments(l,d))})}(r.localStore,e);A0(r,e,n),P0(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await eo(r,i)}catch(i){await Qs(i)}}function P0(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function A0(t,e,n){const r=ne(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function qc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||D0(t,r)})}function D0(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(w0(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Lf(t))}function am(t,e,n){for(const r of n)r instanceof b0?(t.cc.addReference(r.key,e),qC(t,r)):r instanceof T0?(K("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||D0(t,r.key)):J()}function qC(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(K("SyncEngine","New document in limbo: "+n),t.rc.add(r),Lf(t))}function Lf(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new Q(ye.fromString(e)),r=t.lc.next();t.uc.set(r,new $C(n)),t.oc=t.oc.insert(n,r),y0(t.remoteStore,new Zn(sn(_f(n.path)),r,2,gf.ct))}}async function eo(t,e,n){const r=ne(t),i=[],s=[],o=[];r.sc.isEmpty()||(r.sc.forEach((u,l)=>{o.push(r.dc(l,e,n).then(d=>{if((d||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,d!=null&&d.fromCache?"not-current":"current"),d){i.push(d);const h=If.Di(l.targetId,d);s.push(h)}}))}),await Promise.all(o),r.nc.zo(i),await async function(u,l){const d=ne(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>x.forEach(l,_=>x.forEach(_.Vi,v=>d.persistence.referenceDelegate.addReference(h,_.targetId,v)).next(()=>x.forEach(_.Si,v=>d.persistence.referenceDelegate.removeReference(h,_.targetId,v)))))}catch(h){if(!Ys(h))throw h;K("LocalStore","Failed to update sequence numbers: "+h)}for(const h of l){const _=h.targetId;if(!h.fromCache){const v=d.Li.get(_),T=v.snapshotVersion,I=v.withLastLimboFreeSnapshotVersion(T);d.Li=d.Li.insert(_,I)}}}(r.localStore,s))}async function WC(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await p0(n.localStore,e);n.currentUser=e,function(i,s){i.hc.forEach(o=>{o.forEach(u=>{u.reject(new Y($.CANCELLED,s))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await eo(n,r.Qi)}}function KC(t,e){const n=ne(t),r=n.uc.get(e);if(r&&r.ec)return oe().add(r.key);{let i=oe();const s=n.ic.get(e);if(!s)return i;for(const o of s){const u=n.sc.get(o);i=i.unionWith(u.view.Qu)}return i}}function GC(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=I0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UC.bind(null,e),e.nc.zo=NC.bind(null,e.eventManager),e.nc.wc=MC.bind(null,e.eventManager),e}function QC(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HC.bind(null,e),e}class um{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ou(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return eC(this.persistence,new Jk,e.initialUser,this.serializer)}createPersistence(e){return new Yk(Tf.Fs,this.serializer)}createSharedClientState(e){return new aC}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class YC{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>om(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=WC.bind(null,this.syncEngine),await TC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new PC}createDatastore(e){const n=Ou(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new dC(i));var i;return function(s,o,u,l){return new pC(s,o,u,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=u=>om(this.syncEngine,u,0),o=rm.D()?new rm:new uC,new gC(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,u,l,d){const h=new xC(r,i,s,o,u,l);return d&&(h.fc=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=ne(e);K("RemoteStore","RemoteStore shutting down."),n.du.add(5),await Zs(n),n._u.shutdown(),n.mu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):rn("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xe.UNAUTHENTICATED,this.clientId=Ly.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Nl(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await p0(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function lm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await e2(t);K("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>im(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>im(e.remoteStore,s)),t._onlineComponents=e}function ZC(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function e2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nl(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!ZC(n))throw n;ka("Error using user provided cache. Falling back to memory cache: "+n),await Nl(t,new um)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await Nl(t,new um);return t._offlineComponents}async function N0(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await lm(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await lm(t,new YC))),t._onlineComponents}function t2(t){return N0(t).then(e=>e.syncEngine)}async function cm(t){const e=await N0(t),n=e.eventManager;return n.onListen=zC.bind(null,e.syncEngine),n.onUnlisten=FC.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t,e,n){if(!n)throw new Y($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n2(t,e,n,r){if(e===!0&&r===!0)throw new Y($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function fm(t){if(!Q.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hm(t){if(Q.isDocumentKey(t))throw new Y($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J()}function Cn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rf(t);throw new Y($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Y($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,n2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pm(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new SS;switch(n.type){case"firstParty":return new TS(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Y($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=dm.get(e);n&&(K("ComponentProvider","Removing Datastore"),dm.delete(e),n.terminate())}(this),Promise.resolve()}}function r2(t,e,n,r={}){var i;const s=(t=Cn(t,$u))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&ka("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,u;if(typeof r.mockUserToken=="string")o=r.mockUserToken,u=Xe.MOCK_USER;else{o=s8(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Y($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Xe(l)}t._authCredentials=new kS(new Oy(o,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new bn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}}class xu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xu(this.firestore,e,this._query)}}class bn extends xu{constructor(e,n,r){super(e,n,_f(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new Q(e))}withConverter(e){return new bn(this.firestore,e,this._path)}}function i2(t,e,...n){if(t=Hr(t),M0("collection","path",e),t instanceof $u){const r=ye.fromString(e,...n);return hm(r),new bn(t,null,r)}{if(!(t instanceof gt||t instanceof bn))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return hm(r),new bn(t.firestore,null,r)}}function Wc(t,e,...n){if(t=Hr(t),arguments.length===1&&(e=Ly.A()),M0("doc","path",e),t instanceof $u){const r=ye.fromString(e,...n);return fm(r),new gt(t,null,new Q(r))}{if(!(t instanceof gt||t instanceof bn))throw new Y($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return fm(r),new gt(t.firestore,t instanceof bn?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new g0(this,"async_queue_retry"),this.qc=()=>{const n=Dl();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=Dl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=Dl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new Jn;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}async Gc(){if(this.kc.length!==0){try{await this.kc[0](),this.kc.shift(),this.Co.reset()}catch(e){if(!Ys(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.kc.length>0&&this.Co.Ao(()=>this.Gc())}}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{this.Mc=r,this.Fc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw rn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=Nf.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&J()}verifyOperationInProgress(){}async zc(){let e;do e=this.Nc,await e;while(e!==this.Nc)}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function mm(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Jr extends $u{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new s2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||L0(this),this._firestoreClient.terminate()}}function o2(t,e){const n=typeof t=="object"?t:lE(),r=typeof t=="string"?t:"(default)",i=sE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=n8("firestore");s&&r2(i,...s)}return i}function O0(t){return t._firestoreClient||L0(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function L0(t){var e,n,r;const i=t._freezeSettings(),s=function(o,u,l,d){return new jS(o,u,l,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new JC(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zr(st.fromBase64String(e))}catch(n){throw new Y($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zr(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=/^__.*__$/;class u2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new dr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xs(e,this.data,n,this.fieldTransforms)}}function $0(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class zf{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new zf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Da(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(e.length===0)throw this.ia("Document fields must not be empty");if($0(this.Yc)&&a2.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class l2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ou(e)}ua(e,n,r,i=!1){return new zf({Yc:e,methodName:n,oa:r,path:Ze.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x0(t){const e=t._freezeSettings(),n=Ou(t._databaseId);return new l2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function z0(t,e,n,r,i,s={}){const o=t.ua(s.merge||s.mergeFields?2:0,e,n,i);U0("Data must be an object, but it was:",o,r);const u=F0(r,o);let l,d;if(s.merge)l=new Lt(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const _ of s.mergeFields){const v=c2(e,_,n);if(!o.contains(v))throw new Y($.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);f2(h,v)||h.push(v)}l=new Lt(h),d=o.fieldTransforms.filter(_=>l.covers(_.field))}else l=null,d=o.fieldTransforms;return new u2(new St(u),l,d)}function j0(t,e){if(B0(t=Hr(t)))return U0("Unsupported field value:",e,t),F0(t,e);if(t instanceof R0)return function(n,r){if(!$0(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&e.Yc!==4)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let u=j0(o,r.sa(s));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Hr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return ak(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Re.fromDate(n);return{timestampValue:Pa(r.serializer,i)}}if(n instanceof Re){const i=new Re(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Pa(r.serializer,i)}}if(n instanceof xf)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zr)return{bytesValue:u0(r.serializer,n._byteString)};if(n instanceof gt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Cf(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${Rf(n)}`)}(t,e)}function F0(t,e){const n={};return Ry(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):di(t,(r,i)=>{const s=j0(i,e.Xc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function B0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof xf||t instanceof Zr||t instanceof gt||t instanceof R0)}function U0(t,e,n){if(!B0(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Rf(n);throw r==="an object"?e.ia(t+" a custom object"):e.ia(t+" "+r)}}function c2(t,e,n){if((e=Hr(e))instanceof $f)return e._internalPath;if(typeof e=="string")return V0(t,e);throw Da("Field path arguments must be of type string or ",t,!1,void 0,n)}const d2=new RegExp("[~\\*/\\[\\]]");function V0(t,e,n){if(e.search(d2)>=0)throw Da(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $f(...e.split("."))._internalPath}catch{throw Da(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Da(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Y($.INVALID_ARGUMENT,u+t+l)}function f2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(q0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class h2 extends H0{data(){return super.data()}}function q0(t,e){return typeof e=="string"?V0(t,e):e instanceof $f?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class m2{convertValue(e,n="none"){switch(sr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw J()}}convertObject(e,n){const r={};return di(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new xf(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cs(e));default:return null}}convertTimestamp(e){const n=Mn(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);ge(h0(r));const i=new bs(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||rn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class K0 extends H0{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(q0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uo extends K0{data(e={}){return super.data(e)}}class g2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uo(this._firestore,this._userDataWriter,r.key,r,new xi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const u=new Uo(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const u=new Uo(r._firestore,r._userDataWriter,o.doc.key,o.doc,new xi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,d=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:v2(o.type),doc:u,oldIndex:l,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function v2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}class G0 extends m2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function y2(t,e,n){t=Cn(t,gt);const r=Cn(t.firestore,Jr),i=W0(t.converter,e,n);return jf(r,[z0(x0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Rt.none())])}function w2(t){return jf(Cn(t.firestore,Jr),[new Ef(t._key,Rt.none())])}function _2(t,e){const n=Cn(t.firestore,Jr),r=Wc(t),i=W0(t.converter,e);return jf(n,[z0(x0(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Rt.exists(!1))]).then(()=>r)}function E2(t,...e){var n,r,i;t=Hr(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||mm(e[o])||(s=e[o],o++);const u={includeMetadataChanges:s.includeMetadataChanges};if(mm(e[o])){const _=e[o];e[o]=(n=_.next)===null||n===void 0?void 0:n.bind(_),e[o+1]=(r=_.error)===null||r===void 0?void 0:r.bind(_),e[o+2]=(i=_.complete)===null||i===void 0?void 0:i.bind(_)}let l,d,h;if(t instanceof gt)d=Cn(t.firestore,Jr),h=_f(t._key.path),l={next:_=>{e[o]&&e[o](S2(d,t,_))},error:e[o+1],complete:e[o+2]};else{const _=Cn(t,xu);d=Cn(_.firestore,Jr),h=_._query;const v=new G0(d);l={next:T=>{e[o]&&e[o](new g2(d,v,_,T))},error:e[o+1],complete:e[o+2]},p2(t._query)}return function(_,v,T,I){const C=new XC(I),y=new OC(v,C,T);return _.asyncQueue.enqueueAndForget(async()=>AC(await cm(_),y)),()=>{C.yc(),_.asyncQueue.enqueueAndForget(async()=>DC(await cm(_),y))}}(O0(d),h,u,l)}function jf(t,e){return function(n,r){const i=new Jn;return n.asyncQueue.enqueueAndForget(async()=>BC(await t2(n),r,i)),i.promise}(O0(t),e)}function S2(t,e,n){const r=n.docs.get(e._key),i=new G0(t);return new K0(t,i,e._key,r,new xi(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ci=n})(uE),pa(new gs("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Jr(new CS(n.getProvider("auth-internal")),new PS(n.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bs(u.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),xr($p,"3.10.1",t),xr($p,"3.10.1","esm2017")})();var k2="firebase",C2="9.20.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(k2,C2,"app");const b2={apiKey:"AIzaSyACjFQQT8Q3PDEas_apEt15z32zO_b95Tk",authDomain:"react-notes-67116.firebaseapp.com",projectId:"react-notes-67116",storageBucket:"react-notes-67116.appspot.com",messagingSenderId:"506553107004",appId:"1:506553107004:web:881511bd717d1cb9f1b939"},T2=Av(b2),Kc=o2(T2),gm=i2(Kc,"notes");function I2(){const[t,e]=De.useState([]),[n,r]=De.useState(""),[i,s]=De.useState(""),o=t.find(_=>_.id===n)||t[0],u=[...t].sort((_,v)=>v.updatedAt-_.updatedAt);De.useEffect(()=>E2(gm,v=>{const T=v.docs.map(I=>({...I.data(),id:I.id}));e(T)}),[]),De.useEffect(()=>{var _;t.length>0&&!n&&r((_=t[0])==null?void 0:_.id)},[t,n]),De.useEffect(()=>{o&&s(o.body)},[o]),De.useEffect(()=>{const _=setTimeout(()=>{o&&i!==o.body&&d(i)},500);return()=>clearTimeout(_)},[i,o]);async function l(){const _={body:"# Type your markdown note's title here",createdAt:Date.now(),updatedAt:Date.now()},v=await _2(gm,_);r(v.id)}async function d(_){const v=Wc(Kc,"notes",n);await y2(v,{body:_,updatedAt:Date.now()},{merge:!0})}async function h(_){const v=Wc(Kc,"notes",_);await w2(v)}return Me.jsx("main",{children:t.length>0?Me.jsxs(Wd,{sizes:[30,70],direction:"horizontal",className:"split",children:[Me.jsx(o3,{notes:u,currentNote:o,setCurrentNoteId:r,newNote:l,deleteNote:h}),Me.jsx(x_,{tempNoteText:i,setTempNoteText:s})]}):Me.jsxs("div",{className:"no-notes",children:[Me.jsx("h1",{children:"You have no notes"}),Me.jsx("button",{className:"first-note",onClick:l,children:"Create one now"})]})})}s3.render(Me.jsx(I2,{}),document.getElementById("root"));
